/* valagtypemodule.c generated by valac, the Vala compiler
 * generated from valagtypemodule.vala, do not modify */

/* valagtypemodule.vala
 *
 * Copyright (C) 2006-2010  Jürg Billeter
 * Copyright (C) 2006-2008  Raffaele Sandrini
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 *	Raffaele Sandrini <raffaele@sandrini.ch>
 */

#include <glib.h>
#include <glib-object.h>
#include <vala.h>
#include <valagee.h>
#include <valaccode.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>


#define VALA_TYPE_CCODE_BASE_MODULE (vala_ccode_base_module_get_type ())
#define VALA_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModule))
#define VALA_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))
#define VALA_IS_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_IS_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_CCODE_BASE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))

typedef struct _ValaCCodeBaseModule ValaCCodeBaseModule;
typedef struct _ValaCCodeBaseModuleClass ValaCCodeBaseModuleClass;
typedef struct _ValaCCodeBaseModulePrivate ValaCCodeBaseModulePrivate;

#define VALA_TYPE_CCODE_DECLARATION_SPACE (vala_ccode_declaration_space_get_type ())
#define VALA_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpace))
#define VALA_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))
#define VALA_IS_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_IS_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_CCODE_DECLARATION_SPACE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))

typedef struct _ValaCCodeDeclarationSpace ValaCCodeDeclarationSpace;
typedef struct _ValaCCodeDeclarationSpaceClass ValaCCodeDeclarationSpaceClass;

#define VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT (vala_ccode_base_module_emit_context_get_type ())
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContext))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))

typedef struct _ValaCCodeBaseModuleEmitContext ValaCCodeBaseModuleEmitContext;
typedef struct _ValaCCodeBaseModuleEmitContextClass ValaCCodeBaseModuleEmitContextClass;

#define VALA_TYPE_CCODE_STRUCT_MODULE (vala_ccode_struct_module_get_type ())
#define VALA_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModule))
#define VALA_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))
#define VALA_IS_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_IS_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_CCODE_STRUCT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))

typedef struct _ValaCCodeStructModule ValaCCodeStructModule;
typedef struct _ValaCCodeStructModuleClass ValaCCodeStructModuleClass;
typedef struct _ValaCCodeStructModulePrivate ValaCCodeStructModulePrivate;

#define VALA_TYPE_CCODE_METHOD_MODULE (vala_ccode_method_module_get_type ())
#define VALA_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModule))
#define VALA_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))
#define VALA_IS_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_IS_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_CCODE_METHOD_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))

typedef struct _ValaCCodeMethodModule ValaCCodeMethodModule;
typedef struct _ValaCCodeMethodModuleClass ValaCCodeMethodModuleClass;
typedef struct _ValaCCodeMethodModulePrivate ValaCCodeMethodModulePrivate;

#define VALA_TYPE_CCODE_CONTROL_FLOW_MODULE (vala_ccode_control_flow_module_get_type ())
#define VALA_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModule))
#define VALA_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_CCODE_CONTROL_FLOW_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))

typedef struct _ValaCCodeControlFlowModule ValaCCodeControlFlowModule;
typedef struct _ValaCCodeControlFlowModuleClass ValaCCodeControlFlowModuleClass;
typedef struct _ValaCCodeControlFlowModulePrivate ValaCCodeControlFlowModulePrivate;

#define VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE (vala_ccode_member_access_module_get_type ())
#define VALA_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModule))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))

typedef struct _ValaCCodeMemberAccessModule ValaCCodeMemberAccessModule;
typedef struct _ValaCCodeMemberAccessModuleClass ValaCCodeMemberAccessModuleClass;
typedef struct _ValaCCodeMemberAccessModulePrivate ValaCCodeMemberAccessModulePrivate;

#define VALA_TYPE_CCODE_ASSIGNMENT_MODULE (vala_ccode_assignment_module_get_type ())
#define VALA_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModule))
#define VALA_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_CCODE_ASSIGNMENT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))

typedef struct _ValaCCodeAssignmentModule ValaCCodeAssignmentModule;
typedef struct _ValaCCodeAssignmentModuleClass ValaCCodeAssignmentModuleClass;
typedef struct _ValaCCodeAssignmentModulePrivate ValaCCodeAssignmentModulePrivate;

#define VALA_TYPE_CCODE_METHOD_CALL_MODULE (vala_ccode_method_call_module_get_type ())
#define VALA_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModule))
#define VALA_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))
#define VALA_IS_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_IS_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_CCODE_METHOD_CALL_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))

typedef struct _ValaCCodeMethodCallModule ValaCCodeMethodCallModule;
typedef struct _ValaCCodeMethodCallModuleClass ValaCCodeMethodCallModuleClass;
typedef struct _ValaCCodeMethodCallModulePrivate ValaCCodeMethodCallModulePrivate;

#define VALA_TYPE_CCODE_ARRAY_MODULE (vala_ccode_array_module_get_type ())
#define VALA_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModule))
#define VALA_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))
#define VALA_IS_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_IS_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_CCODE_ARRAY_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))

typedef struct _ValaCCodeArrayModule ValaCCodeArrayModule;
typedef struct _ValaCCodeArrayModuleClass ValaCCodeArrayModuleClass;
typedef struct _ValaCCodeArrayModulePrivate ValaCCodeArrayModulePrivate;

#define VALA_TYPE_CCODE_DELEGATE_MODULE (vala_ccode_delegate_module_get_type ())
#define VALA_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModule))
#define VALA_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))
#define VALA_IS_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_IS_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_CCODE_DELEGATE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))

typedef struct _ValaCCodeDelegateModule ValaCCodeDelegateModule;
typedef struct _ValaCCodeDelegateModuleClass ValaCCodeDelegateModuleClass;
typedef struct _ValaCCodeDelegateModulePrivate ValaCCodeDelegateModulePrivate;

#define VALA_TYPE_GERROR_MODULE (vala_gerror_module_get_type ())
#define VALA_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModule))
#define VALA_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))
#define VALA_IS_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GERROR_MODULE))
#define VALA_IS_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GERROR_MODULE))
#define VALA_GERROR_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))

typedef struct _ValaGErrorModule ValaGErrorModule;
typedef struct _ValaGErrorModuleClass ValaGErrorModuleClass;
typedef struct _ValaGErrorModulePrivate ValaGErrorModulePrivate;

#define VALA_TYPE_GTYPE_MODULE (vala_gtype_module_get_type ())
#define VALA_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModule))
#define VALA_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))
#define VALA_IS_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GTYPE_MODULE))
#define VALA_IS_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GTYPE_MODULE))
#define VALA_GTYPE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))

typedef struct _ValaGTypeModule ValaGTypeModule;
typedef struct _ValaGTypeModuleClass ValaGTypeModuleClass;
typedef struct _ValaGTypeModulePrivate ValaGTypeModulePrivate;

#define VALA_TYPE_TYPEREGISTER_FUNCTION (vala_typeregister_function_get_type ())
#define VALA_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunction))
#define VALA_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))
#define VALA_IS_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_IS_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_TYPEREGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))

typedef struct _ValaTypeRegisterFunction ValaTypeRegisterFunction;
typedef struct _ValaTypeRegisterFunctionClass ValaTypeRegisterFunctionClass;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _vala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_node_unref (var), NULL)))

#define VALA_TYPE_CLASS_REGISTER_FUNCTION (vala_class_register_function_get_type ())
#define VALA_CLASS_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CLASS_REGISTER_FUNCTION, ValaClassRegisterFunction))
#define VALA_CLASS_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CLASS_REGISTER_FUNCTION, ValaClassRegisterFunctionClass))
#define VALA_IS_CLASS_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CLASS_REGISTER_FUNCTION))
#define VALA_IS_CLASS_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CLASS_REGISTER_FUNCTION))
#define VALA_CLASS_REGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CLASS_REGISTER_FUNCTION, ValaClassRegisterFunctionClass))

typedef struct _ValaClassRegisterFunction ValaClassRegisterFunction;
typedef struct _ValaClassRegisterFunctionClass ValaClassRegisterFunctionClass;
#define _vala_typeregister_function_unref0(var) ((var == NULL) ? NULL : (var = (vala_typeregister_function_unref (var), NULL)))
#define _vala_collection_object_unref0(var) ((var == NULL) ? NULL : (var = (vala_collection_object_unref (var), NULL)))
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _vala_ccode_base_module_emit_context_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_base_module_emit_context_unref (var), NULL)))

#define VALA_TYPE_INTERFACE_REGISTER_FUNCTION (vala_interface_register_function_get_type ())
#define VALA_INTERFACE_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_INTERFACE_REGISTER_FUNCTION, ValaInterfaceRegisterFunction))
#define VALA_INTERFACE_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_INTERFACE_REGISTER_FUNCTION, ValaInterfaceRegisterFunctionClass))
#define VALA_IS_INTERFACE_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_INTERFACE_REGISTER_FUNCTION))
#define VALA_IS_INTERFACE_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_INTERFACE_REGISTER_FUNCTION))
#define VALA_INTERFACE_REGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_INTERFACE_REGISTER_FUNCTION, ValaInterfaceRegisterFunctionClass))

typedef struct _ValaInterfaceRegisterFunction ValaInterfaceRegisterFunction;
typedef struct _ValaInterfaceRegisterFunctionClass ValaInterfaceRegisterFunctionClass;

#define VALA_TYPE_STRUCT_REGISTER_FUNCTION (vala_struct_register_function_get_type ())
#define VALA_STRUCT_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_STRUCT_REGISTER_FUNCTION, ValaStructRegisterFunction))
#define VALA_STRUCT_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_STRUCT_REGISTER_FUNCTION, ValaStructRegisterFunctionClass))
#define VALA_IS_STRUCT_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_STRUCT_REGISTER_FUNCTION))
#define VALA_IS_STRUCT_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_STRUCT_REGISTER_FUNCTION))
#define VALA_STRUCT_REGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_STRUCT_REGISTER_FUNCTION, ValaStructRegisterFunctionClass))

typedef struct _ValaStructRegisterFunction ValaStructRegisterFunction;
typedef struct _ValaStructRegisterFunctionClass ValaStructRegisterFunctionClass;

#define VALA_TYPE_ENUM_REGISTER_FUNCTION (vala_enum_register_function_get_type ())
#define VALA_ENUM_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_ENUM_REGISTER_FUNCTION, ValaEnumRegisterFunction))
#define VALA_ENUM_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_ENUM_REGISTER_FUNCTION, ValaEnumRegisterFunctionClass))
#define VALA_IS_ENUM_REGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_ENUM_REGISTER_FUNCTION))
#define VALA_IS_ENUM_REGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_ENUM_REGISTER_FUNCTION))
#define VALA_ENUM_REGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_ENUM_REGISTER_FUNCTION, ValaEnumRegisterFunctionClass))

typedef struct _ValaEnumRegisterFunction ValaEnumRegisterFunction;
typedef struct _ValaEnumRegisterFunctionClass ValaEnumRegisterFunctionClass;

#define VALA_TYPE_CTYPE (vala_ctype_get_type ())
#define VALA_CTYPE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CTYPE, ValaCType))
#define VALA_CTYPE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CTYPE, ValaCTypeClass))
#define VALA_IS_CTYPE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CTYPE))
#define VALA_IS_CTYPE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CTYPE))
#define VALA_CTYPE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CTYPE, ValaCTypeClass))

typedef struct _ValaCType ValaCType;
typedef struct _ValaCTypeClass ValaCTypeClass;

struct _ValaCCodeBaseModule {
	ValaCodeGenerator parent_instance;
	ValaCCodeBaseModulePrivate * priv;
	ValaSymbol* root_symbol;
	ValaCCodeBaseModuleEmitContext* emit_context;
	ValaCCodeDeclarationSpace* header_declarations;
	ValaCCodeDeclarationSpace* internal_header_declarations;
	ValaCCodeDeclarationSpace* source_declarations;
	ValaCCodeFragment* source_signal_marshaller_declaration;
	ValaCCodeFragment* source_type_member_definition;
	ValaCCodeFragment* class_init_fragment;
	ValaCCodeFragment* base_init_fragment;
	ValaCCodeFragment* class_finalize_fragment;
	ValaCCodeFragment* base_finalize_fragment;
	ValaCCodeFragment* instance_init_fragment;
	ValaCCodeFragment* instance_finalize_fragment;
	ValaCCodeFragment* source_signal_marshaller_definition;
	ValaCCodeStruct* param_spec_struct;
	ValaCCodeStruct* closure_struct;
	ValaCCodeEnum* prop_enum;
	ValaCCodeFunction* function;
	ValaCCodeFragment* pre_statement_fragment;
	ValaSet* user_marshal_set;
	ValaSet* predefined_marshal_set;
	gint next_regex_id;
	gboolean in_constructor;
	gboolean in_static_or_class_context;
	gint next_coroutine_state;
	ValaDataType* void_type;
	ValaDataType* bool_type;
	ValaDataType* char_type;
	ValaDataType* uchar_type;
	ValaDataType* unichar_type;
	ValaDataType* short_type;
	ValaDataType* ushort_type;
	ValaDataType* int_type;
	ValaDataType* uint_type;
	ValaDataType* long_type;
	ValaDataType* ulong_type;
	ValaDataType* int8_type;
	ValaDataType* uint8_type;
	ValaDataType* int16_type;
	ValaDataType* uint16_type;
	ValaDataType* int32_type;
	ValaDataType* uint32_type;
	ValaDataType* int64_type;
	ValaDataType* uint64_type;
	ValaDataType* string_type;
	ValaDataType* regex_type;
	ValaDataType* float_type;
	ValaDataType* double_type;
	ValaTypeSymbol* gtype_type;
	ValaTypeSymbol* gobject_type;
	ValaErrorType* gerror_type;
	ValaClass* glist_type;
	ValaClass* gslist_type;
	ValaClass* gnode_type;
	ValaClass* gvaluearray_type;
	ValaTypeSymbol* gstringbuilder_type;
	ValaTypeSymbol* garray_type;
	ValaTypeSymbol* gbytearray_type;
	ValaTypeSymbol* gptrarray_type;
	ValaTypeSymbol* gthreadpool_type;
	ValaDataType* gquark_type;
	ValaStruct* gvalue_type;
	ValaClass* gvariant_type;
	ValaStruct* mutex_type;
	ValaTypeSymbol* type_module_type;
	ValaTypeSymbol* dbus_proxy_type;
	ValaTypeSymbol* dbus_object_type;
	gboolean in_plugin;
	char* module_init_param_name;
	gboolean gvaluecollector_h_needed;
	gboolean requires_array_free;
	gboolean requires_array_move;
	gboolean requires_array_length;
	gboolean requires_strcmp0;
	ValaSet* wrappers;
};

struct _ValaCCodeBaseModuleClass {
	ValaCodeGeneratorClass parent_class;
	void (*append_vala_array_free) (ValaCCodeBaseModule* self);
	void (*append_vala_array_move) (ValaCCodeBaseModule* self);
	void (*append_vala_array_length) (ValaCCodeBaseModule* self);
	gboolean (*generate_enum_declaration) (ValaCCodeBaseModule* self, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_class_struct_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_struct_declaration) (ValaCCodeBaseModule* self, ValaStruct* st, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_delegate_declaration) (ValaCCodeBaseModule* self, ValaDelegate* d, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_cparameters) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
	ValaCCodeExpression* (*get_dup_func_expression) (ValaCCodeBaseModule* self, ValaDataType* type, ValaSourceReference* source_reference, gboolean is_chainup);
	char* (*append_struct_array_free) (ValaCCodeBaseModule* self, ValaStruct* st);
	ValaCCodeExpression* (*get_unref_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* cvar, ValaDataType* type, ValaExpression* expr, gboolean is_macro_definition);
	void (*append_local_free) (ValaCCodeBaseModule* self, ValaSymbol* sym, ValaCCodeFragment* cfrag, gboolean stop_at_loop);
	char* (*get_delegate_target_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_delegate_target_cexpression) (ValaCCodeBaseModule* self, ValaExpression* delegate_expr, ValaCCodeExpression** delegate_target_destroy_notify);
	char* (*get_delegate_target_destroy_notify_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_ref_cexpression) (ValaCCodeBaseModule* self, ValaDataType* expression_type, ValaCCodeExpression* cexpr, ValaExpression* expr, ValaCodeNode* node);
	void (*generate_class_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_interface_declaration) (ValaCCodeBaseModule* self, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_method_declaration) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_error_domain_declaration) (ValaCCodeBaseModule* self, ValaErrorDomain* edomain, ValaCCodeDeclarationSpace* decl_space);
	ValaCCodeExpression* (*deserialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*serialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*get_implicit_cast_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* source_cexpr, ValaDataType* expression_type, ValaDataType* target_type, ValaExpression* expr);
	gboolean (*is_gobject_property) (ValaCCodeBaseModule* self, ValaProperty* prop);
	char* (*get_custom_creturn_type) (ValaCCodeBaseModule* self, ValaMethod* m);
	void (*generate_dynamic_method_wrapper) (ValaCCodeBaseModule* self, ValaDynamicMethod* method);
	gboolean (*method_has_wrapper) (ValaCCodeBaseModule* self, ValaMethod* method);
	ValaCCodeExpression* (*get_construct_property_assignment) (ValaCCodeBaseModule* self, ValaCCodeConstant* canonical_cconstant, ValaDataType* property_type, ValaCCodeExpression* value);
	ValaCCodeFunctionCall* (*get_param_spec) (ValaCCodeBaseModule* self, ValaProperty* prop);
	ValaCCodeFunctionCall* (*get_signal_creation) (ValaCCodeBaseModule* self, ValaSignal* sig, ValaTypeSymbol* type);
	ValaCCodeFragment* (*register_dbus_info) (ValaCCodeBaseModule* self, ValaObjectTypeSymbol* bindable);
	char* (*get_dynamic_property_getter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_property_setter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_signal_cname) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_after_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_disconnect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	void (*generate_marshaller) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, gboolean dbus);
	char* (*get_marshaller_function) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, const char* prefix, gboolean dbus);
	char* (*get_array_length_cname) (ValaCCodeBaseModule* self, const char* array_cname, gint dim);
	char* (*get_parameter_array_length_cname) (ValaCCodeBaseModule* self, ValaFormalParameter* param, gint dim);
	ValaCCodeExpression* (*get_array_length_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr, gint dim);
	char* (*get_array_size_cname) (ValaCCodeBaseModule* self, const char* array_cname);
	ValaCCodeExpression* (*get_array_size_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr);
	void (*add_simple_check) (ValaCCodeBaseModule* self, ValaCodeNode* node, ValaCCodeFragment* cfrag, gboolean always_fails);
};

struct _ValaCCodeStructModule {
	ValaCCodeBaseModule parent_instance;
	ValaCCodeStructModulePrivate * priv;
};

struct _ValaCCodeStructModuleClass {
	ValaCCodeBaseModuleClass parent_class;
};

struct _ValaCCodeMethodModule {
	ValaCCodeStructModule parent_instance;
	ValaCCodeMethodModulePrivate * priv;
};

struct _ValaCCodeMethodModuleClass {
	ValaCCodeStructModuleClass parent_class;
	void (*generate_method_result_declaration) (ValaCCodeMethodModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeFunction* cfunc, ValaMap* cparam_map, ValaMap* carg_map);
	void (*generate_parameter) (ValaCCodeMethodModule* self, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map);
};

struct _ValaCCodeControlFlowModule {
	ValaCCodeMethodModule parent_instance;
	ValaCCodeControlFlowModulePrivate * priv;
};

struct _ValaCCodeControlFlowModuleClass {
	ValaCCodeMethodModuleClass parent_class;
};

struct _ValaCCodeMemberAccessModule {
	ValaCCodeControlFlowModule parent_instance;
	ValaCCodeMemberAccessModulePrivate * priv;
};

struct _ValaCCodeMemberAccessModuleClass {
	ValaCCodeControlFlowModuleClass parent_class;
};

struct _ValaCCodeAssignmentModule {
	ValaCCodeMemberAccessModule parent_instance;
	ValaCCodeAssignmentModulePrivate * priv;
};

struct _ValaCCodeAssignmentModuleClass {
	ValaCCodeMemberAccessModuleClass parent_class;
};

struct _ValaCCodeMethodCallModule {
	ValaCCodeAssignmentModule parent_instance;
	ValaCCodeMethodCallModulePrivate * priv;
};

struct _ValaCCodeMethodCallModuleClass {
	ValaCCodeAssignmentModuleClass parent_class;
};

struct _ValaCCodeArrayModule {
	ValaCCodeMethodCallModule parent_instance;
	ValaCCodeArrayModulePrivate * priv;
};

struct _ValaCCodeArrayModuleClass {
	ValaCCodeMethodCallModuleClass parent_class;
};

struct _ValaCCodeDelegateModule {
	ValaCCodeArrayModule parent_instance;
	ValaCCodeDelegateModulePrivate * priv;
};

struct _ValaCCodeDelegateModuleClass {
	ValaCCodeArrayModuleClass parent_class;
};

struct _ValaGErrorModule {
	ValaCCodeDelegateModule parent_instance;
	ValaGErrorModulePrivate * priv;
};

struct _ValaGErrorModuleClass {
	ValaCCodeDelegateModuleClass parent_class;
	ValaCCodeStatement* (*return_with_exception) (ValaGErrorModule* self, ValaCCodeExpression* error_expr);
};

struct _ValaGTypeModule {
	ValaGErrorModule parent_instance;
	ValaGTypeModulePrivate * priv;
};

struct _ValaGTypeModuleClass {
	ValaGErrorModuleClass parent_class;
	void (*generate_virtual_method_declaration) (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
	void (*generate_class_init) (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block);
	ValaTypeRegisterFunction* (*create_interface_register_function) (ValaGTypeModule* self, ValaInterface* iface);
};


static gpointer vala_gtype_module_parent_class = NULL;

GType vala_ccode_base_module_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_declaration_space_ref (gpointer instance);
void vala_ccode_declaration_space_unref (gpointer instance);
GParamSpec* vala_param_spec_ccode_declaration_space (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_ccode_declaration_space (GValue* value, gpointer v_object);
void vala_value_take_ccode_declaration_space (GValue* value, gpointer v_object);
gpointer vala_value_get_ccode_declaration_space (const GValue* value);
GType vala_ccode_declaration_space_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_base_module_emit_context_ref (gpointer instance);
void vala_ccode_base_module_emit_context_unref (gpointer instance);
GParamSpec* vala_ccode_base_module_param_spec_emit_context (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_ccode_base_module_value_set_emit_context (GValue* value, gpointer v_object);
void vala_ccode_base_module_value_take_emit_context (GValue* value, gpointer v_object);
gpointer vala_ccode_base_module_value_get_emit_context (const GValue* value);
GType vala_ccode_base_module_emit_context_get_type (void) G_GNUC_CONST;
GType vala_ccode_struct_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_control_flow_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_member_access_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_assignment_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_call_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_array_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_delegate_module_get_type (void) G_GNUC_CONST;
GType vala_gerror_module_get_type (void) G_GNUC_CONST;
GType vala_gtype_module_get_type (void) G_GNUC_CONST;
gpointer vala_typeregister_function_ref (gpointer instance);
void vala_typeregister_function_unref (gpointer instance);
GParamSpec* vala_param_spec_typeregister_function (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_typeregister_function (GValue* value, gpointer v_object);
void vala_value_take_typeregister_function (GValue* value, gpointer v_object);
gpointer vala_value_get_typeregister_function (const GValue* value);
GType vala_typeregister_function_get_type (void) G_GNUC_CONST;
enum  {
	VALA_GTYPE_MODULE_DUMMY_PROPERTY
};
static void vala_gtype_module_real_generate_parameter (ValaCCodeMethodModule* base, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map);
void vala_ccode_method_module_generate_parameter (ValaCCodeMethodModule* self, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map);
void vala_ccode_base_module_generate_type_declaration (ValaCCodeBaseModule* self, ValaDataType* type, ValaCCodeDeclarationSpace* decl_space);
char* vala_ccode_base_module_get_variable_cname (ValaCCodeBaseModule* self, const char* name);
gint vala_ccode_base_module_get_param_pos (ValaCCodeBaseModule* self, double param_pos, gboolean ellipsis);
ValaCCodeExpression* vala_ccode_base_module_get_variable_cexpression (ValaCCodeBaseModule* self, const char* name);
static void vala_gtype_module_real_generate_class_declaration (ValaCCodeBaseModule* base, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
gboolean vala_ccode_declaration_space_add_symbol_declaration (ValaCCodeDeclarationSpace* self, ValaSymbol* sym, const char* name);
void vala_ccode_base_module_generate_class_declaration (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
void vala_ccode_declaration_space_add_type_declaration (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
char* vala_ccode_base_module_get_type_check_function (ValaCCodeBaseModule* self, ValaTypeSymbol* type);
void vala_ccode_declaration_space_add_type_member_declaration (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
ValaCodeContext* vala_ccode_base_module_get_context (ValaCCodeBaseModule* self);
ValaClassRegisterFunction* vala_class_register_function_new (ValaClass* cl, ValaCodeContext* context);
ValaClassRegisterFunction* vala_class_register_function_construct (GType object_type, ValaClass* cl, ValaCodeContext* context);
GType vala_class_register_function_get_type (void) G_GNUC_CONST;
void vala_typeregister_function_init_from_type (ValaTypeRegisterFunction* self, gboolean plugin);
ValaCCodeFragment* vala_typeregister_function_get_declaration (ValaTypeRegisterFunction* self);
static void vala_gtype_module_real_generate_class_struct_declaration (ValaCCodeBaseModule* base, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
void vala_ccode_base_module_generate_class_struct_declaration (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
void vala_ccode_base_module_generate_interface_declaration (ValaCCodeBaseModule* self, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space);
void vala_ccode_declaration_space_add_include (ValaCCodeDeclarationSpace* self, const char* filename, gboolean local);
void vala_gtype_module_generate_virtual_method_declaration (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
char* vala_ccode_base_module_get_array_length_cname (ValaCCodeBaseModule* self, const char* array_cname, gint dim);
char* vala_ccode_base_module_get_delegate_target_cname (ValaCCodeBaseModule* self, const char* delegate_cname);
char* vala_ccode_base_module_get_array_size_cname (ValaCCodeBaseModule* self, const char* array_cname);
char* vala_ccode_base_module_get_delegate_target_destroy_notify_cname (ValaCCodeBaseModule* self, const char* delegate_cname);
void vala_ccode_declaration_space_add_type_definition (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
static void vala_gtype_module_real_generate_virtual_method_declaration (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
void vala_ccode_base_module_generate_cparameters (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
static void vala_gtype_module_generate_class_private_declaration (ValaGTypeModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
gboolean vala_ccode_declaration_space_add_declaration (ValaCCodeDeclarationSpace* self, const char* name);
char* vala_ccode_base_module_get_symbol_lock_name (ValaCCodeBaseModule* self, const char* symname);
static void vala_gtype_module_real_visit_class (ValaCodeVisitor* base, ValaClass* cl);
void vala_ccode_base_module_push_context (ValaCCodeBaseModule* self, ValaCCodeBaseModuleEmitContext* emit_context);
ValaCCodeBaseModuleEmitContext* vala_ccode_base_module_emit_context_new (ValaSymbol* symbol);
ValaCCodeBaseModuleEmitContext* vala_ccode_base_module_emit_context_construct (GType object_type, ValaSymbol* symbol);
static void vala_gtype_module_add_type_value_table_init_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_type_value_table_free_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_type_value_table_copy_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_type_value_table_peek_pointer_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_type_value_table_collect_value_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_type_value_table_lcopy_value_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_g_param_spec_type_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_g_value_get_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_g_value_set_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_g_value_take_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_base_init_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_class_init_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_base_finalize_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_class_finalize_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_interface_init_function (ValaGTypeModule* self, ValaClass* cl, ValaInterface* iface);
static void vala_gtype_module_add_instance_init_function (ValaGTypeModule* self, ValaClass* cl);
static void vala_gtype_module_add_finalize_function (ValaGTypeModule* self, ValaClass* cl);
ValaCCodeFragment* vala_typeregister_function_get_source_declaration (ValaTypeRegisterFunction* self);
ValaCCodeFragment* vala_typeregister_function_get_definition (ValaTypeRegisterFunction* self);
void vala_ccode_base_module_pop_context (ValaCCodeBaseModule* self);
void vala_gtype_module_generate_class_init (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block);
static void vala_gtype_module_real_generate_class_init (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block);
ValaCCodeFunctionCall* vala_ccode_base_module_get_signal_creation (ValaCCodeBaseModule* self, ValaSignal* sig, ValaTypeSymbol* type);
ValaCCodeFragment* vala_ccode_base_module_register_dbus_info (ValaCCodeBaseModule* self, ValaObjectTypeSymbol* bindable);
static ValaCCodeExpression* vala_gtype_module_cast_method_pointer (ValaGTypeModule* self, ValaMethod* m, ValaCCodeExpression* cfunc, ValaObjectTypeSymbol* base_type);
void vala_ccode_base_module_generate_method_declaration (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
static ValaCCodeExpression* vala_gtype_module_cast_property_accessor_pointer (ValaGTypeModule* self, ValaPropertyAccessor* acc, ValaCCodeExpression* cfunc, ValaObjectTypeSymbol* base_type);
void vala_ccode_base_module_generate_property_accessor_declaration (ValaCCodeBaseModule* self, ValaPropertyAccessor* acc, ValaCCodeDeclarationSpace* decl_space);
ValaCCodeFunctionCall* vala_ccode_base_module_generate_instance_cast (ValaCCodeBaseModule* self, ValaCCodeExpression* expr, ValaTypeSymbol* type);
static ValaCCodeFunctionCall* vala_gtype_module_real_get_param_spec (ValaCCodeBaseModule* base, ValaProperty* prop);
static void vala_gtype_module_real_generate_interface_declaration (ValaCCodeBaseModule* base, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space);
ValaTypeRegisterFunction* vala_gtype_module_create_interface_register_function (ValaGTypeModule* self, ValaInterface* iface);
static void vala_gtype_module_real_visit_interface (ValaCodeVisitor* base, ValaInterface* iface);
static void vala_gtype_module_add_interface_base_init_function (ValaGTypeModule* self, ValaInterface* iface);
static ValaTypeRegisterFunction* vala_gtype_module_real_create_interface_register_function (ValaGTypeModule* self, ValaInterface* iface);
ValaInterfaceRegisterFunction* vala_interface_register_function_new (ValaInterface* iface, ValaCodeContext* context);
ValaInterfaceRegisterFunction* vala_interface_register_function_construct (GType object_type, ValaInterface* iface, ValaCodeContext* context);
GType vala_interface_register_function_get_type (void) G_GNUC_CONST;
gboolean vala_ccode_base_module_is_gobject_property (ValaCCodeBaseModule* self, ValaProperty* prop);
ValaCCodeFunctionCall* vala_ccode_base_module_get_param_spec (ValaCCodeBaseModule* self, ValaProperty* prop);
static void vala_gtype_module_real_visit_struct (ValaCodeVisitor* base, ValaStruct* st);
ValaStructRegisterFunction* vala_struct_register_function_new (ValaStruct* st, ValaCodeContext* context);
ValaStructRegisterFunction* vala_struct_register_function_construct (GType object_type, ValaStruct* st, ValaCodeContext* context);
GType vala_struct_register_function_get_type (void) G_GNUC_CONST;
static void vala_gtype_module_real_visit_enum (ValaCodeVisitor* base, ValaEnum* en);
ValaEnumRegisterFunction* vala_enum_register_function_new (ValaEnum* en, ValaCodeContext* context);
ValaEnumRegisterFunction* vala_enum_register_function_construct (GType object_type, ValaEnum* en, ValaCodeContext* context);
GType vala_enum_register_function_get_type (void) G_GNUC_CONST;
static void vala_gtype_module_real_visit_method_call (ValaCodeVisitor* base, ValaMethodCall* expr);
ValaLocalVariable* vala_ccode_base_module_get_temp_variable (ValaCCodeBaseModule* self, ValaDataType* type, gboolean value_owned, ValaCodeNode* node_reference, gboolean init);
ValaCType* vala_ctype_new (const char* ctype_name);
ValaCType* vala_ctype_construct (GType object_type, const char* ctype_name);
GType vala_ctype_get_type (void) G_GNUC_CONST;
ValaArrayList* vala_ccode_base_module_get_temp_vars (ValaCCodeBaseModule* self);
ValaCCodeNode* vala_ccode_base_module_get_ccodenode (ValaCCodeBaseModule* self, ValaCodeNode* node);
static void vala_gtype_module_real_visit_property (ValaCodeVisitor* base, ValaProperty* prop);
ValaTypeSymbol* vala_ccode_base_module_get_current_type_symbol (ValaCCodeBaseModule* self);
ValaGTypeModule* vala_gtype_module_new (void);
ValaGTypeModule* vala_gtype_module_construct (GType object_type);
ValaGErrorModule* vala_gerror_module_new (void);
ValaGErrorModule* vala_gerror_module_construct (GType object_type);
static int _vala_strcmp0 (const char * str1, const char * str2);



static void vala_gtype_module_real_generate_parameter (ValaCCodeMethodModule* base, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map) {
	ValaGTypeModule * self;
	char* ctypename;
	char* _tmp1_;
	ValaCCodeFormalParameter* _tmp2_;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (param != NULL);
	g_return_if_fail (decl_space != NULL);
	g_return_if_fail (cparam_map != NULL);
	if (!VALA_IS_OBJECT_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
		VALA_CCODE_METHOD_MODULE_CLASS (vala_gtype_module_parent_class)->generate_parameter ((ValaCCodeMethodModule*) VALA_GERROR_MODULE (self), param, decl_space, cparam_map, carg_map);
		return;
	}
	vala_ccode_base_module_generate_type_declaration ((ValaCCodeBaseModule*) self, vala_variable_get_variable_type ((ValaVariable*) param), decl_space);
	ctypename = vala_data_type_get_cname (vala_variable_get_variable_type ((ValaVariable*) param));
	if (vala_formal_parameter_get_direction (param) != VALA_PARAMETER_DIRECTION_IN) {
		char* _tmp0_;
		ctypename = (_tmp0_ = g_strconcat (ctypename, "*", NULL), _g_free0 (ctypename), _tmp0_);
	}
	vala_code_node_set_ccodenode ((ValaCodeNode*) param, (ValaCCodeNode*) (_tmp2_ = vala_ccode_formal_parameter_new (_tmp1_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)), ctypename)));
	_vala_ccode_node_unref0 (_tmp2_);
	_g_free0 (_tmp1_);
	vala_map_set (cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, vala_formal_parameter_get_cparameter_position (param), FALSE)), VALA_CCODE_FORMAL_PARAMETER (vala_code_node_get_ccodenode ((ValaCodeNode*) param)));
	if (carg_map != NULL) {
		ValaCCodeExpression* _tmp3_;
		vala_map_set (carg_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, vala_formal_parameter_get_cparameter_position (param), FALSE)), _tmp3_ = vala_ccode_base_module_get_variable_cexpression ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)));
		_vala_ccode_node_unref0 (_tmp3_);
	}
	_g_free0 (ctypename);
}


static void vala_gtype_module_real_generate_class_declaration (ValaCCodeBaseModule* base, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space) {
	ValaGTypeModule * self;
	char* _tmp0_;
	gboolean _tmp1_;
	gboolean is_gtypeinstance;
	gboolean _tmp2_ = FALSE;
	gboolean is_fundamental;
	gboolean _tmp37_ = FALSE;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (cl != NULL);
	g_return_if_fail (decl_space != NULL);
	if ((_tmp1_ = vala_ccode_declaration_space_add_symbol_declaration (decl_space, (ValaSymbol*) cl, _tmp0_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (_tmp0_), _tmp1_)) {
		return;
	}
	if (vala_class_get_base_class (cl) != NULL) {
		vala_ccode_base_module_generate_class_declaration ((ValaCCodeBaseModule*) self, vala_class_get_base_class (cl), decl_space);
	}
	is_gtypeinstance = !vala_class_get_is_compact (cl);
	if (is_gtypeinstance) {
		_tmp2_ = vala_class_get_base_class (cl) == NULL;
	} else {
		_tmp2_ = FALSE;
	}
	is_fundamental = _tmp2_;
	if (is_gtypeinstance) {
		ValaCCodeNewline* _tmp3_;
		char* _tmp4_;
		char* _tmp5_;
		char* macro;
		char* _tmp6_;
		ValaCCodeMacroReplacement* _tmp7_;
		char* _tmp8_;
		char* _tmp9_;
		char* _tmp10_;
		char* _tmp11_;
		char* _tmp12_;
		ValaCCodeMacroReplacement* _tmp13_;
		char* _tmp14_;
		char* _tmp15_;
		char* _tmp16_;
		char* _tmp17_;
		char* _tmp18_;
		ValaCCodeMacroReplacement* _tmp19_;
		char* _tmp20_;
		char* _tmp21_;
		char* _tmp22_;
		char* _tmp23_;
		ValaCCodeMacroReplacement* _tmp24_;
		char* _tmp25_;
		char* _tmp26_;
		char* _tmp27_;
		char* _tmp28_;
		ValaCCodeMacroReplacement* _tmp29_;
		char* _tmp30_;
		char* _tmp31_;
		char* _tmp32_;
		char* _tmp33_;
		char* _tmp34_;
		ValaCCodeMacroReplacement* _tmp35_;
		ValaCCodeNewline* _tmp36_;
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp3_ = vala_ccode_newline_new ()));
		_vala_ccode_node_unref0 (_tmp3_);
		macro = (_tmp5_ = g_strdup_printf ("(%s_get_type ())", _tmp4_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), _g_free0 (_tmp4_), _tmp5_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp7_ = vala_ccode_macro_replacement_new (_tmp6_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), macro)));
		_vala_ccode_node_unref0 (_tmp7_);
		_g_free0 (_tmp6_);
		macro = (_tmp10_ = g_strdup_printf ("(G_TYPE_CHECK_INSTANCE_CAST ((obj), %s, %s))", _tmp8_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), _tmp9_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (macro), _tmp10_);
		_g_free0 (_tmp9_);
		_g_free0 (_tmp8_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp13_ = vala_ccode_macro_replacement_new (_tmp12_ = g_strdup_printf ("%s(obj)", _tmp11_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), macro)));
		_vala_ccode_node_unref0 (_tmp13_);
		_g_free0 (_tmp12_);
		_g_free0 (_tmp11_);
		macro = (_tmp16_ = g_strdup_printf ("(G_TYPE_CHECK_CLASS_CAST ((klass), %s, %sClass))", _tmp14_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), _tmp15_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (macro), _tmp16_);
		_g_free0 (_tmp15_);
		_g_free0 (_tmp14_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp19_ = vala_ccode_macro_replacement_new (_tmp18_ = g_strdup_printf ("%s_CLASS(klass)", _tmp17_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), macro)));
		_vala_ccode_node_unref0 (_tmp19_);
		_g_free0 (_tmp18_);
		_g_free0 (_tmp17_);
		macro = (_tmp21_ = g_strdup_printf ("(G_TYPE_CHECK_INSTANCE_TYPE ((obj), %s))", _tmp20_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl)), _g_free0 (macro), _tmp21_);
		_g_free0 (_tmp20_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp24_ = vala_ccode_macro_replacement_new (_tmp23_ = g_strdup_printf ("%s(obj)", _tmp22_ = vala_ccode_base_module_get_type_check_function ((ValaCCodeBaseModule*) self, (ValaTypeSymbol*) cl)), macro)));
		_vala_ccode_node_unref0 (_tmp24_);
		_g_free0 (_tmp23_);
		_g_free0 (_tmp22_);
		macro = (_tmp26_ = g_strdup_printf ("(G_TYPE_CHECK_CLASS_TYPE ((klass), %s))", _tmp25_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl)), _g_free0 (macro), _tmp26_);
		_g_free0 (_tmp25_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp29_ = vala_ccode_macro_replacement_new (_tmp28_ = g_strdup_printf ("%s_CLASS(klass)", _tmp27_ = vala_ccode_base_module_get_type_check_function ((ValaCCodeBaseModule*) self, (ValaTypeSymbol*) cl)), macro)));
		_vala_ccode_node_unref0 (_tmp29_);
		_g_free0 (_tmp28_);
		_g_free0 (_tmp27_);
		macro = (_tmp32_ = g_strdup_printf ("(G_TYPE_INSTANCE_GET_CLASS ((obj), %s, %sClass))", _tmp30_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), _tmp31_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (macro), _tmp32_);
		_g_free0 (_tmp31_);
		_g_free0 (_tmp30_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp35_ = vala_ccode_macro_replacement_new (_tmp34_ = g_strdup_printf ("%s_GET_CLASS(obj)", _tmp33_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), macro)));
		_vala_ccode_node_unref0 (_tmp35_);
		_g_free0 (_tmp34_);
		_g_free0 (_tmp33_);
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp36_ = vala_ccode_newline_new ()));
		_vala_ccode_node_unref0 (_tmp36_);
		_g_free0 (macro);
	}
	if (vala_class_get_is_compact (cl)) {
		_tmp37_ = vala_class_get_base_class (cl) != NULL;
	} else {
		_tmp37_ = FALSE;
	}
	if (_tmp37_) {
		char* _tmp38_;
		char* _tmp39_;
		ValaCCodeVariableDeclarator* _tmp40_;
		ValaCCodeTypeDefinition* _tmp41_;
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp41_ = vala_ccode_type_definition_new (_tmp38_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) vala_class_get_base_class (cl), FALSE), (ValaCCodeDeclarator*) (_tmp40_ = vala_ccode_variable_declarator_new (_tmp39_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), NULL, NULL)))));
		_vala_ccode_node_unref0 (_tmp41_);
		_vala_ccode_node_unref0 (_tmp40_);
		_g_free0 (_tmp39_);
		_g_free0 (_tmp38_);
	} else {
		char* _tmp42_;
		char* _tmp43_;
		char* _tmp44_;
		ValaCCodeVariableDeclarator* _tmp45_;
		ValaCCodeTypeDefinition* _tmp46_;
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp46_ = vala_ccode_type_definition_new (_tmp43_ = g_strdup_printf ("struct _%s", _tmp42_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), (ValaCCodeDeclarator*) (_tmp45_ = vala_ccode_variable_declarator_new (_tmp44_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), NULL, NULL)))));
		_vala_ccode_node_unref0 (_tmp46_);
		_vala_ccode_node_unref0 (_tmp45_);
		_g_free0 (_tmp44_);
		_g_free0 (_tmp43_);
		_g_free0 (_tmp42_);
	}
	if (is_fundamental) {
		char* _tmp47_;
		char* _tmp48_;
		ValaCCodeFunction* _tmp49_;
		ValaCCodeFunction* ref_fun;
		char* _tmp50_;
		char* _tmp51_;
		ValaCCodeFunction* _tmp52_;
		ValaCCodeFunction* unref_fun;
		ValaCCodeFormalParameter* _tmp53_;
		ValaCCodeFormalParameter* _tmp54_;
		ValaCCodeFunction* _tmp55_;
		ValaCCodeFunction* _tmp56_;
		char* function_name;
		ValaCCodeFunction* function;
		ValaCCodeFormalParameter* _tmp57_;
		ValaCCodeFormalParameter* _tmp58_;
		ValaCCodeFormalParameter* _tmp59_;
		ValaCCodeFormalParameter* _tmp60_;
		ValaCCodeFormalParameter* _tmp61_;
		char* _tmp62_;
		ValaCCodeFunction* _tmp63_;
		ValaCCodeFormalParameter* _tmp64_;
		ValaCCodeFormalParameter* _tmp65_;
		char* _tmp66_;
		ValaCCodeFunction* _tmp67_;
		ValaCCodeFormalParameter* _tmp68_;
		ValaCCodeFormalParameter* _tmp69_;
		char* _tmp70_;
		ValaCCodeFunction* _tmp71_;
		ValaCCodeFormalParameter* _tmp72_;
		ref_fun = (_tmp49_ = vala_ccode_function_new (_tmp48_ = g_strconcat (_tmp47_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "ref", NULL), "gpointer"), _g_free0 (_tmp48_), _g_free0 (_tmp47_), _tmp49_);
		unref_fun = (_tmp52_ = vala_ccode_function_new (_tmp51_ = g_strconcat (_tmp50_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "unref", NULL), "void"), _g_free0 (_tmp51_), _g_free0 (_tmp50_), _tmp52_);
		if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			vala_ccode_function_set_modifiers (ref_fun, VALA_CCODE_MODIFIERS_STATIC);
			vala_ccode_function_set_modifiers (unref_fun, VALA_CCODE_MODIFIERS_STATIC);
		}
		vala_ccode_function_add_parameter (ref_fun, _tmp53_ = vala_ccode_formal_parameter_new ("instance", "gpointer"));
		_vala_ccode_node_unref0 (_tmp53_);
		vala_ccode_function_add_parameter (unref_fun, _tmp54_ = vala_ccode_formal_parameter_new ("instance", "gpointer"));
		_vala_ccode_node_unref0 (_tmp54_);
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp55_ = vala_ccode_function_copy (ref_fun)));
		_vala_ccode_node_unref0 (_tmp55_);
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp56_ = vala_ccode_function_copy (unref_fun)));
		_vala_ccode_node_unref0 (_tmp56_);
		function_name = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "param_spec_");
		function = vala_ccode_function_new (function_name, "GParamSpec*");
		vala_ccode_function_add_parameter (function, _tmp57_ = vala_ccode_formal_parameter_new ("name", "const gchar*"));
		_vala_ccode_node_unref0 (_tmp57_);
		vala_ccode_function_add_parameter (function, _tmp58_ = vala_ccode_formal_parameter_new ("nick", "const gchar*"));
		_vala_ccode_node_unref0 (_tmp58_);
		vala_ccode_function_add_parameter (function, _tmp59_ = vala_ccode_formal_parameter_new ("blurb", "const gchar*"));
		_vala_ccode_node_unref0 (_tmp59_);
		vala_ccode_function_add_parameter (function, _tmp60_ = vala_ccode_formal_parameter_new ("object_type", "GType"));
		_vala_ccode_node_unref0 (_tmp60_);
		vala_ccode_function_add_parameter (function, _tmp61_ = vala_ccode_formal_parameter_new ("flags", "GParamFlags"));
		_vala_ccode_node_unref0 (_tmp61_);
		if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
			vala_ccode_function_set_attributes (function, "G_GNUC_UNUSED");
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) function);
		function = (_tmp63_ = vala_ccode_function_new (_tmp62_ = vala_typesymbol_get_set_value_function ((ValaTypeSymbol*) cl), "void"), _vala_ccode_node_unref0 (function), _tmp63_);
		_g_free0 (_tmp62_);
		vala_ccode_function_add_parameter (function, _tmp64_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
		_vala_ccode_node_unref0 (_tmp64_);
		vala_ccode_function_add_parameter (function, _tmp65_ = vala_ccode_formal_parameter_new ("v_object", "gpointer"));
		_vala_ccode_node_unref0 (_tmp65_);
		if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
			vala_ccode_function_set_attributes (function, "G_GNUC_UNUSED");
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) function);
		function = (_tmp67_ = vala_ccode_function_new (_tmp66_ = vala_typesymbol_get_take_value_function ((ValaTypeSymbol*) cl), "void"), _vala_ccode_node_unref0 (function), _tmp67_);
		_g_free0 (_tmp66_);
		vala_ccode_function_add_parameter (function, _tmp68_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
		_vala_ccode_node_unref0 (_tmp68_);
		vala_ccode_function_add_parameter (function, _tmp69_ = vala_ccode_formal_parameter_new ("v_object", "gpointer"));
		_vala_ccode_node_unref0 (_tmp69_);
		if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
			vala_ccode_function_set_attributes (function, "G_GNUC_UNUSED");
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) function);
		function = (_tmp71_ = vala_ccode_function_new (_tmp70_ = vala_typesymbol_get_get_value_function ((ValaTypeSymbol*) cl), "gpointer"), _vala_ccode_node_unref0 (function), _tmp71_);
		_g_free0 (_tmp70_);
		vala_ccode_function_add_parameter (function, _tmp72_ = vala_ccode_formal_parameter_new ("value", "const GValue*"));
		_vala_ccode_node_unref0 (_tmp72_);
		if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
			vala_ccode_function_set_attributes (function, "G_GNUC_UNUSED");
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) function);
		_vala_ccode_node_unref0 (function);
		_g_free0 (function_name);
		_vala_ccode_node_unref0 (unref_fun);
		_vala_ccode_node_unref0 (ref_fun);
	} else {
		if (!is_gtypeinstance) {
			if (vala_class_get_base_class (cl) == NULL) {
				char* _tmp73_;
				char* _tmp74_;
				ValaCCodeFunction* _tmp75_;
				ValaCCodeFunction* function;
				char* _tmp76_;
				char* _tmp77_;
				ValaCCodeFormalParameter* _tmp78_;
				function = (_tmp75_ = vala_ccode_function_new (_tmp74_ = g_strconcat (_tmp73_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "free", NULL), "void"), _g_free0 (_tmp74_), _g_free0 (_tmp73_), _tmp75_);
				if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
					vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
				}
				vala_ccode_function_add_parameter (function, _tmp78_ = vala_ccode_formal_parameter_new ("self", _tmp77_ = g_strconcat (_tmp76_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)));
				_vala_ccode_node_unref0 (_tmp78_);
				_g_free0 (_tmp77_);
				_g_free0 (_tmp76_);
				vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) function);
				_vala_ccode_node_unref0 (function);
			}
		}
	}
	if (is_gtypeinstance) {
		char* _tmp79_;
		char* _tmp80_;
		char* _tmp81_;
		char* _tmp82_;
		ValaCCodeVariableDeclarator* _tmp83_;
		ValaCCodeTypeDefinition* _tmp84_;
		ValaClassRegisterFunction* type_fun;
		ValaCCodeFragment* _tmp85_;
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp84_ = vala_ccode_type_definition_new (_tmp80_ = g_strdup_printf ("struct _%sClass", _tmp79_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), (ValaCCodeDeclarator*) (_tmp83_ = vala_ccode_variable_declarator_new (_tmp82_ = g_strdup_printf ("%sClass", _tmp81_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), NULL, NULL)))));
		_vala_ccode_node_unref0 (_tmp84_);
		_vala_ccode_node_unref0 (_tmp83_);
		_g_free0 (_tmp82_);
		_g_free0 (_tmp81_);
		_g_free0 (_tmp80_);
		_g_free0 (_tmp79_);
		type_fun = vala_class_register_function_new (cl, vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self));
		vala_typeregister_function_init_from_type ((ValaTypeRegisterFunction*) type_fun, ((ValaCCodeBaseModule*) self)->in_plugin);
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp85_ = vala_typeregister_function_get_declaration ((ValaTypeRegisterFunction*) type_fun)));
		_vala_ccode_node_unref0 (_tmp85_);
		_vala_typeregister_function_unref0 (type_fun);
	}
}


static gpointer _vala_code_node_ref0 (gpointer self) {
	return self ? vala_code_node_ref (self) : NULL;
}


static void vala_gtype_module_real_generate_class_struct_declaration (ValaCCodeBaseModule* base, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space) {
	ValaGTypeModule * self;
	char* _tmp0_;
	char* _tmp1_;
	gboolean _tmp2_;
	gboolean is_gtypeinstance;
	gboolean _tmp6_ = FALSE;
	gboolean is_fundamental;
	char* _tmp7_;
	char* _tmp8_;
	ValaCCodeStruct* _tmp9_;
	ValaCCodeStruct* instance_struct;
	char* _tmp10_;
	char* _tmp11_;
	ValaCCodeStruct* _tmp12_;
	ValaCCodeStruct* type_struct;
	gboolean _tmp14_ = FALSE;
	gboolean _tmp15_ = FALSE;
	gboolean _tmp80_ = FALSE;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (cl != NULL);
	g_return_if_fail (decl_space != NULL);
	if ((_tmp2_ = vala_ccode_declaration_space_add_symbol_declaration (decl_space, (ValaSymbol*) cl, _tmp1_ = g_strconcat ("struct _", _tmp0_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), NULL)), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_)) {
		return;
	}
	if (vala_class_get_base_class (cl) != NULL) {
		vala_ccode_base_module_generate_class_struct_declaration ((ValaCCodeBaseModule*) self, vala_class_get_base_class (cl), decl_space);
	}
	{
		ValaList* _tmp3_;
		ValaIterator* _tmp4_;
		ValaIterator* _base_type_it;
		_base_type_it = (_tmp4_ = vala_iterable_iterator ((ValaIterable*) (_tmp3_ = vala_class_get_base_types (cl))), _vala_collection_object_unref0 (_tmp3_), _tmp4_);
		while (TRUE) {
			ValaDataType* base_type;
			ValaTypeSymbol* _tmp5_;
			ValaInterface* iface;
			if (!vala_iterator_next (_base_type_it)) {
				break;
			}
			base_type = (ValaDataType*) vala_iterator_get (_base_type_it);
			iface = _vala_code_node_ref0 ((_tmp5_ = vala_data_type_get_data_type (base_type), VALA_IS_INTERFACE (_tmp5_) ? ((ValaInterface*) _tmp5_) : NULL));
			if (iface != NULL) {
				vala_ccode_base_module_generate_interface_declaration ((ValaCCodeBaseModule*) self, iface, decl_space);
			}
			_vala_code_node_unref0 (iface);
			_vala_code_node_unref0 (base_type);
		}
		_vala_collection_object_unref0 (_base_type_it);
	}
	vala_ccode_base_module_generate_class_declaration ((ValaCCodeBaseModule*) self, cl, decl_space);
	is_gtypeinstance = !vala_class_get_is_compact (cl);
	if (is_gtypeinstance) {
		_tmp6_ = vala_class_get_base_class (cl) == NULL;
	} else {
		_tmp6_ = FALSE;
	}
	is_fundamental = _tmp6_;
	instance_struct = (_tmp9_ = vala_ccode_struct_new (_tmp8_ = g_strdup_printf ("_%s", _tmp7_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp9_);
	type_struct = (_tmp12_ = vala_ccode_struct_new (_tmp11_ = g_strdup_printf ("_%sClass", _tmp10_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp11_), _g_free0 (_tmp10_), _tmp12_);
	if (vala_class_get_base_class (cl) != NULL) {
		char* _tmp13_;
		vala_ccode_struct_add_field (instance_struct, _tmp13_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) vala_class_get_base_class (cl), FALSE), "parent_instance", NULL);
		_g_free0 (_tmp13_);
	} else {
		if (is_fundamental) {
			vala_ccode_declaration_space_add_include (decl_space, "glib-object.h", FALSE);
			vala_ccode_struct_add_field (instance_struct, "GTypeInstance", "parent_instance", NULL);
			vala_ccode_struct_add_field (instance_struct, "volatile int", "ref_count", NULL);
		}
	}
	if (vala_class_get_is_compact (cl)) {
		_tmp15_ = vala_class_get_base_class (cl) == NULL;
	} else {
		_tmp15_ = FALSE;
	}
	if (_tmp15_) {
		ValaList* _tmp16_;
		_tmp14_ = vala_collection_get_size ((ValaCollection*) (_tmp16_ = vala_class_get_fields (cl))) == 0;
		_vala_collection_object_unref0 (_tmp16_);
	} else {
		_tmp14_ = FALSE;
	}
	if (_tmp14_) {
		vala_ccode_struct_add_field (instance_struct, "int", "dummy", NULL);
	}
	if (is_gtypeinstance) {
		char* _tmp17_;
		char* _tmp18_;
		char* _tmp19_;
		ValaCCodeVariableDeclarator* _tmp20_;
		ValaCCodeTypeDefinition* _tmp21_;
		char* _tmp22_;
		char* _tmp23_;
		vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp21_ = vala_ccode_type_definition_new (_tmp17_ = g_strdup_printf ("struct %sPrivate", vala_ccode_struct_get_name (instance_struct)), (ValaCCodeDeclarator*) (_tmp20_ = vala_ccode_variable_declarator_new (_tmp19_ = g_strdup_printf ("%sPrivate", _tmp18_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), NULL, NULL)))));
		_vala_ccode_node_unref0 (_tmp21_);
		_vala_ccode_node_unref0 (_tmp20_);
		_g_free0 (_tmp19_);
		_g_free0 (_tmp18_);
		_g_free0 (_tmp17_);
		vala_ccode_struct_add_field (instance_struct, _tmp23_ = g_strdup_printf ("%sPrivate *", _tmp22_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), "priv", NULL);
		_g_free0 (_tmp23_);
		_g_free0 (_tmp22_);
		if (is_fundamental) {
			vala_ccode_struct_add_field (type_struct, "GTypeClass", "parent_class", NULL);
		} else {
			char* _tmp24_;
			char* _tmp25_;
			vala_ccode_struct_add_field (type_struct, _tmp25_ = g_strdup_printf ("%sClass", _tmp24_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) vala_class_get_base_class (cl), FALSE)), "parent_class", NULL);
			_g_free0 (_tmp25_);
			_g_free0 (_tmp24_);
		}
		if (is_fundamental) {
			char* _tmp26_;
			char* _tmp27_;
			vala_ccode_struct_add_field (type_struct, "void", _tmp27_ = g_strdup_printf ("(*finalize) (%s *self)", _tmp26_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), NULL);
			_g_free0 (_tmp27_);
			_g_free0 (_tmp26_);
		}
	}
	{
		ValaList* _tmp28_;
		ValaIterator* _tmp29_;
		ValaIterator* _m_it;
		_m_it = (_tmp29_ = vala_iterable_iterator ((ValaIterable*) (_tmp28_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp28_), _tmp29_);
		while (TRUE) {
			ValaMethod* m;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			vala_gtype_module_generate_virtual_method_declaration (self, m, decl_space, type_struct);
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	{
		ValaList* _tmp30_;
		ValaIterator* _tmp31_;
		ValaIterator* _sig_it;
		_sig_it = (_tmp31_ = vala_iterable_iterator ((ValaIterable*) (_tmp30_ = vala_object_type_symbol_get_signals ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp30_), _tmp31_);
		while (TRUE) {
			ValaSignal* sig;
			if (!vala_iterator_next (_sig_it)) {
				break;
			}
			sig = (ValaSignal*) vala_iterator_get (_sig_it);
			if (vala_signal_get_default_handler (sig) != NULL) {
				vala_gtype_module_generate_virtual_method_declaration (self, vala_signal_get_default_handler (sig), decl_space, type_struct);
			}
			_vala_code_node_unref0 (sig);
		}
		_vala_collection_object_unref0 (_sig_it);
	}
	{
		ValaList* _tmp32_;
		ValaIterator* _tmp33_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp33_ = vala_iterable_iterator ((ValaIterable*) (_tmp32_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp32_), _tmp33_);
		while (TRUE) {
			ValaProperty* prop;
			gboolean _tmp34_ = FALSE;
			ValaObjectTypeSymbol* t;
			ValaObjectType* this_type;
			char* _tmp35_;
			ValaCCodeFormalParameter* _tmp36_;
			ValaCCodeFormalParameter* cselfparam;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (!vala_property_get_is_abstract (prop)) {
				_tmp34_ = !vala_property_get_is_virtual (prop);
			} else {
				_tmp34_ = FALSE;
			}
			if (_tmp34_) {
				_vala_code_node_unref0 (prop);
				continue;
			}
			vala_ccode_base_module_generate_type_declaration ((ValaCCodeBaseModule*) self, vala_property_get_property_type (prop), decl_space);
			t = _vala_code_node_ref0 (VALA_OBJECT_TYPE_SYMBOL (vala_symbol_get_parent_symbol ((ValaSymbol*) prop)));
			this_type = vala_object_type_new (t);
			cselfparam = (_tmp36_ = vala_ccode_formal_parameter_new ("self", _tmp35_ = vala_data_type_get_cname ((ValaDataType*) this_type)), _g_free0 (_tmp35_), _tmp36_);
			if (vala_property_get_get_accessor (prop) != NULL) {
				char* _tmp37_;
				ValaCCodeFunctionDeclarator* _tmp38_;
				ValaCCodeFunctionDeclarator* vdeclarator;
				char* creturn_type;
				ValaDataType* _tmp44_;
				ValaArrayType* array_type;
				ValaCCodeDeclaration* vdecl;
				vdeclarator = (_tmp38_ = vala_ccode_function_declarator_new (_tmp37_ = g_strdup_printf ("get_%s", vala_symbol_get_name ((ValaSymbol*) prop))), _g_free0 (_tmp37_), _tmp38_);
				vala_ccode_function_declarator_add_parameter (vdeclarator, cselfparam);
				creturn_type = NULL;
				if (vala_data_type_is_real_non_null_struct_type (vala_property_get_property_type (prop))) {
					char* _tmp39_;
					char* _tmp40_;
					ValaCCodeFormalParameter* _tmp41_;
					ValaCCodeFormalParameter* cvalueparam;
					char* _tmp42_;
					cvalueparam = (_tmp41_ = vala_ccode_formal_parameter_new ("result", _tmp40_ = g_strconcat (_tmp39_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_get_accessor (prop))), "*", NULL)), _g_free0 (_tmp40_), _g_free0 (_tmp39_), _tmp41_);
					vala_ccode_function_declarator_add_parameter (vdeclarator, cvalueparam);
					creturn_type = (_tmp42_ = g_strdup ("void"), _g_free0 (creturn_type), _tmp42_);
					_vala_ccode_node_unref0 (cvalueparam);
				} else {
					char* _tmp43_;
					creturn_type = (_tmp43_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_get_accessor (prop))), _g_free0 (creturn_type), _tmp43_);
				}
				array_type = _vala_code_node_ref0 ((_tmp44_ = vala_property_get_property_type (prop), VALA_IS_ARRAY_TYPE (_tmp44_) ? ((ValaArrayType*) _tmp44_) : NULL));
				if (array_type != NULL) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp45_;
							_tmp45_ = TRUE;
							while (TRUE) {
								char* _tmp46_;
								ValaCCodeFormalParameter* _tmp47_;
								if (!_tmp45_) {
									dim++;
								}
								_tmp45_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp47_ = vala_ccode_formal_parameter_new (_tmp46_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "result", dim), "int*"));
								_vala_ccode_node_unref0 (_tmp47_);
								_g_free0 (_tmp46_);
							}
						}
					}
				} else {
					gboolean _tmp48_ = FALSE;
					if (VALA_IS_DELEGATE_TYPE (vala_property_get_property_type (prop))) {
						_tmp48_ = vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (VALA_DELEGATE_TYPE (vala_property_get_property_type (prop))));
					} else {
						_tmp48_ = FALSE;
					}
					if (_tmp48_) {
						char* _tmp49_;
						ValaCCodeFormalParameter* _tmp50_;
						vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp50_ = vala_ccode_formal_parameter_new (_tmp49_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, "result"), "gpointer*"));
						_vala_ccode_node_unref0 (_tmp50_);
						_g_free0 (_tmp49_);
					}
				}
				vdecl = vala_ccode_declaration_new (creturn_type);
				vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
				vala_ccode_struct_add_declaration (type_struct, vdecl);
				_vala_ccode_node_unref0 (vdecl);
				_vala_code_node_unref0 (array_type);
				_g_free0 (creturn_type);
				_vala_ccode_node_unref0 (vdeclarator);
			}
			if (vala_property_get_set_accessor (prop) != NULL) {
				ValaCCodeFormalParameter* cvalueparam;
				char* _tmp56_;
				ValaCCodeFunctionDeclarator* _tmp57_;
				ValaCCodeFunctionDeclarator* vdeclarator;
				ValaDataType* _tmp58_;
				ValaArrayType* array_type;
				ValaCCodeDeclaration* vdecl;
				cvalueparam = NULL;
				if (vala_data_type_is_real_non_null_struct_type (vala_property_get_property_type (prop))) {
					char* _tmp51_;
					char* _tmp52_;
					ValaCCodeFormalParameter* _tmp53_;
					cvalueparam = (_tmp53_ = vala_ccode_formal_parameter_new ("value", _tmp52_ = g_strconcat (_tmp51_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_set_accessor (prop))), "*", NULL)), _vala_ccode_node_unref0 (cvalueparam), _tmp53_);
					_g_free0 (_tmp52_);
					_g_free0 (_tmp51_);
				} else {
					char* _tmp54_;
					ValaCCodeFormalParameter* _tmp55_;
					cvalueparam = (_tmp55_ = vala_ccode_formal_parameter_new ("value", _tmp54_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_set_accessor (prop)))), _vala_ccode_node_unref0 (cvalueparam), _tmp55_);
					_g_free0 (_tmp54_);
				}
				vdeclarator = (_tmp57_ = vala_ccode_function_declarator_new (_tmp56_ = g_strdup_printf ("set_%s", vala_symbol_get_name ((ValaSymbol*) prop))), _g_free0 (_tmp56_), _tmp57_);
				vala_ccode_function_declarator_add_parameter (vdeclarator, cselfparam);
				vala_ccode_function_declarator_add_parameter (vdeclarator, cvalueparam);
				array_type = _vala_code_node_ref0 ((_tmp58_ = vala_property_get_property_type (prop), VALA_IS_ARRAY_TYPE (_tmp58_) ? ((ValaArrayType*) _tmp58_) : NULL));
				if (array_type != NULL) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp59_;
							_tmp59_ = TRUE;
							while (TRUE) {
								char* _tmp60_;
								ValaCCodeFormalParameter* _tmp61_;
								if (!_tmp59_) {
									dim++;
								}
								_tmp59_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp61_ = vala_ccode_formal_parameter_new (_tmp60_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "value", dim), "int"));
								_vala_ccode_node_unref0 (_tmp61_);
								_g_free0 (_tmp60_);
							}
						}
					}
				} else {
					gboolean _tmp62_ = FALSE;
					if (VALA_IS_DELEGATE_TYPE (vala_property_get_property_type (prop))) {
						_tmp62_ = vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (VALA_DELEGATE_TYPE (vala_property_get_property_type (prop))));
					} else {
						_tmp62_ = FALSE;
					}
					if (_tmp62_) {
						char* _tmp63_;
						ValaCCodeFormalParameter* _tmp64_;
						vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp64_ = vala_ccode_formal_parameter_new (_tmp63_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, "value"), "gpointer"));
						_vala_ccode_node_unref0 (_tmp64_);
						_g_free0 (_tmp63_);
					}
				}
				vdecl = vala_ccode_declaration_new ("void");
				vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
				vala_ccode_struct_add_declaration (type_struct, vdecl);
				_vala_ccode_node_unref0 (vdecl);
				_vala_code_node_unref0 (array_type);
				_vala_ccode_node_unref0 (vdeclarator);
				_vala_ccode_node_unref0 (cvalueparam);
			}
			_vala_ccode_node_unref0 (cselfparam);
			_vala_code_node_unref0 (this_type);
			_vala_code_node_unref0 (t);
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	{
		ValaList* _tmp65_;
		ValaIterator* _tmp66_;
		ValaIterator* _f_it;
		_f_it = (_tmp66_ = vala_iterable_iterator ((ValaIterable*) (_tmp65_ = vala_class_get_fields (cl))), _vala_collection_object_unref0 (_tmp65_), _tmp66_);
		while (TRUE) {
			ValaField* f;
			char* field_ctype;
			if (!vala_iterator_next (_f_it)) {
				break;
			}
			f = (ValaField*) vala_iterator_get (_f_it);
			field_ctype = vala_data_type_get_cname (vala_variable_get_variable_type ((ValaVariable*) f));
			if (vala_field_get_is_volatile (f)) {
				char* _tmp67_;
				field_ctype = (_tmp67_ = g_strconcat ("volatile ", field_ctype, NULL), _g_free0 (field_ctype), _tmp67_);
			}
			if (vala_symbol_get_access ((ValaSymbol*) f) != VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
				if (vala_field_get_binding (f) == MEMBER_BINDING_INSTANCE) {
					char* _tmp68_;
					char* _tmp69_;
					gboolean _tmp70_ = FALSE;
					vala_ccode_base_module_generate_type_declaration ((ValaCCodeBaseModule*) self, vala_variable_get_variable_type ((ValaVariable*) f), decl_space);
					vala_ccode_struct_add_field (instance_struct, field_ctype, _tmp68_ = vala_field_get_cname (f), _tmp69_ = vala_data_type_get_cdeclarator_suffix (vala_variable_get_variable_type ((ValaVariable*) f)));
					_g_free0 (_tmp69_);
					_g_free0 (_tmp68_);
					if (VALA_IS_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) f))) {
						_tmp70_ = !vala_field_get_no_array_length (f);
					} else {
						_tmp70_ = FALSE;
					}
					if (_tmp70_) {
						ValaArrayType* array_type;
						array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) f)));
						if (!vala_array_type_get_fixed_length (array_type)) {
							ValaDataType* len_type;
							gboolean _tmp74_ = FALSE;
							len_type = vala_data_type_copy (((ValaCCodeBaseModule*) self)->int_type);
							{
								gint dim;
								dim = 1;
								{
									gboolean _tmp71_;
									_tmp71_ = TRUE;
									while (TRUE) {
										char* _tmp72_;
										char* _tmp73_;
										if (!_tmp71_) {
											dim++;
										}
										_tmp71_ = FALSE;
										if (!(dim <= vala_array_type_get_rank (array_type))) {
											break;
										}
										vala_ccode_struct_add_field (instance_struct, _tmp72_ = vala_data_type_get_cname (len_type), _tmp73_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f), dim), NULL);
										_g_free0 (_tmp73_);
										_g_free0 (_tmp72_);
									}
								}
							}
							if (vala_array_type_get_rank (array_type) == 1) {
								_tmp74_ = vala_symbol_is_internal_symbol ((ValaSymbol*) f);
							} else {
								_tmp74_ = FALSE;
							}
							if (_tmp74_) {
								char* _tmp75_;
								char* _tmp76_;
								vala_ccode_struct_add_field (instance_struct, _tmp75_ = vala_data_type_get_cname (len_type), _tmp76_ = vala_ccode_base_module_get_array_size_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
								_g_free0 (_tmp76_);
								_g_free0 (_tmp75_);
							}
							_vala_code_node_unref0 (len_type);
						}
						_vala_code_node_unref0 (array_type);
					} else {
						if (VALA_IS_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) f))) {
							ValaDelegateType* delegate_type;
							delegate_type = _vala_code_node_ref0 (VALA_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) f)));
							if (vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (delegate_type))) {
								char* _tmp77_;
								vala_ccode_struct_add_field (instance_struct, "gpointer", _tmp77_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
								_g_free0 (_tmp77_);
								if (vala_data_type_get_value_owned ((ValaDataType*) delegate_type)) {
									char* _tmp78_;
									vala_ccode_struct_add_field (instance_struct, "GDestroyNotify", _tmp78_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
									_g_free0 (_tmp78_);
								}
							}
							_vala_code_node_unref0 (delegate_type);
						}
					}
				} else {
					if (vala_field_get_binding (f) == MEMBER_BINDING_CLASS) {
						char* _tmp79_;
						vala_ccode_struct_add_field (type_struct, field_ctype, _tmp79_ = vala_field_get_cname (f), NULL);
						_g_free0 (_tmp79_);
					}
				}
			}
			_g_free0 (field_ctype);
			_vala_code_node_unref0 (f);
		}
		_vala_collection_object_unref0 (_f_it);
	}
	if (!vala_class_get_is_compact (cl)) {
		_tmp80_ = TRUE;
	} else {
		_tmp80_ = vala_class_get_base_class (cl) == NULL;
	}
	if (_tmp80_) {
		vala_ccode_declaration_space_add_type_definition (decl_space, (ValaCCodeNode*) instance_struct);
	}
	if (is_gtypeinstance) {
		vala_ccode_declaration_space_add_type_definition (decl_space, (ValaCCodeNode*) type_struct);
	}
	_vala_ccode_node_unref0 (type_struct);
	_vala_ccode_node_unref0 (instance_struct);
}


static void vala_gtype_module_real_generate_virtual_method_declaration (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct) {
	gboolean _tmp0_ = FALSE;
	ValaDataType* creturn_type;
	ValaCCodeFunctionDeclarator* vdeclarator;
	ValaHashMap* cparam_map;
	ValaCCodeFunction* _tmp2_;
	char* _tmp3_;
	ValaCCodeDeclaration* _tmp4_;
	ValaCCodeDeclaration* vdecl;
	g_return_if_fail (self != NULL);
	g_return_if_fail (m != NULL);
	g_return_if_fail (decl_space != NULL);
	g_return_if_fail (type_struct != NULL);
	if (!vala_method_get_is_abstract (m)) {
		_tmp0_ = !vala_method_get_is_virtual (m);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		return;
	}
	creturn_type = _vala_code_node_ref0 (vala_method_get_return_type (m));
	if (vala_data_type_is_real_non_null_struct_type (vala_method_get_return_type (m))) {
		ValaDataType* _tmp1_;
		creturn_type = (_tmp1_ = (ValaDataType*) vala_void_type_new (NULL), _vala_code_node_unref0 (creturn_type), _tmp1_);
	}
	vdeclarator = vala_ccode_function_declarator_new (vala_method_get_vfunc_name (m));
	cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, decl_space, (ValaMap*) cparam_map, _tmp2_ = vala_ccode_function_new ("fake", "void"), vdeclarator, NULL, NULL, 3);
	_vala_ccode_node_unref0 (_tmp2_);
	vdecl = (_tmp4_ = vala_ccode_declaration_new (_tmp3_ = vala_data_type_get_cname (creturn_type)), _g_free0 (_tmp3_), _tmp4_);
	vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
	vala_ccode_struct_add_declaration (type_struct, vdecl);
	_vala_ccode_node_unref0 (vdecl);
	_vala_collection_object_unref0 (cparam_map);
	_vala_ccode_node_unref0 (vdeclarator);
	_vala_code_node_unref0 (creturn_type);
}


void vala_gtype_module_generate_virtual_method_declaration (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct) {
	VALA_GTYPE_MODULE_GET_CLASS (self)->generate_virtual_method_declaration (self, m, decl_space, type_struct);
}


static void vala_gtype_module_generate_class_private_declaration (ValaGTypeModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space) {
	char* _tmp0_;
	char* _tmp1_;
	gboolean _tmp2_;
	gboolean is_gtypeinstance;
	gboolean has_instance_locks;
	gboolean has_class_locks;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeStruct* _tmp5_;
	ValaCCodeStruct* instance_priv_struct;
	char* _tmp6_;
	char* _tmp7_;
	ValaCCodeStruct* _tmp8_;
	ValaCCodeStruct* type_priv_struct;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	g_return_if_fail (decl_space != NULL);
	if ((_tmp2_ = vala_ccode_declaration_space_add_declaration (decl_space, _tmp1_ = g_strconcat (_tmp0_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "Private", NULL)), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_)) {
		return;
	}
	is_gtypeinstance = !vala_class_get_is_compact (cl);
	has_instance_locks = FALSE;
	has_class_locks = FALSE;
	instance_priv_struct = (_tmp5_ = vala_ccode_struct_new (_tmp4_ = g_strdup_printf ("_%sPrivate", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _tmp5_);
	type_priv_struct = (_tmp8_ = vala_ccode_struct_new (_tmp7_ = g_strdup_printf ("_%sClassPrivate", _tmp6_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _tmp8_);
	if (is_gtypeinstance) {
		{
			ValaList* _tmp9_;
			ValaIterator* _tmp10_;
			ValaIterator* _type_param_it;
			_type_param_it = (_tmp10_ = vala_iterable_iterator ((ValaIterable*) (_tmp9_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp9_), _tmp10_);
			while (TRUE) {
				ValaTypeParameter* type_param;
				char* func_name;
				char* _tmp11_;
				char* _tmp12_;
				char* _tmp13_;
				char* _tmp14_;
				char* _tmp15_;
				char* _tmp16_;
				if (!vala_iterator_next (_type_param_it)) {
					break;
				}
				type_param = (ValaTypeParameter*) vala_iterator_get (_type_param_it);
				func_name = NULL;
				func_name = (_tmp12_ = g_strdup_printf ("%s_type", _tmp11_ = g_utf8_strdown (vala_symbol_get_name ((ValaSymbol*) type_param), -1)), _g_free0 (func_name), _tmp12_);
				_g_free0 (_tmp11_);
				vala_ccode_struct_add_field (instance_priv_struct, "GType", func_name, NULL);
				func_name = (_tmp14_ = g_strdup_printf ("%s_dup_func", _tmp13_ = g_utf8_strdown (vala_symbol_get_name ((ValaSymbol*) type_param), -1)), _g_free0 (func_name), _tmp14_);
				_g_free0 (_tmp13_);
				vala_ccode_struct_add_field (instance_priv_struct, "GBoxedCopyFunc", func_name, NULL);
				func_name = (_tmp16_ = g_strdup_printf ("%s_destroy_func", _tmp15_ = g_utf8_strdown (vala_symbol_get_name ((ValaSymbol*) type_param), -1)), _g_free0 (func_name), _tmp16_);
				_g_free0 (_tmp15_);
				vala_ccode_struct_add_field (instance_priv_struct, "GDestroyNotify", func_name, NULL);
				_g_free0 (func_name);
				_vala_code_node_unref0 (type_param);
			}
			_vala_collection_object_unref0 (_type_param_it);
		}
	}
	{
		ValaList* _tmp17_;
		ValaIterator* _tmp18_;
		ValaIterator* _f_it;
		_f_it = (_tmp18_ = vala_iterable_iterator ((ValaIterable*) (_tmp17_ = vala_class_get_fields (cl))), _vala_collection_object_unref0 (_tmp17_), _tmp18_);
		while (TRUE) {
			ValaField* f;
			char* field_ctype;
			if (!vala_iterator_next (_f_it)) {
				break;
			}
			f = (ValaField*) vala_iterator_get (_f_it);
			field_ctype = vala_data_type_get_cname (vala_variable_get_variable_type ((ValaVariable*) f));
			if (vala_field_get_is_volatile (f)) {
				char* _tmp19_;
				field_ctype = (_tmp19_ = g_strconcat ("volatile ", field_ctype, NULL), _g_free0 (field_ctype), _tmp19_);
			}
			if (vala_field_get_binding (f) == MEMBER_BINDING_INSTANCE) {
				if (vala_symbol_get_access ((ValaSymbol*) f) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
					char* _tmp20_;
					char* _tmp21_;
					gboolean _tmp22_ = FALSE;
					vala_ccode_base_module_generate_type_declaration ((ValaCCodeBaseModule*) self, vala_variable_get_variable_type ((ValaVariable*) f), decl_space);
					vala_ccode_struct_add_field (instance_priv_struct, field_ctype, _tmp20_ = vala_field_get_cname (f), _tmp21_ = vala_data_type_get_cdeclarator_suffix (vala_variable_get_variable_type ((ValaVariable*) f)));
					_g_free0 (_tmp21_);
					_g_free0 (_tmp20_);
					if (VALA_IS_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) f))) {
						_tmp22_ = !vala_field_get_no_array_length (f);
					} else {
						_tmp22_ = FALSE;
					}
					if (_tmp22_) {
						ValaArrayType* array_type;
						ValaDataType* len_type;
						array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) f)));
						len_type = vala_data_type_copy (((ValaCCodeBaseModule*) self)->int_type);
						if (!vala_array_type_get_fixed_length (array_type)) {
							gboolean _tmp26_ = FALSE;
							{
								gint dim;
								dim = 1;
								{
									gboolean _tmp23_;
									_tmp23_ = TRUE;
									while (TRUE) {
										char* _tmp24_;
										char* _tmp25_;
										if (!_tmp23_) {
											dim++;
										}
										_tmp23_ = FALSE;
										if (!(dim <= vala_array_type_get_rank (array_type))) {
											break;
										}
										vala_ccode_struct_add_field (instance_priv_struct, _tmp24_ = vala_data_type_get_cname (len_type), _tmp25_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f), dim), NULL);
										_g_free0 (_tmp25_);
										_g_free0 (_tmp24_);
									}
								}
							}
							if (vala_array_type_get_rank (array_type) == 1) {
								_tmp26_ = vala_symbol_is_internal_symbol ((ValaSymbol*) f);
							} else {
								_tmp26_ = FALSE;
							}
							if (_tmp26_) {
								char* _tmp27_;
								char* _tmp28_;
								vala_ccode_struct_add_field (instance_priv_struct, _tmp27_ = vala_data_type_get_cname (len_type), _tmp28_ = vala_ccode_base_module_get_array_size_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
								_g_free0 (_tmp28_);
								_g_free0 (_tmp27_);
							}
						}
						_vala_code_node_unref0 (len_type);
						_vala_code_node_unref0 (array_type);
					} else {
						if (VALA_IS_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) f))) {
							ValaDelegateType* delegate_type;
							delegate_type = _vala_code_node_ref0 (VALA_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) f)));
							if (vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (delegate_type))) {
								char* _tmp29_;
								vala_ccode_struct_add_field (instance_priv_struct, "gpointer", _tmp29_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
								_g_free0 (_tmp29_);
								if (vala_data_type_get_value_owned ((ValaDataType*) delegate_type)) {
									char* _tmp30_;
									vala_ccode_struct_add_field (instance_priv_struct, "GDestroyNotify", _tmp30_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
									_g_free0 (_tmp30_);
								}
							}
							_vala_code_node_unref0 (delegate_type);
						}
					}
				}
				if (vala_lockable_get_lock_used ((ValaLockable*) f)) {
					char* _tmp31_;
					char* _tmp32_;
					has_instance_locks = TRUE;
					vala_ccode_struct_add_field (instance_priv_struct, _tmp31_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) ((ValaCCodeBaseModule*) self)->mutex_type, FALSE), _tmp32_ = vala_ccode_base_module_get_symbol_lock_name ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) f)), NULL);
					_g_free0 (_tmp32_);
					_g_free0 (_tmp31_);
				}
			} else {
				if (vala_field_get_binding (f) == MEMBER_BINDING_CLASS) {
					if (vala_symbol_get_access ((ValaSymbol*) f) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
						char* _tmp33_;
						vala_ccode_struct_add_field (type_priv_struct, field_ctype, _tmp33_ = vala_field_get_cname (f), NULL);
						_g_free0 (_tmp33_);
					}
					if (vala_lockable_get_lock_used ((ValaLockable*) f)) {
						char* _tmp34_;
						char* _tmp35_;
						char* _tmp36_;
						has_class_locks = TRUE;
						vala_ccode_struct_add_field (type_priv_struct, _tmp34_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) ((ValaCCodeBaseModule*) self)->mutex_type, FALSE), _tmp36_ = vala_ccode_base_module_get_symbol_lock_name ((ValaCCodeBaseModule*) self, _tmp35_ = vala_field_get_cname (f)), NULL);
						_g_free0 (_tmp36_);
						_g_free0 (_tmp35_);
						_g_free0 (_tmp34_);
					}
				}
			}
			_g_free0 (field_ctype);
			_vala_code_node_unref0 (f);
		}
		_vala_collection_object_unref0 (_f_it);
	}
	{
		ValaList* _tmp37_;
		ValaIterator* _tmp38_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp38_ = vala_iterable_iterator ((ValaIterable*) (_tmp37_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp37_), _tmp38_);
		while (TRUE) {
			ValaProperty* prop;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (vala_property_get_binding (prop) == MEMBER_BINDING_INSTANCE) {
				if (vala_lockable_get_lock_used ((ValaLockable*) prop)) {
					char* _tmp39_;
					char* _tmp40_;
					has_instance_locks = TRUE;
					vala_ccode_struct_add_field (instance_priv_struct, _tmp39_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) ((ValaCCodeBaseModule*) self)->mutex_type, FALSE), _tmp40_ = vala_ccode_base_module_get_symbol_lock_name ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) prop)), NULL);
					_g_free0 (_tmp40_);
					_g_free0 (_tmp39_);
				}
			} else {
				if (vala_property_get_binding (prop) == MEMBER_BINDING_CLASS) {
					if (vala_lockable_get_lock_used ((ValaLockable*) prop)) {
						char* _tmp41_;
						char* _tmp42_;
						has_class_locks = TRUE;
						vala_ccode_struct_add_field (type_priv_struct, _tmp41_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) ((ValaCCodeBaseModule*) self)->mutex_type, FALSE), _tmp42_ = vala_ccode_base_module_get_symbol_lock_name ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) prop)), NULL);
						_g_free0 (_tmp42_);
						_g_free0 (_tmp41_);
					}
				}
			}
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	if (is_gtypeinstance) {
		gboolean _tmp43_ = FALSE;
		gboolean _tmp53_ = FALSE;
		gboolean _tmp54_ = FALSE;
		gboolean _tmp62_ = FALSE;
		if (vala_class_get_has_class_private_fields (cl)) {
			_tmp43_ = TRUE;
		} else {
			_tmp43_ = has_class_locks;
		}
		if (_tmp43_) {
			char* _tmp44_;
			char* _tmp45_;
			char* _tmp46_;
			ValaCCodeVariableDeclarator* _tmp47_;
			ValaCCodeTypeDefinition* _tmp48_;
			vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp48_ = vala_ccode_type_definition_new (_tmp44_ = g_strdup_printf ("struct %s", vala_ccode_struct_get_name (type_priv_struct)), (ValaCCodeDeclarator*) (_tmp47_ = vala_ccode_variable_declarator_new (_tmp46_ = g_strdup_printf ("%sClassPrivate", _tmp45_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), NULL, NULL)))));
			_vala_ccode_node_unref0 (_tmp48_);
			_vala_ccode_node_unref0 (_tmp47_);
			_g_free0 (_tmp46_);
			_g_free0 (_tmp45_);
			_g_free0 (_tmp44_);
			if (!vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 24)) {
				ValaCCodeDeclaration* _cdecl_;
				char* _tmp49_;
				char* _tmp50_;
				ValaCCodeConstant* _tmp51_;
				ValaCCodeVariableDeclarator* _tmp52_;
				_cdecl_ = vala_ccode_declaration_new ("GQuark");
				vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp52_ = vala_ccode_variable_declarator_new (_tmp50_ = g_strdup_printf ("_vala_%s_class_private_quark", _tmp49_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), (ValaCCodeExpression*) (_tmp51_ = vala_ccode_constant_new ("0")), NULL)));
				_vala_ccode_node_unref0 (_tmp52_);
				_vala_ccode_node_unref0 (_tmp51_);
				_g_free0 (_tmp50_);
				_g_free0 (_tmp49_);
				vala_ccode_declaration_set_modifiers (_cdecl_, VALA_CCODE_MODIFIERS_STATIC);
				vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) _cdecl_);
				_vala_ccode_node_unref0 (_cdecl_);
			}
		}
		if (vala_class_get_has_private_fields (cl)) {
			_tmp54_ = TRUE;
		} else {
			ValaList* _tmp55_;
			_tmp54_ = vala_collection_get_size ((ValaCollection*) (_tmp55_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) cl))) > 0;
			_vala_collection_object_unref0 (_tmp55_);
		}
		if (_tmp54_) {
			_tmp53_ = TRUE;
		} else {
			_tmp53_ = has_instance_locks;
		}
		if (_tmp53_) {
			char* _tmp56_;
			char* _tmp57_;
			char* _tmp58_;
			char* macro;
			char* _tmp59_;
			char* _tmp60_;
			ValaCCodeMacroReplacement* _tmp61_;
			vala_ccode_declaration_space_add_type_definition (decl_space, (ValaCCodeNode*) instance_priv_struct);
			macro = (_tmp58_ = g_strdup_printf ("(G_TYPE_INSTANCE_GET_PRIVATE ((o), %s, %sPrivate))", _tmp56_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), _tmp57_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (_tmp57_), _g_free0 (_tmp56_), _tmp58_);
			vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp61_ = vala_ccode_macro_replacement_new (_tmp60_ = g_strdup_printf ("%s_GET_PRIVATE(o)", _tmp59_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), macro)));
			_vala_ccode_node_unref0 (_tmp61_);
			_g_free0 (_tmp60_);
			_g_free0 (_tmp59_);
			_g_free0 (macro);
		}
		if (vala_class_get_has_class_private_fields (cl)) {
			_tmp62_ = TRUE;
		} else {
			_tmp62_ = has_class_locks;
		}
		if (_tmp62_) {
			char* macro;
			char* _tmp69_;
			char* _tmp70_;
			ValaCCodeMacroReplacement* _tmp71_;
			vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) type_priv_struct);
			macro = NULL;
			if (vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 24)) {
				char* _tmp63_;
				char* _tmp64_;
				char* _tmp65_;
				macro = (_tmp65_ = g_strdup_printf ("(G_TYPE_CLASS_GET_PRIVATE (klass, %s, %sClassPrivate))", _tmp63_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl), _tmp64_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)), _g_free0 (macro), _tmp65_);
				_g_free0 (_tmp64_);
				_g_free0 (_tmp63_);
			} else {
				char* _tmp66_;
				char* _tmp67_;
				char* _tmp68_;
				macro = (_tmp68_ = g_strdup_printf ("((%sClassPrivate *) g_type_get_qdata (G_TYPE_FROM_CLASS (klass), _vala" \
"_%s_class_private_quark))", _tmp66_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), _tmp67_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), _g_free0 (macro), _tmp68_);
				_g_free0 (_tmp67_);
				_g_free0 (_tmp66_);
			}
			vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp71_ = vala_ccode_macro_replacement_new (_tmp70_ = g_strdup_printf ("%s_GET_CLASS_PRIVATE(klass)", _tmp69_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), macro)));
			_vala_ccode_node_unref0 (_tmp71_);
			_g_free0 (_tmp70_);
			_g_free0 (_tmp69_);
			_g_free0 (macro);
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->prop_enum);
	} else {
		if (vala_class_get_has_private_fields (cl)) {
			vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) cl), "Private fields not supported in compact classes");
		}
	}
	_vala_ccode_node_unref0 (type_priv_struct);
	_vala_ccode_node_unref0 (instance_priv_struct);
}


static gpointer _vala_ccode_node_ref0 (gpointer self) {
	return self ? vala_ccode_node_ref (self) : NULL;
}


static glong string_get_length (const char* self) {
	glong result;
	g_return_val_if_fail (self != NULL, 0L);
	result = g_utf8_strlen (self, (gssize) (-1));
	return result;
}


static void vala_gtype_module_real_visit_class (ValaCodeVisitor* base, ValaClass* cl) {
	ValaGTypeModule * self;
	ValaCCodeBaseModuleEmitContext* _tmp0_;
	ValaCCodeStruct* old_param_spec_struct;
	ValaCCodeEnum* old_prop_enum;
	ValaCCodeFragment* old_class_init_fragment;
	ValaCCodeFragment* old_base_init_fragment;
	ValaCCodeFragment* old_class_finalize_fragment;
	ValaCCodeFragment* old_base_finalize_fragment;
	ValaCCodeFragment* old_instance_init_fragment;
	ValaCCodeFragment* old_instance_finalize_fragment;
	gboolean is_gtypeinstance;
	gboolean _tmp1_ = FALSE;
	gboolean is_fundamental;
	char* _tmp2_;
	gboolean _tmp3_;
	ValaCCodeEnum* _tmp6_;
	char* _tmp7_;
	char* _tmp8_;
	ValaCCodeEnumValue* _tmp9_;
	ValaCCodeFragment* _tmp10_;
	ValaCCodeFragment* _tmp11_;
	ValaCCodeFragment* _tmp12_;
	ValaCCodeFragment* _tmp13_;
	ValaCCodeFragment* _tmp14_;
	ValaCCodeFragment* _tmp15_;
	ValaCCodeStruct* _tmp99_;
	ValaCCodeEnum* _tmp100_;
	ValaCCodeFragment* _tmp101_;
	ValaCCodeFragment* _tmp102_;
	ValaCCodeFragment* _tmp103_;
	ValaCCodeFragment* _tmp104_;
	ValaCCodeFragment* _tmp105_;
	ValaCCodeFragment* _tmp106_;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (cl != NULL);
	vala_ccode_base_module_push_context ((ValaCCodeBaseModule*) self, _tmp0_ = vala_ccode_base_module_emit_context_new ((ValaSymbol*) cl));
	_vala_ccode_base_module_emit_context_unref0 (_tmp0_);
	old_param_spec_struct = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->param_spec_struct);
	old_prop_enum = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->prop_enum);
	old_class_init_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->class_init_fragment);
	old_base_init_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->base_init_fragment);
	old_class_finalize_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->class_finalize_fragment);
	old_base_finalize_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->base_finalize_fragment);
	old_instance_init_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->instance_init_fragment);
	old_instance_finalize_fragment = _vala_ccode_node_ref0 (((ValaCCodeBaseModule*) self)->instance_finalize_fragment);
	is_gtypeinstance = !vala_class_get_is_compact (cl);
	if (is_gtypeinstance) {
		_tmp1_ = vala_class_get_base_class (cl) == NULL;
	} else {
		_tmp1_ = FALSE;
	}
	is_fundamental = _tmp1_;
	if ((_tmp3_ = string_get_length (_tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)) < 3, _g_free0 (_tmp2_), _tmp3_)) {
		char* _tmp4_;
		char* _tmp5_;
		vala_code_node_set_error ((ValaCodeNode*) cl, TRUE);
		vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) cl), _tmp5_ = g_strdup_printf ("Class name `%s' is too short", _tmp4_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)));
		_g_free0 (_tmp5_);
		_g_free0 (_tmp4_);
		_vala_ccode_node_unref0 (old_instance_finalize_fragment);
		_vala_ccode_node_unref0 (old_instance_init_fragment);
		_vala_ccode_node_unref0 (old_base_finalize_fragment);
		_vala_ccode_node_unref0 (old_class_finalize_fragment);
		_vala_ccode_node_unref0 (old_base_init_fragment);
		_vala_ccode_node_unref0 (old_class_init_fragment);
		_vala_ccode_node_unref0 (old_prop_enum);
		_vala_ccode_node_unref0 (old_param_spec_struct);
		return;
	}
	((ValaCCodeBaseModule*) self)->prop_enum = (_tmp6_ = vala_ccode_enum_new (NULL), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->prop_enum), _tmp6_);
	vala_ccode_enum_add_value (((ValaCCodeBaseModule*) self)->prop_enum, _tmp9_ = vala_ccode_enum_value_new (_tmp8_ = g_strdup_printf ("%s_DUMMY_PROPERTY", _tmp7_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL)), NULL));
	_vala_ccode_node_unref0 (_tmp9_);
	_g_free0 (_tmp8_);
	_g_free0 (_tmp7_);
	((ValaCCodeBaseModule*) self)->class_init_fragment = (_tmp10_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->class_init_fragment), _tmp10_);
	((ValaCCodeBaseModule*) self)->base_init_fragment = (_tmp11_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->base_init_fragment), _tmp11_);
	((ValaCCodeBaseModule*) self)->class_finalize_fragment = (_tmp12_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->class_finalize_fragment), _tmp12_);
	((ValaCCodeBaseModule*) self)->base_finalize_fragment = (_tmp13_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->base_finalize_fragment), _tmp13_);
	((ValaCCodeBaseModule*) self)->instance_init_fragment = (_tmp14_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->instance_init_fragment), _tmp14_);
	((ValaCCodeBaseModule*) self)->instance_finalize_fragment = (_tmp15_ = vala_ccode_fragment_new (), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->instance_finalize_fragment), _tmp15_);
	vala_ccode_base_module_generate_class_struct_declaration ((ValaCCodeBaseModule*) self, cl, ((ValaCCodeBaseModule*) self)->source_declarations);
	vala_gtype_module_generate_class_private_declaration (self, cl, ((ValaCCodeBaseModule*) self)->source_declarations);
	if (!vala_symbol_is_internal_symbol ((ValaSymbol*) cl)) {
		vala_ccode_base_module_generate_class_struct_declaration ((ValaCCodeBaseModule*) self, cl, ((ValaCCodeBaseModule*) self)->header_declarations);
	}
	if (!vala_symbol_is_private_symbol ((ValaSymbol*) cl)) {
		vala_ccode_base_module_generate_class_struct_declaration ((ValaCCodeBaseModule*) self, cl, ((ValaCCodeBaseModule*) self)->internal_header_declarations);
	}
	vala_code_node_accept_children ((ValaCodeNode*) cl, (ValaCodeVisitor*) self);
	if (is_gtypeinstance) {
		gboolean _tmp29_ = FALSE;
		gboolean _tmp31_ = FALSE;
		gboolean _tmp35_ = FALSE;
		ValaClassRegisterFunction* type_fun;
		ValaCCodeFragment* _tmp41_;
		ValaCCodeFragment* _tmp42_;
		if (is_fundamental) {
			char* _tmp16_;
			char* _tmp17_;
			ValaCCodeStruct* _tmp18_;
			char* _tmp19_;
			char* _tmp20_;
			char* _tmp21_;
			ValaCCodeVariableDeclarator* _tmp22_;
			ValaCCodeTypeDefinition* _tmp23_;
			ValaCCodeIdentifier* _tmp24_;
			ValaCCodeMemberAccess* _tmp25_;
			ValaCCodeConstant* _tmp26_;
			ValaCCodeAssignment* _tmp27_;
			ValaCCodeAssignment* ref_count;
			ValaCCodeExpressionStatement* _tmp28_;
			((ValaCCodeBaseModule*) self)->param_spec_struct = (_tmp18_ = vala_ccode_struct_new (_tmp17_ = g_strdup_printf ("_%sParamSpec%s", _tmp16_ = vala_symbol_get_cprefix (vala_symbol_get_parent_symbol ((ValaSymbol*) cl)), vala_symbol_get_name ((ValaSymbol*) cl))), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->param_spec_struct), _tmp18_);
			_g_free0 (_tmp17_);
			_g_free0 (_tmp16_);
			vala_ccode_struct_add_field (((ValaCCodeBaseModule*) self)->param_spec_struct, "GParamSpec", "parent_instance", NULL);
			vala_ccode_declaration_space_add_type_definition (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->param_spec_struct);
			vala_ccode_declaration_space_add_type_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp23_ = vala_ccode_type_definition_new (_tmp19_ = g_strdup_printf ("struct %s", vala_ccode_struct_get_name (((ValaCCodeBaseModule*) self)->param_spec_struct)), (ValaCCodeDeclarator*) (_tmp22_ = vala_ccode_variable_declarator_new (_tmp21_ = g_strdup_printf ("%sParamSpec%s", _tmp20_ = vala_symbol_get_cprefix (vala_symbol_get_parent_symbol ((ValaSymbol*) cl)), vala_symbol_get_name ((ValaSymbol*) cl)), NULL, NULL)))));
			_vala_ccode_node_unref0 (_tmp23_);
			_vala_ccode_node_unref0 (_tmp22_);
			_g_free0 (_tmp21_);
			_g_free0 (_tmp20_);
			_g_free0 (_tmp19_);
			((ValaCCodeBaseModule*) self)->gvaluecollector_h_needed = TRUE;
			vala_gtype_module_add_type_value_table_init_function (self, cl);
			vala_gtype_module_add_type_value_table_free_function (self, cl);
			vala_gtype_module_add_type_value_table_copy_function (self, cl);
			vala_gtype_module_add_type_value_table_peek_pointer_function (self, cl);
			vala_gtype_module_add_type_value_table_collect_value_function (self, cl);
			vala_gtype_module_add_type_value_table_lcopy_value_function (self, cl);
			vala_gtype_module_add_g_param_spec_type_function (self, cl);
			vala_gtype_module_add_g_value_get_function (self, cl);
			vala_gtype_module_add_g_value_set_function (self, cl);
			vala_gtype_module_add_g_value_take_function (self, cl);
			ref_count = (_tmp27_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("self")), "ref_count")), (ValaCCodeExpression*) (_tmp26_ = vala_ccode_constant_new ("1")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE), _vala_ccode_node_unref0 (_tmp26_), _vala_ccode_node_unref0 (_tmp25_), _vala_ccode_node_unref0 (_tmp24_), _tmp27_);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->instance_init_fragment, (ValaCCodeNode*) (_tmp28_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ref_count)));
			_vala_ccode_node_unref0 (_tmp28_);
			_vala_ccode_node_unref0 (ref_count);
		}
		if (vala_class_get_class_constructor (cl) != NULL) {
			_tmp29_ = TRUE;
		} else {
			gboolean _tmp30_ = FALSE;
			if (!vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 24)) {
				_tmp30_ = vala_class_get_has_class_private_fields (cl);
			} else {
				_tmp30_ = FALSE;
			}
			_tmp29_ = _tmp30_;
		}
		if (_tmp29_) {
			vala_gtype_module_add_base_init_function (self, cl);
		}
		vala_gtype_module_add_class_init_function (self, cl);
		if (vala_class_get_class_destructor (cl) != NULL) {
			_tmp31_ = TRUE;
		} else {
			gboolean _tmp32_ = FALSE;
			if (!vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 24)) {
				_tmp32_ = vala_class_get_has_class_private_fields (cl);
			} else {
				_tmp32_ = FALSE;
			}
			_tmp31_ = _tmp32_;
		}
		if (_tmp31_) {
			vala_gtype_module_add_base_finalize_function (self, cl);
		}
		if (vala_class_get_static_destructor (cl) != NULL) {
			vala_gtype_module_add_class_finalize_function (self, cl);
		}
		{
			ValaList* _tmp33_;
			ValaIterator* _tmp34_;
			ValaIterator* _base_type_it;
			_base_type_it = (_tmp34_ = vala_iterable_iterator ((ValaIterable*) (_tmp33_ = vala_class_get_base_types (cl))), _vala_collection_object_unref0 (_tmp33_), _tmp34_);
			while (TRUE) {
				ValaDataType* base_type;
				if (!vala_iterator_next (_base_type_it)) {
					break;
				}
				base_type = (ValaDataType*) vala_iterator_get (_base_type_it);
				if (VALA_IS_INTERFACE (vala_data_type_get_data_type (base_type))) {
					vala_gtype_module_add_interface_init_function (self, cl, VALA_INTERFACE (vala_data_type_get_data_type (base_type)));
				}
				_vala_code_node_unref0 (base_type);
			}
			_vala_collection_object_unref0 (_base_type_it);
		}
		vala_gtype_module_add_instance_init_function (self, cl);
		if (!vala_class_get_is_compact (cl)) {
			gboolean _tmp36_ = FALSE;
			gboolean _tmp37_ = FALSE;
			ValaList* _tmp38_;
			gboolean _tmp39_;
			if ((_tmp39_ = vala_collection_get_size ((ValaCollection*) (_tmp38_ = vala_class_get_fields (cl))) > 0, _vala_collection_object_unref0 (_tmp38_), _tmp39_)) {
				_tmp37_ = TRUE;
			} else {
				_tmp37_ = vala_class_get_destructor (cl) != NULL;
			}
			if (_tmp37_) {
				_tmp36_ = TRUE;
			} else {
				_tmp36_ = vala_class_is_fundamental (cl);
			}
			_tmp35_ = _tmp36_;
		} else {
			_tmp35_ = FALSE;
		}
		if (_tmp35_) {
			vala_gtype_module_add_finalize_function (self, cl);
		}
		if (vala_symbol_get_comment ((ValaSymbol*) cl) != NULL) {
			ValaCCodeComment* _tmp40_;
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp40_ = vala_ccode_comment_new (vala_comment_get_content (vala_symbol_get_comment ((ValaSymbol*) cl)))));
			_vala_ccode_node_unref0 (_tmp40_);
		}
		type_fun = vala_class_register_function_new (cl, vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self));
		vala_typeregister_function_init_from_type ((ValaTypeRegisterFunction*) type_fun, ((ValaCCodeBaseModule*) self)->in_plugin);
		vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp41_ = vala_typeregister_function_get_source_declaration ((ValaTypeRegisterFunction*) type_fun)));
		_vala_ccode_node_unref0 (_tmp41_);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp42_ = vala_typeregister_function_get_definition ((ValaTypeRegisterFunction*) type_fun)));
		_vala_ccode_node_unref0 (_tmp42_);
		if (is_fundamental) {
			char* _tmp43_;
			char* _tmp44_;
			ValaCCodeFunction* _tmp45_;
			ValaCCodeFunction* ref_fun;
			char* _tmp46_;
			char* _tmp47_;
			ValaCCodeFunction* _tmp48_;
			ValaCCodeFunction* unref_fun;
			ValaCCodeFormalParameter* _tmp49_;
			ValaCCodeFormalParameter* _tmp50_;
			ValaCCodeBlock* ref_block;
			ValaCCodeBlock* unref_block;
			char* _tmp51_;
			char* _tmp52_;
			ValaCCodeDeclaration* _tmp53_;
			ValaCCodeDeclaration* _cdecl_;
			ValaCCodeIdentifier* _tmp54_;
			ValaCCodeVariableDeclarator* _tmp55_;
			ValaCCodeIdentifier* _tmp56_;
			ValaCCodeMemberAccess* _tmp57_;
			ValaCCodeMemberAccess* ref_count;
			ValaCCodeIdentifier* _tmp58_;
			ValaCCodeFunctionCall* _tmp59_;
			ValaCCodeFunctionCall* ccall;
			ValaCCodeUnaryExpression* _tmp60_;
			ValaCCodeExpressionStatement* _tmp61_;
			ValaCCodeIdentifier* _tmp62_;
			ValaCCodeReturnStatement* _tmp63_;
			ValaCCodeBlock* destroy_block;
			char* _tmp64_;
			char* _tmp65_;
			ValaCCodeIdentifier* _tmp66_;
			ValaCCodeFunctionCall* _tmp67_;
			ValaCCodeFunctionCall* get_class;
			ValaCCodeIdentifier* _tmp68_;
			char* _tmp69_;
			char* _tmp70_;
			ValaCCodeIdentifier* _tmp71_;
			ValaCCodeFunctionCall* _tmp72_;
			ValaCCodeFunctionCall* ccast;
			ValaCCodeIdentifier* _tmp73_;
			ValaCCodeMemberAccess* _tmp74_;
			ValaCCodeFunctionCall* _tmp75_;
			ValaCCodeIdentifier* _tmp76_;
			ValaCCodeExpressionStatement* _tmp77_;
			ValaCCodeIdentifier* _tmp78_;
			ValaCCodeFunctionCall* _tmp79_;
			ValaCCodeFunctionCall* free;
			ValaCCodeIdentifier* _tmp80_;
			ValaCCodeCastExpression* _tmp81_;
			ValaCCodeExpressionStatement* _tmp82_;
			ValaCCodeIdentifier* _tmp83_;
			ValaCCodeFunctionCall* _tmp84_;
			ValaCCodeUnaryExpression* _tmp85_;
			ValaCCodeIfStatement* _tmp86_;
			ref_fun = (_tmp45_ = vala_ccode_function_new (_tmp44_ = g_strconcat (_tmp43_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "ref", NULL), "gpointer"), _g_free0 (_tmp44_), _g_free0 (_tmp43_), _tmp45_);
			unref_fun = (_tmp48_ = vala_ccode_function_new (_tmp47_ = g_strconcat (_tmp46_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "unref", NULL), "void"), _g_free0 (_tmp47_), _g_free0 (_tmp46_), _tmp48_);
			if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
				vala_ccode_function_set_modifiers (ref_fun, VALA_CCODE_MODIFIERS_STATIC);
				vala_ccode_function_set_modifiers (unref_fun, VALA_CCODE_MODIFIERS_STATIC);
			}
			vala_ccode_function_add_parameter (ref_fun, _tmp49_ = vala_ccode_formal_parameter_new ("instance", "gpointer"));
			_vala_ccode_node_unref0 (_tmp49_);
			vala_ccode_function_add_parameter (unref_fun, _tmp50_ = vala_ccode_formal_parameter_new ("instance", "gpointer"));
			_vala_ccode_node_unref0 (_tmp50_);
			ref_block = vala_ccode_block_new ();
			unref_block = vala_ccode_block_new ();
			_cdecl_ = (_tmp53_ = vala_ccode_declaration_new (_tmp52_ = g_strconcat (_tmp51_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)), _g_free0 (_tmp52_), _g_free0 (_tmp51_), _tmp53_);
			vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp55_ = vala_ccode_variable_declarator_new ("self", (ValaCCodeExpression*) (_tmp54_ = vala_ccode_identifier_new ("instance")), NULL)));
			_vala_ccode_node_unref0 (_tmp55_);
			_vala_ccode_node_unref0 (_tmp54_);
			vala_ccode_block_add_statement (ref_block, (ValaCCodeNode*) _cdecl_);
			vala_ccode_block_add_statement (unref_block, (ValaCCodeNode*) _cdecl_);
			ref_count = (_tmp57_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp56_ = vala_ccode_identifier_new ("self")), "ref_count"), _vala_ccode_node_unref0 (_tmp56_), _tmp57_);
			ccall = (_tmp59_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp58_ = vala_ccode_identifier_new ("g_atomic_int_inc"))), _vala_ccode_node_unref0 (_tmp58_), _tmp59_);
			vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp60_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) ref_count)));
			_vala_ccode_node_unref0 (_tmp60_);
			vala_ccode_block_add_statement (ref_block, (ValaCCodeNode*) (_tmp61_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
			_vala_ccode_node_unref0 (_tmp61_);
			vala_ccode_block_add_statement (ref_block, (ValaCCodeNode*) (_tmp63_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp62_ = vala_ccode_identifier_new ("instance")))));
			_vala_ccode_node_unref0 (_tmp63_);
			_vala_ccode_node_unref0 (_tmp62_);
			destroy_block = vala_ccode_block_new ();
			get_class = (_tmp67_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp66_ = vala_ccode_identifier_new (_tmp65_ = g_strdup_printf ("%s_GET_CLASS", _tmp64_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (_tmp66_), _g_free0 (_tmp65_), _g_free0 (_tmp64_), _tmp67_);
			vala_ccode_function_call_add_argument (get_class, (ValaCCodeExpression*) (_tmp68_ = vala_ccode_identifier_new ("self")));
			_vala_ccode_node_unref0 (_tmp68_);
			ccast = (_tmp72_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp71_ = vala_ccode_identifier_new (_tmp70_ = g_strdup_printf ("%s_GET_CLASS", _tmp69_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (_tmp71_), _g_free0 (_tmp70_), _g_free0 (_tmp69_), _tmp72_);
			vala_ccode_function_call_add_argument (ccast, (ValaCCodeExpression*) (_tmp73_ = vala_ccode_identifier_new ("self")));
			_vala_ccode_node_unref0 (_tmp73_);
			ccall = (_tmp75_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp74_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, "finalize"))), _vala_ccode_node_unref0 (ccall), _tmp75_);
			_vala_ccode_node_unref0 (_tmp74_);
			vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp76_ = vala_ccode_identifier_new ("self")));
			_vala_ccode_node_unref0 (_tmp76_);
			vala_ccode_block_add_statement (destroy_block, (ValaCCodeNode*) (_tmp77_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
			_vala_ccode_node_unref0 (_tmp77_);
			free = (_tmp79_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp78_ = vala_ccode_identifier_new ("g_type_free_instance"))), _vala_ccode_node_unref0 (_tmp78_), _tmp79_);
			vala_ccode_function_call_add_argument (free, (ValaCCodeExpression*) (_tmp81_ = vala_ccode_cast_expression_new ((ValaCCodeExpression*) (_tmp80_ = vala_ccode_identifier_new ("self")), "GTypeInstance *")));
			_vala_ccode_node_unref0 (_tmp81_);
			_vala_ccode_node_unref0 (_tmp80_);
			vala_ccode_block_add_statement (destroy_block, (ValaCCodeNode*) (_tmp82_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) free)));
			_vala_ccode_node_unref0 (_tmp82_);
			ccall = (_tmp84_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp83_ = vala_ccode_identifier_new ("g_atomic_int_dec_and_test"))), _vala_ccode_node_unref0 (ccall), _tmp84_);
			_vala_ccode_node_unref0 (_tmp83_);
			vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp85_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) ref_count)));
			_vala_ccode_node_unref0 (_tmp85_);
			vala_ccode_block_add_statement (unref_block, (ValaCCodeNode*) (_tmp86_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) ccall, (ValaCCodeStatement*) destroy_block, NULL)));
			_vala_ccode_node_unref0 (_tmp86_);
			vala_ccode_function_set_block (ref_fun, ref_block);
			vala_ccode_function_set_block (unref_fun, unref_block);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) ref_fun);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) unref_fun);
			_vala_ccode_node_unref0 (free);
			_vala_ccode_node_unref0 (ccast);
			_vala_ccode_node_unref0 (get_class);
			_vala_ccode_node_unref0 (destroy_block);
			_vala_ccode_node_unref0 (ccall);
			_vala_ccode_node_unref0 (ref_count);
			_vala_ccode_node_unref0 (_cdecl_);
			_vala_ccode_node_unref0 (unref_block);
			_vala_ccode_node_unref0 (ref_block);
			_vala_ccode_node_unref0 (unref_fun);
			_vala_ccode_node_unref0 (ref_fun);
		}
		_vala_typeregister_function_unref0 (type_fun);
	} else {
		if (vala_class_get_base_class (cl) == NULL) {
			char* _tmp87_;
			char* _tmp88_;
			ValaCCodeFunction* _tmp89_;
			ValaCCodeFunction* function;
			char* _tmp90_;
			char* _tmp91_;
			ValaCCodeFormalParameter* _tmp92_;
			ValaCCodeBlock* cblock;
			ValaCCodeIdentifier* _tmp93_;
			ValaCCodeFunctionCall* _tmp94_;
			ValaCCodeFunctionCall* ccall;
			char* _tmp95_;
			ValaCCodeIdentifier* _tmp96_;
			ValaCCodeIdentifier* _tmp97_;
			ValaCCodeExpressionStatement* _tmp98_;
			vala_gtype_module_add_instance_init_function (self, cl);
			function = (_tmp89_ = vala_ccode_function_new (_tmp88_ = g_strconcat (_tmp87_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "free", NULL), "void"), _g_free0 (_tmp88_), _g_free0 (_tmp87_), _tmp89_);
			if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
				vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
			}
			vala_ccode_function_add_parameter (function, _tmp92_ = vala_ccode_formal_parameter_new ("self", _tmp91_ = g_strconcat (_tmp90_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)));
			_vala_ccode_node_unref0 (_tmp92_);
			_g_free0 (_tmp91_);
			_g_free0 (_tmp90_);
			cblock = vala_ccode_block_new ();
			if (vala_class_get_destructor (cl) != NULL) {
				vala_ccode_block_add_statement (cblock, vala_code_node_get_ccodenode ((ValaCodeNode*) vala_class_get_destructor (cl)));
			}
			vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->instance_finalize_fragment);
			ccall = (_tmp94_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp93_ = vala_ccode_identifier_new ("g_slice_free"))), _vala_ccode_node_unref0 (_tmp93_), _tmp94_);
			vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp96_ = vala_ccode_identifier_new (_tmp95_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))));
			_vala_ccode_node_unref0 (_tmp96_);
			_g_free0 (_tmp95_);
			vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp97_ = vala_ccode_identifier_new ("self")));
			_vala_ccode_node_unref0 (_tmp97_);
			vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) (_tmp98_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
			_vala_ccode_node_unref0 (_tmp98_);
			vala_ccode_function_set_block (function, cblock);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
			_vala_ccode_node_unref0 (ccall);
			_vala_ccode_node_unref0 (cblock);
			_vala_ccode_node_unref0 (function);
		}
	}
	((ValaCCodeBaseModule*) self)->param_spec_struct = (_tmp99_ = _vala_ccode_node_ref0 (old_param_spec_struct), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->param_spec_struct), _tmp99_);
	((ValaCCodeBaseModule*) self)->prop_enum = (_tmp100_ = _vala_ccode_node_ref0 (old_prop_enum), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->prop_enum), _tmp100_);
	((ValaCCodeBaseModule*) self)->class_init_fragment = (_tmp101_ = _vala_ccode_node_ref0 (old_class_init_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->class_init_fragment), _tmp101_);
	((ValaCCodeBaseModule*) self)->base_init_fragment = (_tmp102_ = _vala_ccode_node_ref0 (old_base_init_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->base_init_fragment), _tmp102_);
	((ValaCCodeBaseModule*) self)->class_finalize_fragment = (_tmp103_ = _vala_ccode_node_ref0 (old_class_finalize_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->class_finalize_fragment), _tmp103_);
	((ValaCCodeBaseModule*) self)->base_finalize_fragment = (_tmp104_ = _vala_ccode_node_ref0 (old_base_finalize_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->base_finalize_fragment), _tmp104_);
	((ValaCCodeBaseModule*) self)->instance_init_fragment = (_tmp105_ = _vala_ccode_node_ref0 (old_instance_init_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->instance_init_fragment), _tmp105_);
	((ValaCCodeBaseModule*) self)->instance_finalize_fragment = (_tmp106_ = _vala_ccode_node_ref0 (old_instance_finalize_fragment), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->instance_finalize_fragment), _tmp106_);
	vala_ccode_base_module_pop_context ((ValaCCodeBaseModule*) self);
	_vala_ccode_node_unref0 (old_instance_finalize_fragment);
	_vala_ccode_node_unref0 (old_instance_init_fragment);
	_vala_ccode_node_unref0 (old_base_finalize_fragment);
	_vala_ccode_node_unref0 (old_class_finalize_fragment);
	_vala_ccode_node_unref0 (old_base_init_fragment);
	_vala_ccode_node_unref0 (old_class_init_fragment);
	_vala_ccode_node_unref0 (old_prop_enum);
	_vala_ccode_node_unref0 (old_param_spec_struct);
}


static void vala_gtype_module_add_type_value_table_init_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeConstant* _tmp7_;
	ValaCCodeAssignment* _tmp8_;
	ValaCCodeExpressionStatement* _tmp9_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp9_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp6_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE)), (ValaCCodeExpression*) (_tmp7_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp9_);
	_vala_ccode_node_unref0 (_tmp8_);
	_vala_ccode_node_unref0 (_tmp7_);
	_vala_ccode_node_unref0 (_tmp6_);
	_vala_ccode_node_unref0 (_tmp5_);
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_type_value_table_free_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeMemberAccess* vpointer;
	char* _tmp7_;
	char* _tmp8_;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeFunctionCall* _tmp10_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeBlock* ifbody;
	ValaCCodeExpressionStatement* _tmp11_;
	ValaCCodeIfStatement* _tmp12_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_free_value", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	vpointer = (_tmp6_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp5_), _vala_ccode_node_unref0 (_tmp4_), _tmp6_);
	ccall = (_tmp10_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new (_tmp8_ = g_strconcat (_tmp7_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "unref", NULL)))), _vala_ccode_node_unref0 (_tmp9_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp10_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) vpointer);
	ifbody = vala_ccode_block_new ();
	vala_ccode_block_add_statement (ifbody, (ValaCCodeNode*) (_tmp11_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp11_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp12_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) vpointer, (ValaCCodeStatement*) ifbody, NULL)));
	_vala_ccode_node_unref0 (_tmp12_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ifbody);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_type_value_table_copy_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeFormalParameter* _tmp4_;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeMemberAccess* _tmp7_;
	ValaCCodeMemberAccess* dest_vpointer;
	ValaCCodeIdentifier* _tmp8_;
	ValaCCodeMemberAccess* _tmp9_;
	ValaCCodeMemberAccess* _tmp10_;
	ValaCCodeMemberAccess* src_vpointer;
	char* _tmp11_;
	char* _tmp12_;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeFunctionCall* _tmp14_;
	ValaCCodeFunctionCall* ref_ccall;
	ValaCCodeBlock* true_stmt;
	ValaCCodeAssignment* _tmp15_;
	ValaCCodeExpressionStatement* _tmp16_;
	ValaCCodeBlock* false_stmt;
	ValaCCodeConstant* _tmp17_;
	ValaCCodeAssignment* _tmp18_;
	ValaCCodeExpressionStatement* _tmp19_;
	ValaCCodeIfStatement* if_statement;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_copy_value", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("src_value", "const GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_add_parameter (function, _tmp4_ = vala_ccode_formal_parameter_new ("dest_value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	dest_vpointer = (_tmp7_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp6_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_identifier_new ("dest_value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp6_), _vala_ccode_node_unref0 (_tmp5_), _tmp7_);
	src_vpointer = (_tmp10_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_identifier_new ("src_value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp9_), _vala_ccode_node_unref0 (_tmp8_), _tmp10_);
	ref_ccall = (_tmp14_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new (_tmp12_ = g_strconcat (_tmp11_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "ref", NULL)))), _vala_ccode_node_unref0 (_tmp13_), _g_free0 (_tmp12_), _g_free0 (_tmp11_), _tmp14_);
	vala_ccode_function_call_add_argument (ref_ccall, (ValaCCodeExpression*) src_vpointer);
	true_stmt = vala_ccode_block_new ();
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp16_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_assignment_new ((ValaCCodeExpression*) dest_vpointer, (ValaCCodeExpression*) ref_ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp16_);
	_vala_ccode_node_unref0 (_tmp15_);
	false_stmt = vala_ccode_block_new ();
	vala_ccode_block_add_statement (false_stmt, (ValaCCodeNode*) (_tmp19_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp18_ = vala_ccode_assignment_new ((ValaCCodeExpression*) dest_vpointer, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp19_);
	_vala_ccode_node_unref0 (_tmp18_);
	_vala_ccode_node_unref0 (_tmp17_);
	if_statement = vala_ccode_if_statement_new ((ValaCCodeExpression*) src_vpointer, (ValaCCodeStatement*) true_stmt, (ValaCCodeStatement*) false_stmt);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (if_statement);
	_vala_ccode_node_unref0 (false_stmt);
	_vala_ccode_node_unref0 (true_stmt);
	_vala_ccode_node_unref0 (ref_ccall);
	_vala_ccode_node_unref0 (src_vpointer);
	_vala_ccode_node_unref0 (dest_vpointer);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_type_value_table_peek_pointer_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeReturnStatement* ret;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_peek_pointer", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "gpointer"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("value", "const GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	vpointer = (_tmp6_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp5_), _vala_ccode_node_unref0 (_tmp4_), _tmp6_);
	ret = vala_ccode_return_statement_new ((ValaCCodeExpression*) vpointer);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ret);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ret);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_type_value_table_lcopy_value_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeFormalParameter* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeIdentifier* _tmp7_;
	ValaCCodeMemberAccess* _tmp8_;
	ValaCCodeMemberAccess* _tmp9_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeIdentifier* object_p_ptr;
	ValaCCodeConstant* null_;
	ValaCCodeBlock* init_block;
	char* _tmp10_;
	char* _tmp11_;
	ValaCCodeDeclaration* _tmp12_;
	ValaCCodeDeclaration* ctypedecl;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeMemberAccess* _tmp14_;
	ValaCCodeVariableDeclarator* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeFunctionCall* _tmp17_;
	ValaCCodeFunctionCall* value_type_name_fct;
	ValaCCodeConstant* _tmp18_;
	ValaCCodeIdentifier* _tmp19_;
	ValaCCodeUnaryExpression* _tmp20_;
	ValaCCodeUnaryExpression* assert_condition;
	ValaCCodeBlock* assert_true;
	ValaCCodeIdentifier* _tmp21_;
	ValaCCodeFunctionCall* _tmp22_;
	ValaCCodeFunctionCall* assert_printf;
	ValaCCodeConstant* _tmp23_;
	ValaCCodeReturnStatement* _tmp24_;
	ValaCCodeIfStatement* if_assert;
	ValaCCodeBlock* main_else_true;
	ValaCCodeBlock* main_else_if_true;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeIdentifier* _tmp26_;
	ValaCCodeBinaryExpression* _tmp27_;
	ValaCCodeBinaryExpression* main_else_if_condition;
	ValaCCodeIfStatement* main_else_if;
	ValaCCodeBlock* main_true;
	ValaCCodeUnaryExpression* main_condition;
	ValaCCodeIfStatement* if_main;
	char* _tmp28_;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeFunctionCall* _tmp30_;
	ValaCCodeFunctionCall* ref_fct;
	ValaCCodeAssignment* _tmp31_;
	ValaCCodeExpressionStatement* _tmp32_;
	ValaCCodeAssignment* _tmp33_;
	ValaCCodeExpressionStatement* _tmp34_;
	ValaCCodeAssignment* _tmp35_;
	ValaCCodeExpressionStatement* _tmp36_;
	ValaCCodeReturnStatement* _tmp37_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_lcopy_value", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "gchar*"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("value", "const GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_add_parameter (function, _tmp4_ = vala_ccode_formal_parameter_new ("n_collect_values", "guint"));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_function_add_parameter (function, _tmp5_ = vala_ccode_formal_parameter_new ("collect_values", "GTypeCValue*"));
	_vala_ccode_node_unref0 (_tmp5_);
	vala_ccode_function_add_parameter (function, _tmp6_ = vala_ccode_formal_parameter_new ("collect_flags", "guint"));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	vpointer = (_tmp9_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp8_), _vala_ccode_node_unref0 (_tmp7_), _tmp9_);
	object_p_ptr = vala_ccode_identifier_new ("*object_p");
	null_ = vala_ccode_constant_new ("NULL");
	init_block = vala_ccode_block_new ();
	ctypedecl = (_tmp12_ = vala_ccode_declaration_new (_tmp11_ = g_strconcat (_tmp10_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "**", NULL)), _g_free0 (_tmp11_), _g_free0 (_tmp10_), _tmp12_);
	vala_ccode_declaration_add_declarator (ctypedecl, (ValaCCodeDeclarator*) (_tmp15_ = vala_ccode_variable_declarator_new ("object_p", (ValaCCodeExpression*) (_tmp14_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("collect_values[0]")), "v_pointer", FALSE)), NULL)));
	_vala_ccode_node_unref0 (_tmp15_);
	_vala_ccode_node_unref0 (_tmp14_);
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ctypedecl);
	value_type_name_fct = (_tmp17_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("G_VALUE_TYPE_NAME"))), _vala_ccode_node_unref0 (_tmp16_), _tmp17_);
	vala_ccode_function_call_add_argument (value_type_name_fct, (ValaCCodeExpression*) (_tmp18_ = vala_ccode_constant_new ("value")));
	_vala_ccode_node_unref0 (_tmp18_);
	assert_condition = (_tmp20_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("object_p"))), _vala_ccode_node_unref0 (_tmp19_), _tmp20_);
	vala_ccode_function_set_block (function, init_block);
	assert_true = vala_ccode_block_new ();
	assert_printf = (_tmp22_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp21_ = vala_ccode_identifier_new ("g_strdup_printf"))), _vala_ccode_node_unref0 (_tmp21_), _tmp22_);
	vala_ccode_function_call_add_argument (assert_printf, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_constant_new ("\"value location for `%s' passed as NULL\"")));
	_vala_ccode_node_unref0 (_tmp23_);
	vala_ccode_function_call_add_argument (assert_printf, (ValaCCodeExpression*) value_type_name_fct);
	vala_ccode_block_add_statement (assert_true, (ValaCCodeNode*) (_tmp24_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) assert_printf)));
	_vala_ccode_node_unref0 (_tmp24_);
	if_assert = vala_ccode_if_statement_new ((ValaCCodeExpression*) assert_condition, (ValaCCodeStatement*) assert_true, NULL);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_assert);
	main_else_true = vala_ccode_block_new ();
	main_else_if_true = vala_ccode_block_new ();
	main_else_if_condition = (_tmp27_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_BITWISE_AND, (ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("collect_flags")), (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new ("G_VALUE_NOCOPY_CONTENTS"))), _vala_ccode_node_unref0 (_tmp26_), _vala_ccode_node_unref0 (_tmp25_), _tmp27_);
	main_else_if = vala_ccode_if_statement_new ((ValaCCodeExpression*) main_else_if_condition, (ValaCCodeStatement*) main_else_if_true, (ValaCCodeStatement*) main_else_true);
	main_true = vala_ccode_block_new ();
	main_condition = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (ValaCCodeExpression*) vpointer);
	if_main = vala_ccode_if_statement_new ((ValaCCodeExpression*) main_condition, (ValaCCodeStatement*) main_true, (ValaCCodeStatement*) main_else_if);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_main);
	ref_fct = (_tmp30_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new (_tmp28_ = vala_typesymbol_get_ref_function ((ValaTypeSymbol*) cl)))), _vala_ccode_node_unref0 (_tmp29_), _g_free0 (_tmp28_), _tmp30_);
	vala_ccode_function_call_add_argument (ref_fct, (ValaCCodeExpression*) vpointer);
	vala_ccode_block_add_statement (main_true, (ValaCCodeNode*) (_tmp32_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp31_ = vala_ccode_assignment_new ((ValaCCodeExpression*) object_p_ptr, (ValaCCodeExpression*) null_, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp32_);
	_vala_ccode_node_unref0 (_tmp31_);
	vala_ccode_block_add_statement (main_else_if_true, (ValaCCodeNode*) (_tmp34_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp33_ = vala_ccode_assignment_new ((ValaCCodeExpression*) object_p_ptr, (ValaCCodeExpression*) vpointer, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp34_);
	_vala_ccode_node_unref0 (_tmp33_);
	vala_ccode_block_add_statement (main_else_true, (ValaCCodeNode*) (_tmp36_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp35_ = vala_ccode_assignment_new ((ValaCCodeExpression*) object_p_ptr, (ValaCCodeExpression*) ref_fct, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp36_);
	_vala_ccode_node_unref0 (_tmp35_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp37_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) null_)));
	_vala_ccode_node_unref0 (_tmp37_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ref_fct);
	_vala_ccode_node_unref0 (if_main);
	_vala_ccode_node_unref0 (main_condition);
	_vala_ccode_node_unref0 (main_true);
	_vala_ccode_node_unref0 (main_else_if);
	_vala_ccode_node_unref0 (main_else_if_condition);
	_vala_ccode_node_unref0 (main_else_if_true);
	_vala_ccode_node_unref0 (main_else_true);
	_vala_ccode_node_unref0 (if_assert);
	_vala_ccode_node_unref0 (assert_printf);
	_vala_ccode_node_unref0 (assert_true);
	_vala_ccode_node_unref0 (assert_condition);
	_vala_ccode_node_unref0 (value_type_name_fct);
	_vala_ccode_node_unref0 (ctypedecl);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (null_);
	_vala_ccode_node_unref0 (object_p_ptr);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_type_value_table_collect_value_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeFormalParameter* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeIdentifier* _tmp7_;
	ValaCCodeMemberAccess* _tmp8_;
	ValaCCodeMemberAccess* _tmp9_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp10_;
	ValaCCodeMemberAccess* _tmp11_;
	ValaCCodeMemberAccess* collect_vpointer;
	ValaCCodeBlock* true_stmt;
	ValaCCodeBlock* false_stmt;
	ValaCCodeIfStatement* if_statement;
	ValaCCodeIdentifier* obj_identifier;
	char* _tmp12_;
	char* _tmp13_;
	ValaCCodeDeclaration* _tmp14_;
	ValaCCodeDeclaration* ctypedecl;
	ValaCCodeVariableDeclarator* _tmp15_;
	ValaCCodeMemberAccess* _tmp16_;
	ValaCCodeMemberAccess* _tmp17_;
	ValaCCodeMemberAccess* l_expression;
	ValaCCodeConstant* _tmp18_;
	ValaCCodeBinaryExpression* _tmp19_;
	ValaCCodeBinaryExpression* sub_condition;
	ValaCCodeBlock* sub_true_stmt;
	ValaCCodeBlock* sub_false_stmt;
	ValaCCodeIdentifier* _tmp20_;
	ValaCCodeFunctionCall* _tmp21_;
	ValaCCodeFunctionCall* reg_call;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeFunctionCall* _tmp23_;
	ValaCCodeFunctionCall* type_check;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeFunctionCall* _tmp26_;
	ValaCCodeFunctionCall* type_name_fct;
	ValaCCodeIdentifier* _tmp27_;
	ValaCCodeFunctionCall* _tmp28_;
	ValaCCodeFunctionCall* stored_type;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeIdentifier* _tmp30_;
	ValaCCodeFunctionCall* _tmp31_;
	ValaCCodeFunctionCall* value_type_name_fct;
	ValaCCodeConstant* _tmp32_;
	ValaCCodeIdentifier* _tmp33_;
	ValaCCodeFunctionCall* _tmp34_;
	ValaCCodeFunctionCall* true_return;
	ValaCCodeConstant* _tmp35_;
	ValaCCodeConstant* _tmp36_;
	ValaCCodeConstant* _tmp37_;
	ValaCCodeReturnStatement* _tmp38_;
	ValaCCodeIdentifier* _tmp39_;
	ValaCCodeFunctionCall* _tmp40_;
	ValaCCodeFunctionCall* false_return;
	ValaCCodeConstant* _tmp41_;
	ValaCCodeConstant* _tmp42_;
	ValaCCodeConstant* _tmp43_;
	ValaCCodeConstant* _tmp44_;
	ValaCCodeReturnStatement* _tmp45_;
	ValaCCodeUnaryExpression* _tmp46_;
	ValaCCodeIfStatement* _tmp47_;
	ValaCCodeIfStatement* sub_else_if_statement;
	ValaCCodeIfStatement* sub_if_statement;
	char* _tmp48_;
	ValaCCodeIdentifier* _tmp49_;
	ValaCCodeFunctionCall* _tmp50_;
	ValaCCodeFunctionCall* ref_call;
	ValaCCodeIdentifier* _tmp51_;
	ValaCCodeAssignment* _tmp52_;
	ValaCCodeExpressionStatement* _tmp53_;
	ValaCCodeExpressionStatement* true_assignment;
	ValaCCodeConstant* _tmp54_;
	ValaCCodeAssignment* _tmp55_;
	ValaCCodeExpressionStatement* _tmp56_;
	ValaCCodeExpressionStatement* else_assigment;
	ValaCCodeConstant* _tmp57_;
	ValaCCodeReturnStatement* _tmp58_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_collect_value", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "value_")), "gchar*"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_add_parameter (function, _tmp4_ = vala_ccode_formal_parameter_new ("n_collect_values", "guint"));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_function_add_parameter (function, _tmp5_ = vala_ccode_formal_parameter_new ("collect_values", "GTypeCValue*"));
	_vala_ccode_node_unref0 (_tmp5_);
	vala_ccode_function_add_parameter (function, _tmp6_ = vala_ccode_formal_parameter_new ("collect_flags", "guint"));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	vpointer = (_tmp9_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp8_), _vala_ccode_node_unref0 (_tmp7_), _tmp9_);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	collect_vpointer = (_tmp11_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new ("collect_values[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp10_), _tmp11_);
	true_stmt = vala_ccode_block_new ();
	false_stmt = vala_ccode_block_new ();
	if_statement = vala_ccode_if_statement_new ((ValaCCodeExpression*) collect_vpointer, (ValaCCodeStatement*) true_stmt, (ValaCCodeStatement*) false_stmt);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	obj_identifier = vala_ccode_identifier_new ("object");
	ctypedecl = (_tmp14_ = vala_ccode_declaration_new (_tmp13_ = g_strconcat (_tmp12_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)), _g_free0 (_tmp13_), _g_free0 (_tmp12_), _tmp14_);
	vala_ccode_declaration_add_declarator (ctypedecl, (ValaCCodeDeclarator*) (_tmp15_ = vala_ccode_variable_declarator_new ("object", (ValaCCodeExpression*) collect_vpointer, NULL)));
	_vala_ccode_node_unref0 (_tmp15_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) ctypedecl);
	l_expression = (_tmp17_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) obj_identifier, "parent_instance")), "g_class", FALSE), _vala_ccode_node_unref0 (_tmp16_), _tmp17_);
	sub_condition = (_tmp19_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_EQUALITY, (ValaCCodeExpression*) l_expression, (ValaCCodeExpression*) (_tmp18_ = vala_ccode_constant_new ("NULL"))), _vala_ccode_node_unref0 (_tmp18_), _tmp19_);
	sub_true_stmt = vala_ccode_block_new ();
	sub_false_stmt = vala_ccode_block_new ();
	reg_call = (_tmp21_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("g_value_type_compatible"))), _vala_ccode_node_unref0 (_tmp20_), _tmp21_);
	type_check = (_tmp23_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("G_TYPE_FROM_INSTANCE"))), _vala_ccode_node_unref0 (_tmp22_), _tmp23_);
	vala_ccode_function_call_add_argument (type_check, (ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("object")));
	_vala_ccode_node_unref0 (_tmp24_);
	vala_ccode_function_call_add_argument (reg_call, (ValaCCodeExpression*) type_check);
	type_name_fct = (_tmp26_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("g_type_name"))), _vala_ccode_node_unref0 (_tmp25_), _tmp26_);
	vala_ccode_function_call_add_argument (type_name_fct, (ValaCCodeExpression*) type_check);
	stored_type = (_tmp28_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp27_ = vala_ccode_identifier_new ("G_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp27_), _tmp28_);
	vala_ccode_function_call_add_argument (stored_type, (ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp29_);
	vala_ccode_function_call_add_argument (reg_call, (ValaCCodeExpression*) stored_type);
	value_type_name_fct = (_tmp31_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp30_ = vala_ccode_identifier_new ("G_VALUE_TYPE_NAME"))), _vala_ccode_node_unref0 (_tmp30_), _tmp31_);
	vala_ccode_function_call_add_argument (value_type_name_fct, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_constant_new ("value")));
	_vala_ccode_node_unref0 (_tmp32_);
	true_return = (_tmp34_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp33_ = vala_ccode_identifier_new ("g_strconcat"))), _vala_ccode_node_unref0 (_tmp33_), _tmp34_);
	vala_ccode_function_call_add_argument (true_return, (ValaCCodeExpression*) (_tmp35_ = vala_ccode_constant_new ("\"invalid unclassed object pointer for value type `\"")));
	_vala_ccode_node_unref0 (_tmp35_);
	vala_ccode_function_call_add_argument (true_return, (ValaCCodeExpression*) value_type_name_fct);
	vala_ccode_function_call_add_argument (true_return, (ValaCCodeExpression*) (_tmp36_ = vala_ccode_constant_new ("\"'\"")));
	_vala_ccode_node_unref0 (_tmp36_);
	vala_ccode_function_call_add_argument (true_return, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_constant_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp37_);
	vala_ccode_block_add_statement (sub_true_stmt, (ValaCCodeNode*) (_tmp38_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) true_return)));
	_vala_ccode_node_unref0 (_tmp38_);
	false_return = (_tmp40_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp39_ = vala_ccode_identifier_new ("g_strconcat"))), _vala_ccode_node_unref0 (_tmp39_), _tmp40_);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) (_tmp41_ = vala_ccode_constant_new ("\"invalid object type `\"")));
	_vala_ccode_node_unref0 (_tmp41_);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) type_name_fct);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) (_tmp42_ = vala_ccode_constant_new ("\"' for value type `\"")));
	_vala_ccode_node_unref0 (_tmp42_);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) value_type_name_fct);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) (_tmp43_ = vala_ccode_constant_new ("\"'\"")));
	_vala_ccode_node_unref0 (_tmp43_);
	vala_ccode_function_call_add_argument (false_return, (ValaCCodeExpression*) (_tmp44_ = vala_ccode_constant_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp44_);
	vala_ccode_block_add_statement (sub_false_stmt, (ValaCCodeNode*) (_tmp45_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) false_return)));
	_vala_ccode_node_unref0 (_tmp45_);
	sub_else_if_statement = (_tmp47_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp46_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (ValaCCodeExpression*) reg_call)), (ValaCCodeStatement*) sub_false_stmt, NULL), _vala_ccode_node_unref0 (_tmp46_), _tmp47_);
	vala_ccode_if_statement_set_else_if (sub_else_if_statement, TRUE);
	sub_if_statement = vala_ccode_if_statement_new ((ValaCCodeExpression*) sub_condition, (ValaCCodeStatement*) sub_true_stmt, (ValaCCodeStatement*) sub_else_if_statement);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) sub_if_statement);
	ref_call = (_tmp50_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp49_ = vala_ccode_identifier_new (_tmp48_ = vala_typesymbol_get_ref_function ((ValaTypeSymbol*) cl)))), _vala_ccode_node_unref0 (_tmp49_), _g_free0 (_tmp48_), _tmp50_);
	vala_ccode_function_call_add_argument (ref_call, (ValaCCodeExpression*) (_tmp51_ = vala_ccode_identifier_new ("object")));
	_vala_ccode_node_unref0 (_tmp51_);
	true_assignment = (_tmp53_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp52_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) ref_call, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE))), _vala_ccode_node_unref0 (_tmp52_), _tmp53_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) true_assignment);
	else_assigment = (_tmp56_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp55_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) (_tmp54_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE))), _vala_ccode_node_unref0 (_tmp55_), _vala_ccode_node_unref0 (_tmp54_), _tmp56_);
	vala_ccode_block_add_statement (false_stmt, (ValaCCodeNode*) else_assigment);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp58_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp57_ = vala_ccode_constant_new ("NULL")))));
	_vala_ccode_node_unref0 (_tmp58_);
	_vala_ccode_node_unref0 (_tmp57_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (else_assigment);
	_vala_ccode_node_unref0 (true_assignment);
	_vala_ccode_node_unref0 (ref_call);
	_vala_ccode_node_unref0 (sub_if_statement);
	_vala_ccode_node_unref0 (sub_else_if_statement);
	_vala_ccode_node_unref0 (false_return);
	_vala_ccode_node_unref0 (true_return);
	_vala_ccode_node_unref0 (value_type_name_fct);
	_vala_ccode_node_unref0 (stored_type);
	_vala_ccode_node_unref0 (type_name_fct);
	_vala_ccode_node_unref0 (type_check);
	_vala_ccode_node_unref0 (reg_call);
	_vala_ccode_node_unref0 (sub_false_stmt);
	_vala_ccode_node_unref0 (sub_true_stmt);
	_vala_ccode_node_unref0 (sub_condition);
	_vala_ccode_node_unref0 (l_expression);
	_vala_ccode_node_unref0 (ctypedecl);
	_vala_ccode_node_unref0 (obj_identifier);
	_vala_ccode_node_unref0 (if_statement);
	_vala_ccode_node_unref0 (false_stmt);
	_vala_ccode_node_unref0 (true_stmt);
	_vala_ccode_node_unref0 (collect_vpointer);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_g_param_spec_type_function (ValaGTypeModule* self, ValaClass* cl) {
	char* function_name;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp0_;
	ValaCCodeFormalParameter* _tmp1_;
	ValaCCodeFormalParameter* _tmp2_;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeFormalParameter* _tmp4_;
	ValaCCodeBlock* init_block;
	char* _tmp5_;
	char* _tmp6_;
	ValaCCodeDeclaration* _tmp7_;
	ValaCCodeDeclaration* ctypedecl;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeFunctionCall* _tmp10_;
	ValaCCodeFunctionCall* subccall;
	ValaCCodeIdentifier* _tmp11_;
	char* _tmp12_;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeIdentifier* _tmp14_;
	ValaCCodeFunctionCall* _tmp15_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeExpressionStatement* _tmp17_;
	ValaCCodeIdentifier* _tmp18_;
	ValaCCodeFunctionCall* _tmp19_;
	ValaCCodeIdentifier* _tmp20_;
	ValaCCodeIdentifier* _tmp21_;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeIdentifier* _tmp23_;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeAssignment* _tmp26_;
	ValaCCodeExpressionStatement* _tmp27_;
	ValaCCodeIdentifier* _tmp28_;
	ValaCCodeFunctionCall* _tmp29_;
	ValaCCodeIdentifier* _tmp30_;
	ValaCCodeMemberAccess* _tmp31_;
	ValaCCodeIdentifier* _tmp32_;
	ValaCCodeAssignment* _tmp33_;
	ValaCCodeExpressionStatement* _tmp34_;
	ValaCCodeReturnStatement* _tmp35_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function_name = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, "param_spec_");
	function = vala_ccode_function_new (function_name, "GParamSpec*");
	vala_ccode_function_add_parameter (function, _tmp0_ = vala_ccode_formal_parameter_new ("name", "const gchar*"));
	_vala_ccode_node_unref0 (_tmp0_);
	vala_ccode_function_add_parameter (function, _tmp1_ = vala_ccode_formal_parameter_new ("nick", "const gchar*"));
	_vala_ccode_node_unref0 (_tmp1_);
	vala_ccode_function_add_parameter (function, _tmp2_ = vala_ccode_formal_parameter_new ("blurb", "const gchar*"));
	_vala_ccode_node_unref0 (_tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("object_type", "GType"));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_function_add_parameter (function, _tmp4_ = vala_ccode_formal_parameter_new ("flags", "GParamFlags"));
	_vala_ccode_node_unref0 (_tmp4_);
	if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
		vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	}
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	ctypedecl = (_tmp7_ = vala_ccode_declaration_new (_tmp6_ = g_strdup_printf ("%sParamSpec%s*", _tmp5_ = vala_symbol_get_cprefix (vala_symbol_get_parent_symbol ((ValaSymbol*) cl)), vala_symbol_get_name ((ValaSymbol*) cl))), _g_free0 (_tmp6_), _g_free0 (_tmp5_), _tmp7_);
	vala_ccode_declaration_add_declarator (ctypedecl, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new ("spec", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ctypedecl);
	subccall = (_tmp10_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new ("g_type_is_a"))), _vala_ccode_node_unref0 (_tmp9_), _tmp10_);
	vala_ccode_function_call_add_argument (subccall, (ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("object_type")));
	_vala_ccode_node_unref0 (_tmp11_);
	vala_ccode_function_call_add_argument (subccall, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new (_tmp12_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp13_);
	_g_free0 (_tmp12_);
	ccall = (_tmp15_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("g_return_val_if_fail"))), _vala_ccode_node_unref0 (_tmp14_), _tmp15_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) subccall);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp16_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp17_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp17_);
	ccall = (_tmp19_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new ("g_param_spec_internal"))), _vala_ccode_node_unref0 (ccall), _tmp19_);
	_vala_ccode_node_unref0 (_tmp18_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("G_TYPE_PARAM_OBJECT")));
	_vala_ccode_node_unref0 (_tmp20_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_identifier_new ("name")));
	_vala_ccode_node_unref0 (_tmp21_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("nick")));
	_vala_ccode_node_unref0 (_tmp22_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_identifier_new ("blurb")));
	_vala_ccode_node_unref0 (_tmp23_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("flags")));
	_vala_ccode_node_unref0 (_tmp24_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp27_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp26_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("spec")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp27_);
	_vala_ccode_node_unref0 (_tmp26_);
	_vala_ccode_node_unref0 (_tmp25_);
	ccall = (_tmp29_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new ("G_PARAM_SPEC"))), _vala_ccode_node_unref0 (ccall), _tmp29_);
	_vala_ccode_node_unref0 (_tmp28_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp30_ = vala_ccode_identifier_new ("spec")));
	_vala_ccode_node_unref0 (_tmp30_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp34_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp33_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp31_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccall, "value_type")), (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new ("object_type")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp34_);
	_vala_ccode_node_unref0 (_tmp33_);
	_vala_ccode_node_unref0 (_tmp32_);
	_vala_ccode_node_unref0 (_tmp31_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp35_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp35_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (subccall);
	_vala_ccode_node_unref0 (ctypedecl);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (function);
	_g_free0 (function_name);
}


static void vala_gtype_module_add_g_value_set_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	ValaCCodeFunction* _tmp1_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp2_;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeBlock* init_block;
	char* _tmp7_;
	char* _tmp8_;
	ValaCCodeDeclaration* _tmp9_;
	ValaCCodeDeclaration* ctypedecl;
	ValaCCodeVariableDeclarator* _tmp10_;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeFunctionCall* _tmp12_;
	ValaCCodeFunctionCall* ccall_typecheck;
	ValaCCodeIdentifier* _tmp13_;
	char* _tmp14_;
	ValaCCodeIdentifier* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeFunctionCall* _tmp17_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeExpressionStatement* _tmp18_;
	ValaCCodeConstant* _tmp19_;
	ValaCCodeAssignment* _tmp20_;
	ValaCCodeExpressionStatement* _tmp21_;
	ValaCCodeBlock* true_stmt;
	ValaCCodeBlock* false_stmt;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeIfStatement* _tmp23_;
	ValaCCodeIfStatement* if_statement;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeFunctionCall* _tmp25_;
	ValaCCodeIdentifier* _tmp26_;
	char* _tmp27_;
	ValaCCodeIdentifier* _tmp28_;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeFunctionCall* _tmp30_;
	ValaCCodeExpressionStatement* _tmp31_;
	ValaCCodeIdentifier* _tmp32_;
	ValaCCodeFunctionCall* _tmp33_;
	ValaCCodeFunctionCall* ccall_typefrominstance;
	ValaCCodeIdentifier* _tmp34_;
	ValaCCodeIdentifier* _tmp35_;
	ValaCCodeFunctionCall* _tmp36_;
	ValaCCodeFunctionCall* ccall_gvaluetype;
	ValaCCodeIdentifier* _tmp37_;
	ValaCCodeIdentifier* _tmp38_;
	ValaCCodeFunctionCall* _tmp39_;
	ValaCCodeFunctionCall* ccall_typecompatible;
	ValaCCodeIdentifier* _tmp40_;
	ValaCCodeFunctionCall* _tmp41_;
	ValaCCodeExpressionStatement* _tmp42_;
	ValaCCodeConstant* _tmp43_;
	ValaCCodeAssignment* _tmp44_;
	ValaCCodeExpressionStatement* _tmp45_;
	char* _tmp46_;
	ValaCCodeIdentifier* _tmp47_;
	ValaCCodeFunctionCall* _tmp48_;
	ValaCCodeExpressionStatement* _tmp49_;
	ValaCCodeConstant* _tmp50_;
	ValaCCodeAssignment* _tmp51_;
	ValaCCodeExpressionStatement* _tmp52_;
	ValaCCodeBlock* _tmp53_;
	ValaCCodeIdentifier* _tmp54_;
	ValaCCodeIfStatement* _tmp55_;
	char* _tmp56_;
	ValaCCodeIdentifier* _tmp57_;
	ValaCCodeFunctionCall* _tmp58_;
	ValaCCodeIdentifier* _tmp59_;
	ValaCCodeExpressionStatement* _tmp60_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp1_ = vala_ccode_function_new (_tmp0_ = vala_typesymbol_get_set_value_function ((ValaTypeSymbol*) cl), "void"), _g_free0 (_tmp0_), _tmp1_);
	vala_ccode_function_add_parameter (function, _tmp2_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("v_object", "gpointer"));
	_vala_ccode_node_unref0 (_tmp3_);
	if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
		vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	}
	vpointer = (_tmp6_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp5_), _vala_ccode_node_unref0 (_tmp4_), _tmp6_);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	ctypedecl = (_tmp9_ = vala_ccode_declaration_new (_tmp8_ = g_strconcat (_tmp7_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp9_);
	vala_ccode_declaration_add_declarator (ctypedecl, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new ("old", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp10_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ctypedecl);
	ccall_typecheck = (_tmp12_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("G_TYPE_CHECK_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp11_), _tmp12_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new (_tmp14_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp14_);
	ccall = (_tmp17_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (_tmp16_), _tmp17_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecheck);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp18_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp18_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp21_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_constant_new ("old")), (ValaCCodeExpression*) vpointer, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp21_);
	_vala_ccode_node_unref0 (_tmp20_);
	_vala_ccode_node_unref0 (_tmp19_);
	true_stmt = vala_ccode_block_new ();
	false_stmt = vala_ccode_block_new ();
	if_statement = (_tmp23_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("v_object")), (ValaCCodeStatement*) true_stmt, (ValaCCodeStatement*) false_stmt), _vala_ccode_node_unref0 (_tmp22_), _tmp23_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	ccall_typecheck = (_tmp25_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("G_TYPE_CHECK_INSTANCE_TYPE"))), _vala_ccode_node_unref0 (ccall_typecheck), _tmp25_);
	_vala_ccode_node_unref0 (_tmp24_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new ("v_object")));
	_vala_ccode_node_unref0 (_tmp26_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new (_tmp27_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp28_);
	_g_free0 (_tmp27_);
	ccall = (_tmp30_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (ccall), _tmp30_);
	_vala_ccode_node_unref0 (_tmp29_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecheck);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp31_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp31_);
	ccall_typefrominstance = (_tmp33_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new ("G_TYPE_FROM_INSTANCE"))), _vala_ccode_node_unref0 (_tmp32_), _tmp33_);
	vala_ccode_function_call_add_argument (ccall_typefrominstance, (ValaCCodeExpression*) (_tmp34_ = vala_ccode_identifier_new ("v_object")));
	_vala_ccode_node_unref0 (_tmp34_);
	ccall_gvaluetype = (_tmp36_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp35_ = vala_ccode_identifier_new ("G_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp35_), _tmp36_);
	vala_ccode_function_call_add_argument (ccall_gvaluetype, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp37_);
	ccall_typecompatible = (_tmp39_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new ("g_value_type_compatible"))), _vala_ccode_node_unref0 (_tmp38_), _tmp39_);
	vala_ccode_function_call_add_argument (ccall_typecompatible, (ValaCCodeExpression*) ccall_typefrominstance);
	vala_ccode_function_call_add_argument (ccall_typecompatible, (ValaCCodeExpression*) ccall_gvaluetype);
	ccall = (_tmp41_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (ccall), _tmp41_);
	_vala_ccode_node_unref0 (_tmp40_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecompatible);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp42_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp42_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp45_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp44_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) (_tmp43_ = vala_ccode_constant_new ("v_object")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp45_);
	_vala_ccode_node_unref0 (_tmp44_);
	_vala_ccode_node_unref0 (_tmp43_);
	ccall = (_tmp48_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp47_ = vala_ccode_identifier_new (_tmp46_ = vala_typesymbol_get_ref_function ((ValaTypeSymbol*) cl)))), _vala_ccode_node_unref0 (ccall), _tmp48_);
	_vala_ccode_node_unref0 (_tmp47_);
	_g_free0 (_tmp46_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) vpointer);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp49_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp49_);
	vala_ccode_block_add_statement (false_stmt, (ValaCCodeNode*) (_tmp52_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp51_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) (_tmp50_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp52_);
	_vala_ccode_node_unref0 (_tmp51_);
	_vala_ccode_node_unref0 (_tmp50_);
	true_stmt = (_tmp53_ = vala_ccode_block_new (), _vala_ccode_node_unref0 (true_stmt), _tmp53_);
	if_statement = (_tmp55_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp54_ = vala_ccode_identifier_new ("old")), (ValaCCodeStatement*) true_stmt, NULL), _vala_ccode_node_unref0 (if_statement), _tmp55_);
	_vala_ccode_node_unref0 (_tmp54_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	ccall = (_tmp58_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp57_ = vala_ccode_identifier_new (_tmp56_ = vala_typesymbol_get_unref_function ((ValaTypeSymbol*) cl)))), _vala_ccode_node_unref0 (ccall), _tmp58_);
	_vala_ccode_node_unref0 (_tmp57_);
	_g_free0 (_tmp56_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp59_ = vala_ccode_identifier_new ("old")));
	_vala_ccode_node_unref0 (_tmp59_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp60_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp60_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ccall_typecompatible);
	_vala_ccode_node_unref0 (ccall_gvaluetype);
	_vala_ccode_node_unref0 (ccall_typefrominstance);
	_vala_ccode_node_unref0 (if_statement);
	_vala_ccode_node_unref0 (false_stmt);
	_vala_ccode_node_unref0 (true_stmt);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (ccall_typecheck);
	_vala_ccode_node_unref0 (ctypedecl);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_g_value_take_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	ValaCCodeFunction* _tmp1_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp2_;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* _tmp6_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeBlock* init_block;
	char* _tmp7_;
	char* _tmp8_;
	ValaCCodeDeclaration* _tmp9_;
	ValaCCodeDeclaration* ctypedecl;
	ValaCCodeVariableDeclarator* _tmp10_;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeFunctionCall* _tmp12_;
	ValaCCodeFunctionCall* ccall_typecheck;
	ValaCCodeIdentifier* _tmp13_;
	char* _tmp14_;
	ValaCCodeIdentifier* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeFunctionCall* _tmp17_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeExpressionStatement* _tmp18_;
	ValaCCodeConstant* _tmp19_;
	ValaCCodeAssignment* _tmp20_;
	ValaCCodeExpressionStatement* _tmp21_;
	ValaCCodeBlock* true_stmt;
	ValaCCodeBlock* false_stmt;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeIfStatement* _tmp23_;
	ValaCCodeIfStatement* if_statement;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeFunctionCall* _tmp25_;
	ValaCCodeIdentifier* _tmp26_;
	char* _tmp27_;
	ValaCCodeIdentifier* _tmp28_;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeFunctionCall* _tmp30_;
	ValaCCodeExpressionStatement* _tmp31_;
	ValaCCodeIdentifier* _tmp32_;
	ValaCCodeFunctionCall* _tmp33_;
	ValaCCodeFunctionCall* ccall_typefrominstance;
	ValaCCodeIdentifier* _tmp34_;
	ValaCCodeIdentifier* _tmp35_;
	ValaCCodeFunctionCall* _tmp36_;
	ValaCCodeFunctionCall* ccall_gvaluetype;
	ValaCCodeIdentifier* _tmp37_;
	ValaCCodeIdentifier* _tmp38_;
	ValaCCodeFunctionCall* _tmp39_;
	ValaCCodeFunctionCall* ccall_typecompatible;
	ValaCCodeIdentifier* _tmp40_;
	ValaCCodeFunctionCall* _tmp41_;
	ValaCCodeExpressionStatement* _tmp42_;
	ValaCCodeConstant* _tmp43_;
	ValaCCodeAssignment* _tmp44_;
	ValaCCodeExpressionStatement* _tmp45_;
	ValaCCodeConstant* _tmp46_;
	ValaCCodeAssignment* _tmp47_;
	ValaCCodeExpressionStatement* _tmp48_;
	ValaCCodeBlock* _tmp49_;
	ValaCCodeIdentifier* _tmp50_;
	ValaCCodeIfStatement* _tmp51_;
	char* _tmp52_;
	ValaCCodeIdentifier* _tmp53_;
	ValaCCodeFunctionCall* _tmp54_;
	ValaCCodeIdentifier* _tmp55_;
	ValaCCodeExpressionStatement* _tmp56_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp1_ = vala_ccode_function_new (_tmp0_ = vala_typesymbol_get_take_value_function ((ValaTypeSymbol*) cl), "void"), _g_free0 (_tmp0_), _tmp1_);
	vala_ccode_function_add_parameter (function, _tmp2_ = vala_ccode_formal_parameter_new ("value", "GValue*"));
	_vala_ccode_node_unref0 (_tmp2_);
	vala_ccode_function_add_parameter (function, _tmp3_ = vala_ccode_formal_parameter_new ("v_object", "gpointer"));
	_vala_ccode_node_unref0 (_tmp3_);
	if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
		vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	}
	vpointer = (_tmp6_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp5_), _vala_ccode_node_unref0 (_tmp4_), _tmp6_);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	ctypedecl = (_tmp9_ = vala_ccode_declaration_new (_tmp8_ = g_strconcat (_tmp7_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "*", NULL)), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp9_);
	vala_ccode_declaration_add_declarator (ctypedecl, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new ("old", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp10_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ctypedecl);
	ccall_typecheck = (_tmp12_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("G_TYPE_CHECK_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp11_), _tmp12_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new (_tmp14_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp14_);
	ccall = (_tmp17_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (_tmp16_), _tmp17_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecheck);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp18_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp18_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp21_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_constant_new ("old")), (ValaCCodeExpression*) vpointer, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp21_);
	_vala_ccode_node_unref0 (_tmp20_);
	_vala_ccode_node_unref0 (_tmp19_);
	true_stmt = vala_ccode_block_new ();
	false_stmt = vala_ccode_block_new ();
	if_statement = (_tmp23_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("v_object")), (ValaCCodeStatement*) true_stmt, (ValaCCodeStatement*) false_stmt), _vala_ccode_node_unref0 (_tmp22_), _tmp23_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	ccall_typecheck = (_tmp25_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("G_TYPE_CHECK_INSTANCE_TYPE"))), _vala_ccode_node_unref0 (ccall_typecheck), _tmp25_);
	_vala_ccode_node_unref0 (_tmp24_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new ("v_object")));
	_vala_ccode_node_unref0 (_tmp26_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new (_tmp27_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp28_);
	_g_free0 (_tmp27_);
	ccall = (_tmp30_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (ccall), _tmp30_);
	_vala_ccode_node_unref0 (_tmp29_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecheck);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp31_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp31_);
	ccall_typefrominstance = (_tmp33_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new ("G_TYPE_FROM_INSTANCE"))), _vala_ccode_node_unref0 (_tmp32_), _tmp33_);
	vala_ccode_function_call_add_argument (ccall_typefrominstance, (ValaCCodeExpression*) (_tmp34_ = vala_ccode_identifier_new ("v_object")));
	_vala_ccode_node_unref0 (_tmp34_);
	ccall_gvaluetype = (_tmp36_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp35_ = vala_ccode_identifier_new ("G_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp35_), _tmp36_);
	vala_ccode_function_call_add_argument (ccall_gvaluetype, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp37_);
	ccall_typecompatible = (_tmp39_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new ("g_value_type_compatible"))), _vala_ccode_node_unref0 (_tmp38_), _tmp39_);
	vala_ccode_function_call_add_argument (ccall_typecompatible, (ValaCCodeExpression*) ccall_typefrominstance);
	vala_ccode_function_call_add_argument (ccall_typecompatible, (ValaCCodeExpression*) ccall_gvaluetype);
	ccall = (_tmp41_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new ("g_return_if_fail"))), _vala_ccode_node_unref0 (ccall), _tmp41_);
	_vala_ccode_node_unref0 (_tmp40_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecompatible);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp42_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp42_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp45_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp44_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) (_tmp43_ = vala_ccode_constant_new ("v_object")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp45_);
	_vala_ccode_node_unref0 (_tmp44_);
	_vala_ccode_node_unref0 (_tmp43_);
	vala_ccode_block_add_statement (false_stmt, (ValaCCodeNode*) (_tmp48_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp47_ = vala_ccode_assignment_new ((ValaCCodeExpression*) vpointer, (ValaCCodeExpression*) (_tmp46_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp48_);
	_vala_ccode_node_unref0 (_tmp47_);
	_vala_ccode_node_unref0 (_tmp46_);
	true_stmt = (_tmp49_ = vala_ccode_block_new (), _vala_ccode_node_unref0 (true_stmt), _tmp49_);
	if_statement = (_tmp51_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp50_ = vala_ccode_identifier_new ("old")), (ValaCCodeStatement*) true_stmt, NULL), _vala_ccode_node_unref0 (if_statement), _tmp51_);
	_vala_ccode_node_unref0 (_tmp50_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) if_statement);
	ccall = (_tmp54_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp53_ = vala_ccode_identifier_new (_tmp52_ = vala_typesymbol_get_unref_function ((ValaTypeSymbol*) cl)))), _vala_ccode_node_unref0 (ccall), _tmp54_);
	_vala_ccode_node_unref0 (_tmp53_);
	_g_free0 (_tmp52_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp55_ = vala_ccode_identifier_new ("old")));
	_vala_ccode_node_unref0 (_tmp55_);
	vala_ccode_block_add_statement (true_stmt, (ValaCCodeNode*) (_tmp56_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp56_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ccall_typecompatible);
	_vala_ccode_node_unref0 (ccall_gvaluetype);
	_vala_ccode_node_unref0 (ccall_typefrominstance);
	_vala_ccode_node_unref0 (if_statement);
	_vala_ccode_node_unref0 (false_stmt);
	_vala_ccode_node_unref0 (true_stmt);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (ccall_typecheck);
	_vala_ccode_node_unref0 (ctypedecl);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_g_value_get_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	ValaCCodeFunction* _tmp1_;
	ValaCCodeFunction* function;
	ValaCCodeFormalParameter* _tmp2_;
	ValaCCodeIdentifier* _tmp3_;
	ValaCCodeMemberAccess* _tmp4_;
	ValaCCodeMemberAccess* _tmp5_;
	ValaCCodeMemberAccess* vpointer;
	ValaCCodeBlock* init_block;
	ValaCCodeIdentifier* _tmp6_;
	ValaCCodeFunctionCall* _tmp7_;
	ValaCCodeFunctionCall* ccall_typecheck;
	ValaCCodeIdentifier* _tmp8_;
	char* _tmp9_;
	ValaCCodeIdentifier* _tmp10_;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeFunctionCall* _tmp12_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeExpressionStatement* _tmp14_;
	ValaCCodeReturnStatement* _tmp15_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp1_ = vala_ccode_function_new (_tmp0_ = vala_typesymbol_get_get_value_function ((ValaTypeSymbol*) cl), "gpointer"), _g_free0 (_tmp0_), _tmp1_);
	vala_ccode_function_add_parameter (function, _tmp2_ = vala_ccode_formal_parameter_new ("value", "const GValue*"));
	_vala_ccode_node_unref0 (_tmp2_);
	if (vala_symbol_get_access ((ValaSymbol*) cl) == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
		vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	}
	vpointer = (_tmp5_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new ("value")), "data[0]")), "v_pointer", FALSE), _vala_ccode_node_unref0 (_tmp4_), _vala_ccode_node_unref0 (_tmp3_), _tmp5_);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (function, init_block);
	ccall_typecheck = (_tmp7_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp6_ = vala_ccode_identifier_new ("G_TYPE_CHECK_VALUE_TYPE"))), _vala_ccode_node_unref0 (_tmp6_), _tmp7_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp8_ = vala_ccode_identifier_new ("value")));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_function_call_add_argument (ccall_typecheck, (ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new (_tmp9_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) cl))));
	_vala_ccode_node_unref0 (_tmp10_);
	_g_free0 (_tmp9_);
	ccall = (_tmp12_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("g_return_val_if_fail"))), _vala_ccode_node_unref0 (_tmp11_), _tmp12_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall_typecheck);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp14_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp14_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp15_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) vpointer)));
	_vala_ccode_node_unref0 (_tmp15_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (ccall_typecheck);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (vpointer);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_base_init_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* base_init;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeBlock* init_block;
	gboolean _tmp6_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	base_init = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_base_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (base_init, _tmp5_ = vala_ccode_formal_parameter_new ("klass", _tmp4_ = g_strdup_printf ("%sClass *", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_function_set_modifiers (base_init, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (base_init, init_block);
	if (!vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 24)) {
		_tmp6_ = vala_class_get_has_class_private_fields (cl);
	} else {
		_tmp6_ = FALSE;
	}
	if (_tmp6_) {
		ValaCCodeBlock* block;
		char* _tmp7_;
		char* _tmp8_;
		ValaCCodeDeclaration* _tmp9_;
		ValaCCodeDeclaration* _cdecl_;
		ValaCCodeVariableDeclarator* _tmp10_;
		char* _tmp11_;
		char* _tmp12_;
		ValaCCodeDeclaration* _tmp13_;
		ValaCCodeConstant* _tmp14_;
		ValaCCodeVariableDeclarator* _tmp15_;
		ValaCCodeDeclaration* _tmp16_;
		ValaCCodeVariableDeclarator* _tmp17_;
		ValaCCodeIdentifier* _tmp18_;
		ValaCCodeFunctionCall* _tmp19_;
		ValaCCodeFunctionCall* ccall;
		ValaCCodeIdentifier* _tmp20_;
		ValaCCodeFunctionCall* _tmp21_;
		ValaCCodeFunctionCall* ccall2;
		ValaCCodeIdentifier* _tmp22_;
		ValaCCodeIdentifier* _tmp23_;
		ValaCCodeAssignment* _tmp24_;
		ValaCCodeExpressionStatement* _tmp25_;
		ValaCCodeBlock* iftrue;
		char* _tmp26_;
		char* _tmp27_;
		ValaCCodeIdentifier* _tmp28_;
		ValaCCodeFunctionCall* _tmp29_;
		ValaCCodeIdentifier* _tmp30_;
		ValaCCodeFunctionCall* _tmp31_;
		ValaCCodeIdentifier* _tmp32_;
		ValaCCodeIdentifier* _tmp33_;
		ValaCCodeAssignment* _tmp34_;
		ValaCCodeExpressionStatement* _tmp35_;
		ValaCCodeIdentifier* _tmp36_;
		ValaCCodeIfStatement* _tmp37_;
		ValaCCodeIdentifier* _tmp38_;
		ValaCCodeFunctionCall* _tmp39_;
		char* _tmp40_;
		char* _tmp41_;
		ValaCCodeIdentifier* _tmp42_;
		ValaCCodeIdentifier* _tmp43_;
		ValaCCodeAssignment* _tmp44_;
		ValaCCodeExpressionStatement* _tmp45_;
		ValaCCodeBlock* _tmp46_;
		ValaCCodeIdentifier* _tmp47_;
		ValaCCodeFunctionCall* _tmp48_;
		ValaCCodeIdentifier* _tmp49_;
		ValaCCodeIdentifier* _tmp50_;
		char* _tmp51_;
		char* _tmp52_;
		ValaCCodeIdentifier* _tmp53_;
		ValaCCodeExpressionStatement* _tmp54_;
		ValaCCodeIdentifier* _tmp55_;
		ValaCCodeIfStatement* _tmp56_;
		ValaCCodeIdentifier* _tmp57_;
		ValaCCodeFunctionCall* _tmp58_;
		ValaCCodeIdentifier* _tmp59_;
		ValaCCodeFunctionCall* _tmp60_;
		ValaCCodeIdentifier* _tmp61_;
		char* _tmp62_;
		char* _tmp63_;
		ValaCCodeIdentifier* _tmp64_;
		ValaCCodeIdentifier* _tmp65_;
		ValaCCodeExpressionStatement* _tmp66_;
		ValaCCodeBlock* _tmp67_;
		char* _tmp68_;
		char* _tmp69_;
		ValaCCodeDeclaration* _tmp70_;
		ValaCCodeVariableDeclarator* _tmp71_;
		char* _tmp72_;
		char* _tmp73_;
		ValaCCodeIdentifier* _tmp74_;
		ValaCCodeFunctionCall* _tmp75_;
		ValaCCodeConstant* _tmp76_;
		ValaCCodeIdentifier* _tmp77_;
		ValaCCodeAssignment* _tmp78_;
		ValaCCodeExpressionStatement* _tmp79_;
		ValaCCodeIdentifier* _tmp80_;
		ValaCCodeFunctionCall* _tmp81_;
		char* _tmp82_;
		char* _tmp83_;
		ValaCCodeIdentifier* _tmp84_;
		ValaCCodeIdentifier* _tmp85_;
		ValaCCodeExpressionStatement* _tmp86_;
		block = vala_ccode_block_new ();
		_cdecl_ = (_tmp9_ = vala_ccode_declaration_new (_tmp8_ = g_strdup_printf ("%sClassPrivate *", _tmp7_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp9_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new ("priv", NULL, NULL)));
		_vala_ccode_node_unref0 (_tmp10_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) _cdecl_);
		_cdecl_ = (_tmp13_ = vala_ccode_declaration_new (_tmp12_ = g_strdup_printf ("%sClassPrivate *", _tmp11_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _vala_ccode_node_unref0 (_cdecl_), _tmp13_);
		_g_free0 (_tmp12_);
		_g_free0 (_tmp11_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp15_ = vala_ccode_variable_declarator_new ("parent_priv", (ValaCCodeExpression*) (_tmp14_ = vala_ccode_constant_new ("NULL")), NULL)));
		_vala_ccode_node_unref0 (_tmp15_);
		_vala_ccode_node_unref0 (_tmp14_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) _cdecl_);
		_cdecl_ = (_tmp16_ = vala_ccode_declaration_new ("GType"), _vala_ccode_node_unref0 (_cdecl_), _tmp16_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp17_ = vala_ccode_variable_declarator_new ("parent_type", NULL, NULL)));
		_vala_ccode_node_unref0 (_tmp17_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) _cdecl_);
		ccall = (_tmp19_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new ("g_type_parent"))), _vala_ccode_node_unref0 (_tmp18_), _tmp19_);
		ccall2 = (_tmp21_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("G_TYPE_FROM_CLASS"))), _vala_ccode_node_unref0 (_tmp20_), _tmp21_);
		vala_ccode_function_call_add_argument (ccall2, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("klass")));
		_vala_ccode_node_unref0 (_tmp22_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall2);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp25_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp23_ = vala_ccode_identifier_new ("parent_type")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp25_);
		_vala_ccode_node_unref0 (_tmp24_);
		_vala_ccode_node_unref0 (_tmp23_);
		iftrue = vala_ccode_block_new ();
		ccall = (_tmp29_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new (_tmp27_ = g_strdup_printf ("%s_GET_CLASS_PRIVATE", _tmp26_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (ccall), _tmp29_);
		_vala_ccode_node_unref0 (_tmp28_);
		_g_free0 (_tmp27_);
		_g_free0 (_tmp26_);
		ccall2 = (_tmp31_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp30_ = vala_ccode_identifier_new ("g_type_class_peek"))), _vala_ccode_node_unref0 (ccall2), _tmp31_);
		_vala_ccode_node_unref0 (_tmp30_);
		vala_ccode_function_call_add_argument (ccall2, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new ("parent_type")));
		_vala_ccode_node_unref0 (_tmp32_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall2);
		vala_ccode_block_add_statement (iftrue, (ValaCCodeNode*) (_tmp35_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp34_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp33_ = vala_ccode_identifier_new ("parent_priv")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp35_);
		_vala_ccode_node_unref0 (_tmp34_);
		_vala_ccode_node_unref0 (_tmp33_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp37_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp36_ = vala_ccode_identifier_new ("parent_type")), (ValaCCodeStatement*) iftrue, NULL)));
		_vala_ccode_node_unref0 (_tmp37_);
		_vala_ccode_node_unref0 (_tmp36_);
		ccall = (_tmp39_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new ("g_slice_new0"))), _vala_ccode_node_unref0 (ccall), _tmp39_);
		_vala_ccode_node_unref0 (_tmp38_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp42_ = vala_ccode_identifier_new (_tmp41_ = g_strdup_printf ("%sClassPrivate", _tmp40_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)))));
		_vala_ccode_node_unref0 (_tmp42_);
		_g_free0 (_tmp41_);
		_g_free0 (_tmp40_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp45_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp44_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp43_ = vala_ccode_identifier_new ("priv")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp45_);
		_vala_ccode_node_unref0 (_tmp44_);
		_vala_ccode_node_unref0 (_tmp43_);
		vala_ccode_declaration_space_add_include (((ValaCCodeBaseModule*) self)->source_declarations, "string.h", FALSE);
		iftrue = (_tmp46_ = vala_ccode_block_new (), _vala_ccode_node_unref0 (iftrue), _tmp46_);
		ccall = (_tmp48_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp47_ = vala_ccode_identifier_new ("memcpy"))), _vala_ccode_node_unref0 (ccall), _tmp48_);
		_vala_ccode_node_unref0 (_tmp47_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp49_ = vala_ccode_identifier_new ("priv")));
		_vala_ccode_node_unref0 (_tmp49_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp50_ = vala_ccode_identifier_new ("parent_priv")));
		_vala_ccode_node_unref0 (_tmp50_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp53_ = vala_ccode_identifier_new (_tmp52_ = g_strdup_printf ("sizeof (%sClassPrivate)", _tmp51_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)))));
		_vala_ccode_node_unref0 (_tmp53_);
		_g_free0 (_tmp52_);
		_g_free0 (_tmp51_);
		vala_ccode_block_add_statement (iftrue, (ValaCCodeNode*) (_tmp54_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
		_vala_ccode_node_unref0 (_tmp54_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp56_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp55_ = vala_ccode_identifier_new ("parent_priv")), (ValaCCodeStatement*) iftrue, NULL)));
		_vala_ccode_node_unref0 (_tmp56_);
		_vala_ccode_node_unref0 (_tmp55_);
		ccall = (_tmp58_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp57_ = vala_ccode_identifier_new ("g_type_set_qdata"))), _vala_ccode_node_unref0 (ccall), _tmp58_);
		_vala_ccode_node_unref0 (_tmp57_);
		ccall2 = (_tmp60_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp59_ = vala_ccode_identifier_new ("G_TYPE_FROM_CLASS"))), _vala_ccode_node_unref0 (ccall2), _tmp60_);
		_vala_ccode_node_unref0 (_tmp59_);
		vala_ccode_function_call_add_argument (ccall2, (ValaCCodeExpression*) (_tmp61_ = vala_ccode_identifier_new ("klass")));
		_vala_ccode_node_unref0 (_tmp61_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) ccall2);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp64_ = vala_ccode_identifier_new (_tmp63_ = g_strdup_printf ("_vala_%s_class_private_quark", _tmp62_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)))));
		_vala_ccode_node_unref0 (_tmp64_);
		_g_free0 (_tmp63_);
		_g_free0 (_tmp62_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp65_ = vala_ccode_identifier_new ("priv")));
		_vala_ccode_node_unref0 (_tmp65_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp66_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
		_vala_ccode_node_unref0 (_tmp66_);
		vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) block);
		block = (_tmp67_ = vala_ccode_block_new (), _vala_ccode_node_unref0 (block), _tmp67_);
		_cdecl_ = (_tmp70_ = vala_ccode_declaration_new (_tmp69_ = g_strdup_printf ("%sClassPrivate *", _tmp68_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _vala_ccode_node_unref0 (_cdecl_), _tmp70_);
		_g_free0 (_tmp69_);
		_g_free0 (_tmp68_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp71_ = vala_ccode_variable_declarator_new ("priv", NULL, NULL)));
		_vala_ccode_node_unref0 (_tmp71_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) _cdecl_);
		ccall = (_tmp75_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp74_ = vala_ccode_identifier_new (_tmp73_ = g_strdup_printf ("%s_GET_CLASS_PRIVATE", _tmp72_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (ccall), _tmp75_);
		_vala_ccode_node_unref0 (_tmp74_);
		_g_free0 (_tmp73_);
		_g_free0 (_tmp72_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp76_ = vala_ccode_constant_new ("klass")));
		_vala_ccode_node_unref0 (_tmp76_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp79_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp78_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp77_ = vala_ccode_identifier_new ("priv")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp79_);
		_vala_ccode_node_unref0 (_tmp78_);
		_vala_ccode_node_unref0 (_tmp77_);
		ccall = (_tmp81_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp80_ = vala_ccode_identifier_new ("g_slice_free"))), _vala_ccode_node_unref0 (ccall), _tmp81_);
		_vala_ccode_node_unref0 (_tmp80_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp84_ = vala_ccode_identifier_new (_tmp83_ = g_strdup_printf ("%sClassPrivate", _tmp82_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)))));
		_vala_ccode_node_unref0 (_tmp84_);
		_g_free0 (_tmp83_);
		_g_free0 (_tmp82_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp85_ = vala_ccode_identifier_new ("priv")));
		_vala_ccode_node_unref0 (_tmp85_);
		vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp86_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
		_vala_ccode_node_unref0 (_tmp86_);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->base_finalize_fragment, (ValaCCodeNode*) block);
		_vala_ccode_node_unref0 (iftrue);
		_vala_ccode_node_unref0 (ccall2);
		_vala_ccode_node_unref0 (ccall);
		_vala_ccode_node_unref0 (_cdecl_);
		_vala_ccode_node_unref0 (block);
	}
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->base_init_fragment);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) base_init);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (base_init);
}


static void vala_gtype_module_real_generate_class_init (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	g_return_if_fail (init_block != NULL);
}


void vala_gtype_module_generate_class_init (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block) {
	VALA_GTYPE_MODULE_GET_CLASS (self)->generate_class_init (self, cl, init_block);
}


static void vala_gtype_module_add_class_init_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* class_init;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeBlock* init_block;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeDeclaration* parent_decl;
	char* _tmp6_;
	char* _tmp7_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeVariableDeclarator* parent_var_decl;
	ValaCCodeConstant* _tmp9_;
	ValaCCodeIdentifier* _tmp10_;
	ValaCCodeFunctionCall* _tmp11_;
	ValaCCodeIdentifier* _tmp12_;
	char* _tmp13_;
	char* _tmp14_;
	ValaCCodeIdentifier* _tmp15_;
	ValaCCodeAssignment* _tmp16_;
	ValaCCodeAssignment* parent_assignment;
	ValaCCodeExpressionStatement* _tmp17_;
	gboolean _tmp18_ = FALSE;
	gboolean _tmp19_ = FALSE;
	gboolean _tmp36_ = FALSE;
	ValaCCodeFragment* _tmp102_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	class_init = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_class_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (class_init, _tmp5_ = vala_ccode_formal_parameter_new ("klass", _tmp4_ = g_strdup_printf ("%sClass *", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_function_set_modifiers (class_init, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (class_init, init_block);
	ccall = NULL;
	parent_decl = vala_ccode_declaration_new ("gpointer");
	parent_var_decl = (_tmp8_ = vala_ccode_variable_declarator_new (_tmp7_ = g_strdup_printf ("%s_parent_class", _tmp6_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), NULL, NULL), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _tmp8_);
	vala_ccode_variable_declarator_set_initializer (parent_var_decl, (ValaCCodeExpression*) (_tmp9_ = vala_ccode_constant_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp9_);
	vala_ccode_declaration_add_declarator (parent_decl, (ValaCCodeDeclarator*) parent_var_decl);
	vala_ccode_declaration_set_modifiers (parent_decl, VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) parent_decl);
	ccall = (_tmp11_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new ("g_type_class_peek_parent"))), _vala_ccode_node_unref0 (ccall), _tmp11_);
	_vala_ccode_node_unref0 (_tmp10_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new ("klass")));
	_vala_ccode_node_unref0 (_tmp12_);
	parent_assignment = (_tmp16_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new (_tmp14_ = g_strdup_printf ("%s_parent_class", _tmp13_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)))), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE), _vala_ccode_node_unref0 (_tmp15_), _g_free0 (_tmp14_), _g_free0 (_tmp13_), _tmp16_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp17_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) parent_assignment)));
	_vala_ccode_node_unref0 (_tmp17_);
	if (!vala_class_get_is_compact (cl)) {
		_tmp19_ = !vala_typesymbol_is_subtype_of ((ValaTypeSymbol*) cl, ((ValaCCodeBaseModule*) self)->gobject_type);
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		gboolean _tmp20_ = FALSE;
		gboolean _tmp21_ = FALSE;
		ValaList* _tmp22_;
		gboolean _tmp23_;
		if ((_tmp23_ = vala_collection_get_size ((ValaCollection*) (_tmp22_ = vala_class_get_fields (cl))) > 0, _vala_collection_object_unref0 (_tmp22_), _tmp23_)) {
			_tmp21_ = TRUE;
		} else {
			_tmp21_ = vala_class_get_destructor (cl) != NULL;
		}
		if (_tmp21_) {
			_tmp20_ = TRUE;
		} else {
			_tmp20_ = vala_class_is_fundamental (cl);
		}
		_tmp18_ = _tmp20_;
	} else {
		_tmp18_ = FALSE;
	}
	if (_tmp18_) {
		ValaClass* fundamental_class;
		char* _tmp25_;
		char* _tmp26_;
		ValaCCodeIdentifier* _tmp27_;
		ValaCCodeFunctionCall* _tmp28_;
		ValaCCodeIdentifier* _tmp29_;
		ValaCCodeMemberAccess* _tmp30_;
		char* _tmp31_;
		char* _tmp32_;
		ValaCCodeIdentifier* _tmp33_;
		ValaCCodeAssignment* _tmp34_;
		ValaCCodeAssignment* finalize_assignment;
		ValaCCodeExpressionStatement* _tmp35_;
		fundamental_class = _vala_code_node_ref0 (cl);
		while (TRUE) {
			ValaClass* _tmp24_;
			if (!(vala_class_get_base_class (fundamental_class) != NULL)) {
				break;
			}
			fundamental_class = (_tmp24_ = _vala_code_node_ref0 (vala_class_get_base_class (fundamental_class)), _vala_code_node_unref0 (fundamental_class), _tmp24_);
		}
		ccall = (_tmp28_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp27_ = vala_ccode_identifier_new (_tmp26_ = g_strdup_printf ("%s_CLASS", _tmp25_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) fundamental_class, NULL))))), _vala_ccode_node_unref0 (ccall), _tmp28_);
		_vala_ccode_node_unref0 (_tmp27_);
		_g_free0 (_tmp26_);
		_g_free0 (_tmp25_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("klass")));
		_vala_ccode_node_unref0 (_tmp29_);
		finalize_assignment = (_tmp34_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp30_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccall, "finalize")), (ValaCCodeExpression*) (_tmp33_ = vala_ccode_identifier_new (_tmp32_ = g_strconcat (_tmp31_ = vala_symbol_get_lower_case_cprefix ((ValaSymbol*) cl), "finalize", NULL))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE), _vala_ccode_node_unref0 (_tmp33_), _g_free0 (_tmp32_), _g_free0 (_tmp31_), _vala_ccode_node_unref0 (_tmp30_), _tmp34_);
		vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp35_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) finalize_assignment)));
		_vala_ccode_node_unref0 (_tmp35_);
		_vala_ccode_node_unref0 (finalize_assignment);
		_vala_code_node_unref0 (fundamental_class);
	}
	if (vala_class_get_has_private_fields (cl)) {
		_tmp36_ = TRUE;
	} else {
		ValaList* _tmp37_;
		_tmp36_ = vala_collection_get_size ((ValaCollection*) (_tmp37_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) cl))) > 0;
		_vala_collection_object_unref0 (_tmp37_);
	}
	if (_tmp36_) {
		ValaCCodeIdentifier* _tmp38_;
		ValaCCodeFunctionCall* _tmp39_;
		ValaCCodeIdentifier* _tmp40_;
		char* _tmp41_;
		char* _tmp42_;
		ValaCCodeConstant* _tmp43_;
		ValaCCodeExpressionStatement* _tmp44_;
		ccall = (_tmp39_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new ("g_type_class_add_private"))), _vala_ccode_node_unref0 (ccall), _tmp39_);
		_vala_ccode_node_unref0 (_tmp38_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new ("klass")));
		_vala_ccode_node_unref0 (_tmp40_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp43_ = vala_ccode_constant_new (_tmp42_ = g_strdup_printf ("sizeof (%sPrivate)", _tmp41_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE)))));
		_vala_ccode_node_unref0 (_tmp43_);
		_g_free0 (_tmp42_);
		_g_free0 (_tmp41_);
		vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp44_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
		_vala_ccode_node_unref0 (_tmp44_);
	}
	{
		ValaList* _tmp45_;
		ValaIterator* _tmp46_;
		ValaIterator* _m_it;
		_m_it = (_tmp46_ = vala_iterable_iterator ((ValaIterable*) (_tmp45_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp45_), _tmp46_);
		while (TRUE) {
			ValaMethod* m;
			ValaSymbol* base_type;
			gboolean _tmp47_ = FALSE;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			if (vala_method_get_base_method (m) == NULL) {
				_vala_code_node_unref0 (m);
				continue;
			}
			base_type = _vala_code_node_ref0 (vala_symbol_get_parent_symbol ((ValaSymbol*) vala_method_get_base_method (m)));
			if (!vala_method_get_is_abstract (m)) {
				_tmp47_ = TRUE;
			} else {
				_tmp47_ = !vala_method_get_coroutine (m);
			}
			if (_tmp47_) {
				char* _tmp48_;
				char* _tmp49_;
				ValaCCodeIdentifier* _tmp50_;
				ValaCCodeFunctionCall* _tmp51_;
				ValaCCodeFunctionCall* ccast;
				ValaCCodeIdentifier* _tmp52_;
				ValaCCodeMemberAccess* _tmp53_;
				char* _tmp54_;
				ValaCCodeIdentifier* _tmp55_;
				ValaCCodeAssignment* _tmp56_;
				ValaCCodeExpressionStatement* _tmp57_;
				ccast = (_tmp51_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp50_ = vala_ccode_identifier_new (_tmp49_ = g_strdup_printf ("%s_CLASS", _tmp48_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) VALA_CLASS (base_type), NULL))))), _vala_ccode_node_unref0 (_tmp50_), _g_free0 (_tmp49_), _g_free0 (_tmp48_), _tmp51_);
				vala_ccode_function_call_add_argument (ccast, (ValaCCodeExpression*) (_tmp52_ = vala_ccode_identifier_new ("klass")));
				_vala_ccode_node_unref0 (_tmp52_);
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp57_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp56_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp53_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, vala_method_get_vfunc_name (vala_method_get_base_method (m)))), (ValaCCodeExpression*) (_tmp55_ = vala_ccode_identifier_new (_tmp54_ = vala_method_get_real_cname (m))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp57_);
				_vala_ccode_node_unref0 (_tmp56_);
				_vala_ccode_node_unref0 (_tmp55_);
				_g_free0 (_tmp54_);
				_vala_ccode_node_unref0 (_tmp53_);
				if (vala_method_get_coroutine (m)) {
					char* _tmp58_;
					ValaCCodeMemberAccess* _tmp59_;
					char* _tmp60_;
					ValaCCodeIdentifier* _tmp61_;
					ValaCCodeAssignment* _tmp62_;
					ValaCCodeExpressionStatement* _tmp63_;
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp63_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp62_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp59_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, _tmp58_ = vala_method_get_finish_vfunc_name (vala_method_get_base_method (m)))), (ValaCCodeExpression*) (_tmp61_ = vala_ccode_identifier_new (_tmp60_ = vala_method_get_finish_real_cname (m))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp63_);
					_vala_ccode_node_unref0 (_tmp62_);
					_vala_ccode_node_unref0 (_tmp61_);
					_g_free0 (_tmp60_);
					_vala_ccode_node_unref0 (_tmp59_);
					_g_free0 (_tmp58_);
				}
				_vala_ccode_node_unref0 (ccast);
			}
			_vala_code_node_unref0 (base_type);
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	{
		ValaList* _tmp64_;
		ValaIterator* _tmp65_;
		ValaIterator* _sig_it;
		_sig_it = (_tmp65_ = vala_iterable_iterator ((ValaIterable*) (_tmp64_ = vala_object_type_symbol_get_signals ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp64_), _tmp65_);
		while (TRUE) {
			ValaSignal* sig;
			char* _tmp66_;
			char* _tmp67_;
			ValaCCodeIdentifier* _tmp68_;
			ValaCCodeFunctionCall* _tmp69_;
			ValaCCodeFunctionCall* ccast;
			ValaCCodeIdentifier* _tmp70_;
			ValaCCodeMemberAccess* _tmp71_;
			char* _tmp72_;
			ValaCCodeIdentifier* _tmp73_;
			ValaCCodeAssignment* _tmp74_;
			ValaCCodeExpressionStatement* _tmp75_;
			if (!vala_iterator_next (_sig_it)) {
				break;
			}
			sig = (ValaSignal*) vala_iterator_get (_sig_it);
			if (vala_signal_get_default_handler (sig) == NULL) {
				_vala_code_node_unref0 (sig);
				continue;
			}
			ccast = (_tmp69_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp68_ = vala_ccode_identifier_new (_tmp67_ = g_strdup_printf ("%s_CLASS", _tmp66_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (_tmp68_), _g_free0 (_tmp67_), _g_free0 (_tmp66_), _tmp69_);
			vala_ccode_function_call_add_argument (ccast, (ValaCCodeExpression*) (_tmp70_ = vala_ccode_identifier_new ("klass")));
			_vala_ccode_node_unref0 (_tmp70_);
			vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp75_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp74_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp71_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, vala_method_get_vfunc_name (vala_signal_get_default_handler (sig)))), (ValaCCodeExpression*) (_tmp73_ = vala_ccode_identifier_new (_tmp72_ = vala_method_get_real_cname (vala_signal_get_default_handler (sig)))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
			_vala_ccode_node_unref0 (_tmp75_);
			_vala_ccode_node_unref0 (_tmp74_);
			_vala_ccode_node_unref0 (_tmp73_);
			_g_free0 (_tmp72_);
			_vala_ccode_node_unref0 (_tmp71_);
			_vala_ccode_node_unref0 (ccast);
			_vala_code_node_unref0 (sig);
		}
		_vala_collection_object_unref0 (_sig_it);
	}
	{
		ValaList* _tmp76_;
		ValaIterator* _tmp77_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp77_ = vala_iterable_iterator ((ValaIterable*) (_tmp76_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp76_), _tmp77_);
		while (TRUE) {
			ValaProperty* prop;
			ValaSymbol* base_type;
			char* _tmp78_;
			char* _tmp79_;
			ValaCCodeIdentifier* _tmp80_;
			ValaCCodeFunctionCall* _tmp81_;
			ValaCCodeFunctionCall* ccast;
			ValaCCodeIdentifier* _tmp82_;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (vala_property_get_base_property (prop) == NULL) {
				_vala_code_node_unref0 (prop);
				continue;
			}
			base_type = _vala_code_node_ref0 (vala_symbol_get_parent_symbol ((ValaSymbol*) vala_property_get_base_property (prop)));
			ccast = (_tmp81_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp80_ = vala_ccode_identifier_new (_tmp79_ = g_strdup_printf ("%s_CLASS", _tmp78_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) VALA_CLASS (base_type), NULL))))), _vala_ccode_node_unref0 (_tmp80_), _g_free0 (_tmp79_), _g_free0 (_tmp78_), _tmp81_);
			vala_ccode_function_call_add_argument (ccast, (ValaCCodeExpression*) (_tmp82_ = vala_ccode_identifier_new ("klass")));
			_vala_ccode_node_unref0 (_tmp82_);
			if (vala_property_get_get_accessor (prop) != NULL) {
				char* _tmp83_;
				char* _tmp84_;
				char* cname;
				char* _tmp85_;
				ValaCCodeMemberAccess* _tmp86_;
				ValaCCodeIdentifier* _tmp87_;
				ValaCCodeAssignment* _tmp88_;
				ValaCCodeExpressionStatement* _tmp89_;
				cname = (_tmp84_ = g_strdup_printf ("%s_real_get_%s", _tmp83_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (_tmp83_), _tmp84_);
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp89_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp88_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp86_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, _tmp85_ = g_strdup_printf ("get_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), (ValaCCodeExpression*) (_tmp87_ = vala_ccode_identifier_new (cname)), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp89_);
				_vala_ccode_node_unref0 (_tmp88_);
				_vala_ccode_node_unref0 (_tmp87_);
				_vala_ccode_node_unref0 (_tmp86_);
				_g_free0 (_tmp85_);
				_g_free0 (cname);
			}
			if (vala_property_get_set_accessor (prop) != NULL) {
				char* _tmp90_;
				char* _tmp91_;
				char* cname;
				char* _tmp92_;
				ValaCCodeMemberAccess* _tmp93_;
				ValaCCodeIdentifier* _tmp94_;
				ValaCCodeAssignment* _tmp95_;
				ValaCCodeExpressionStatement* _tmp96_;
				cname = (_tmp91_ = g_strdup_printf ("%s_real_set_%s", _tmp90_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (_tmp90_), _tmp91_);
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp96_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp95_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp93_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, _tmp92_ = g_strdup_printf ("set_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), (ValaCCodeExpression*) (_tmp94_ = vala_ccode_identifier_new (cname)), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp96_);
				_vala_ccode_node_unref0 (_tmp95_);
				_vala_ccode_node_unref0 (_tmp94_);
				_vala_ccode_node_unref0 (_tmp93_);
				_g_free0 (_tmp92_);
				_g_free0 (cname);
			}
			_vala_ccode_node_unref0 (ccast);
			_vala_code_node_unref0 (base_type);
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	vala_gtype_module_generate_class_init (self, cl, init_block);
	if (!vala_class_get_is_compact (cl)) {
		{
			ValaList* _tmp97_;
			ValaIterator* _tmp98_;
			ValaIterator* _sig_it;
			_sig_it = (_tmp98_ = vala_iterable_iterator ((ValaIterable*) (_tmp97_ = vala_object_type_symbol_get_signals ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp97_), _tmp98_);
			while (TRUE) {
				ValaSignal* sig;
				ValaCCodeFunctionCall* _tmp100_;
				ValaCCodeExpressionStatement* _tmp101_;
				if (!vala_iterator_next (_sig_it)) {
					break;
				}
				sig = (ValaSignal*) vala_iterator_get (_sig_it);
				if (vala_symbol_get_comment ((ValaSymbol*) sig) != NULL) {
					ValaCCodeComment* _tmp99_;
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp99_ = vala_ccode_comment_new (vala_comment_get_content (vala_symbol_get_comment ((ValaSymbol*) sig)))));
					_vala_ccode_node_unref0 (_tmp99_);
				}
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp101_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp100_ = vala_ccode_base_module_get_signal_creation ((ValaCCodeBaseModule*) self, sig, (ValaTypeSymbol*) cl)))));
				_vala_ccode_node_unref0 (_tmp101_);
				_vala_ccode_node_unref0 (_tmp100_);
				_vala_code_node_unref0 (sig);
			}
			_vala_collection_object_unref0 (_sig_it);
		}
	}
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp102_ = vala_ccode_base_module_register_dbus_info ((ValaCCodeBaseModule*) self, (ValaObjectTypeSymbol*) cl)));
	_vala_ccode_node_unref0 (_tmp102_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->class_init_fragment);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) class_init);
	_vala_ccode_node_unref0 (parent_assignment);
	_vala_ccode_node_unref0 (parent_var_decl);
	_vala_ccode_node_unref0 (parent_decl);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (class_init);
}


static void vala_gtype_module_add_interface_init_function (ValaGTypeModule* self, ValaClass* cl, ValaInterface* iface) {
	char* _tmp0_;
	char* _tmp1_;
	char* _tmp2_;
	ValaCCodeFunction* _tmp3_;
	ValaCCodeFunction* iface_init;
	char* _tmp4_;
	char* _tmp5_;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeBlock* init_block;
	ValaCCodeFunctionCall* ccall;
	char* _tmp7_;
	char* _tmp8_;
	char* _tmp9_;
	char* parent_iface_var;
	char* _tmp10_;
	char* _tmp11_;
	ValaCCodeDeclaration* _tmp12_;
	ValaCCodeDeclaration* parent_decl;
	ValaCCodeVariableDeclarator* parent_var_decl;
	ValaCCodeConstant* _tmp13_;
	ValaCCodeIdentifier* _tmp14_;
	ValaCCodeFunctionCall* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeIdentifier* _tmp17_;
	ValaCCodeAssignment* _tmp18_;
	ValaCCodeAssignment* parent_assignment;
	ValaCCodeExpressionStatement* _tmp19_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	g_return_if_fail (iface != NULL);
	iface_init = (_tmp3_ = vala_ccode_function_new (_tmp2_ = g_strdup_printf ("%s_%s_interface_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), _tmp1_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) iface, NULL)), "void"), _g_free0 (_tmp2_), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp3_);
	vala_ccode_function_add_parameter (iface_init, _tmp6_ = vala_ccode_formal_parameter_new ("iface", _tmp5_ = g_strdup_printf ("%s *", _tmp4_ = vala_interface_get_type_cname (iface))));
	_vala_ccode_node_unref0 (_tmp6_);
	_g_free0 (_tmp5_);
	_g_free0 (_tmp4_);
	vala_ccode_function_set_modifiers (iface_init, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (iface_init, init_block);
	ccall = NULL;
	parent_iface_var = (_tmp9_ = g_strdup_printf ("%s_%s_parent_iface", _tmp7_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), _tmp8_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) iface, NULL)), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _tmp9_);
	parent_decl = (_tmp12_ = vala_ccode_declaration_new (_tmp11_ = g_strconcat (_tmp10_ = vala_interface_get_type_cname (iface), "*", NULL)), _g_free0 (_tmp11_), _g_free0 (_tmp10_), _tmp12_);
	parent_var_decl = vala_ccode_variable_declarator_new (parent_iface_var, NULL, NULL);
	vala_ccode_variable_declarator_set_initializer (parent_var_decl, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_constant_new ("NULL")));
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_declaration_add_declarator (parent_decl, (ValaCCodeDeclarator*) parent_var_decl);
	vala_ccode_declaration_set_modifiers (parent_decl, VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) parent_decl);
	ccall = (_tmp15_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("g_type_interface_peek_parent"))), _vala_ccode_node_unref0 (ccall), _tmp15_);
	_vala_ccode_node_unref0 (_tmp14_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("iface")));
	_vala_ccode_node_unref0 (_tmp16_);
	parent_assignment = (_tmp18_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new (parent_iface_var)), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE), _vala_ccode_node_unref0 (_tmp17_), _tmp18_);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp19_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) parent_assignment)));
	_vala_ccode_node_unref0 (_tmp19_);
	{
		ValaList* _tmp20_;
		ValaIterator* _tmp21_;
		ValaIterator* _m_it;
		_m_it = (_tmp21_ = vala_iterable_iterator ((ValaIterable*) (_tmp20_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp20_), _tmp21_);
		while (TRUE) {
			ValaMethod* m;
			ValaSymbol* base_type;
			ValaCCodeIdentifier* ciface;
			ValaCCodeExpression* cfunc;
			gboolean _tmp22_ = FALSE;
			ValaCCodeMemberAccess* _tmp28_;
			ValaCCodeAssignment* _tmp29_;
			ValaCCodeExpressionStatement* _tmp30_;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			if (vala_method_get_base_interface_method (m) == NULL) {
				_vala_code_node_unref0 (m);
				continue;
			}
			base_type = _vala_code_node_ref0 (vala_symbol_get_parent_symbol ((ValaSymbol*) vala_method_get_base_interface_method (m)));
			if (base_type != VALA_SYMBOL (iface)) {
				_vala_code_node_unref0 (base_type);
				_vala_code_node_unref0 (m);
				continue;
			}
			ciface = vala_ccode_identifier_new ("iface");
			cfunc = NULL;
			if (vala_method_get_is_abstract (m)) {
				_tmp22_ = TRUE;
			} else {
				_tmp22_ = vala_method_get_is_virtual (m);
			}
			if (_tmp22_) {
				char* _tmp23_;
				ValaCCodeExpression* _tmp24_;
				ValaCCodeExpression* _tmp25_;
				cfunc = (_tmp24_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp23_ = vala_method_get_cname (m)), _vala_ccode_node_unref0 (cfunc), _tmp24_);
				_g_free0 (_tmp23_);
				cfunc = (_tmp25_ = vala_gtype_module_cast_method_pointer (self, m, cfunc, (ValaObjectTypeSymbol*) iface), _vala_ccode_node_unref0 (cfunc), _tmp25_);
			} else {
				char* _tmp26_;
				ValaCCodeExpression* _tmp27_;
				cfunc = (_tmp27_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp26_ = vala_method_get_real_cname (m)), _vala_ccode_node_unref0 (cfunc), _tmp27_);
				_g_free0 (_tmp26_);
			}
			vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp30_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp29_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp28_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, vala_method_get_vfunc_name (vala_method_get_base_interface_method (m)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
			_vala_ccode_node_unref0 (_tmp30_);
			_vala_ccode_node_unref0 (_tmp29_);
			_vala_ccode_node_unref0 (_tmp28_);
			if (vala_method_get_coroutine (m)) {
				gboolean _tmp31_ = FALSE;
				char* _tmp36_;
				ValaCCodeMemberAccess* _tmp37_;
				ValaCCodeAssignment* _tmp38_;
				ValaCCodeExpressionStatement* _tmp39_;
				if (vala_method_get_is_abstract (m)) {
					_tmp31_ = TRUE;
				} else {
					_tmp31_ = vala_method_get_is_virtual (m);
				}
				if (_tmp31_) {
					char* _tmp32_;
					ValaCCodeExpression* _tmp33_;
					cfunc = (_tmp33_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp32_ = vala_method_get_finish_cname (m)), _vala_ccode_node_unref0 (cfunc), _tmp33_);
					_g_free0 (_tmp32_);
				} else {
					char* _tmp34_;
					ValaCCodeExpression* _tmp35_;
					cfunc = (_tmp35_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp34_ = vala_method_get_finish_real_cname (m)), _vala_ccode_node_unref0 (cfunc), _tmp35_);
					_g_free0 (_tmp34_);
				}
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp39_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp37_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, _tmp36_ = vala_method_get_finish_vfunc_name (vala_method_get_base_interface_method (m)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp39_);
				_vala_ccode_node_unref0 (_tmp38_);
				_vala_ccode_node_unref0 (_tmp37_);
				_g_free0 (_tmp36_);
			}
			_vala_ccode_node_unref0 (cfunc);
			_vala_ccode_node_unref0 (ciface);
			_vala_code_node_unref0 (base_type);
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	{
		ValaList* _tmp40_;
		ValaIterator* _tmp41_;
		ValaIterator* _m_it;
		_m_it = (_tmp41_ = vala_iterable_iterator ((ValaIterable*) (_tmp40_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp40_), _tmp41_);
		while (TRUE) {
			ValaMethod* m;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			if (vala_method_get_is_abstract (m)) {
				ValaMethod* cl_method;
				ValaClass* base_class;
				gboolean _tmp46_ = FALSE;
				cl_method = NULL;
				base_class = _vala_code_node_ref0 (cl);
				while (TRUE) {
					gboolean _tmp42_ = FALSE;
					ValaSymbol* _tmp43_;
					ValaMethod* _tmp44_;
					ValaClass* _tmp45_;
					if (base_class != NULL) {
						_tmp42_ = cl_method == NULL;
					} else {
						_tmp42_ = FALSE;
					}
					if (!_tmp42_) {
						break;
					}
					cl_method = (_tmp44_ = (_tmp43_ = vala_scope_lookup (vala_symbol_get_scope ((ValaSymbol*) base_class), vala_symbol_get_name ((ValaSymbol*) m)), VALA_IS_METHOD (_tmp43_) ? ((ValaMethod*) _tmp43_) : NULL), _vala_code_node_unref0 (cl_method), _tmp44_);
					base_class = (_tmp45_ = _vala_code_node_ref0 (vala_class_get_base_class (base_class)), _vala_code_node_unref0 (base_class), _tmp45_);
				}
				if (base_class != NULL) {
					_tmp46_ = vala_symbol_get_parent_symbol ((ValaSymbol*) cl_method) != VALA_SYMBOL (cl);
				} else {
					_tmp46_ = FALSE;
				}
				if (_tmp46_) {
					ValaMethod* base_method;
					char* _tmp49_;
					ValaCCodeExpression* _tmp50_;
					ValaCCodeExpression* cfunc;
					ValaCCodeExpression* _tmp51_;
					ValaCCodeIdentifier* ciface;
					ValaCCodeMemberAccess* _tmp52_;
					ValaCCodeAssignment* _tmp53_;
					ValaCCodeExpressionStatement* _tmp54_;
					base_method = _vala_code_node_ref0 (cl_method);
					if (vala_method_get_base_method (cl_method) != NULL) {
						ValaMethod* _tmp47_;
						base_method = (_tmp47_ = _vala_code_node_ref0 (vala_method_get_base_method (cl_method)), _vala_code_node_unref0 (base_method), _tmp47_);
					} else {
						if (vala_method_get_base_interface_method (cl_method) != NULL) {
							ValaMethod* _tmp48_;
							base_method = (_tmp48_ = _vala_code_node_ref0 (vala_method_get_base_interface_method (cl_method)), _vala_code_node_unref0 (base_method), _tmp48_);
						}
					}
					vala_ccode_base_module_generate_method_declaration ((ValaCCodeBaseModule*) self, base_method, ((ValaCCodeBaseModule*) self)->source_declarations);
					cfunc = (_tmp50_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp49_ = vala_method_get_cname (base_method)), _g_free0 (_tmp49_), _tmp50_);
					cfunc = (_tmp51_ = vala_gtype_module_cast_method_pointer (self, base_method, cfunc, (ValaObjectTypeSymbol*) iface), _vala_ccode_node_unref0 (cfunc), _tmp51_);
					ciface = vala_ccode_identifier_new ("iface");
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp54_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp53_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp52_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, vala_method_get_vfunc_name (m))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp54_);
					_vala_ccode_node_unref0 (_tmp53_);
					_vala_ccode_node_unref0 (_tmp52_);
					_vala_ccode_node_unref0 (ciface);
					_vala_ccode_node_unref0 (cfunc);
					_vala_code_node_unref0 (base_method);
				}
				_vala_code_node_unref0 (base_class);
				_vala_code_node_unref0 (cl_method);
			}
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	{
		ValaList* _tmp55_;
		ValaIterator* _tmp56_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp56_ = vala_iterable_iterator ((ValaIterable*) (_tmp55_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) cl))), _vala_collection_object_unref0 (_tmp55_), _tmp56_);
		while (TRUE) {
			ValaProperty* prop;
			ValaObjectTypeSymbol* base_type;
			ValaCCodeIdentifier* ciface;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (vala_property_get_base_interface_property (prop) == NULL) {
				_vala_code_node_unref0 (prop);
				continue;
			}
			base_type = _vala_code_node_ref0 (VALA_OBJECT_TYPE_SYMBOL (vala_symbol_get_parent_symbol ((ValaSymbol*) vala_property_get_base_interface_property (prop))));
			if (base_type != VALA_OBJECT_TYPE_SYMBOL (iface)) {
				_vala_code_node_unref0 (base_type);
				_vala_code_node_unref0 (prop);
				continue;
			}
			ciface = vala_ccode_identifier_new ("iface");
			if (vala_property_get_get_accessor (prop) != NULL) {
				char* _tmp57_;
				char* _tmp58_;
				char* cname;
				gboolean _tmp59_ = FALSE;
				ValaCCodeExpression* cfunc;
				gboolean _tmp62_ = FALSE;
				char* _tmp64_;
				ValaCCodeMemberAccess* _tmp65_;
				ValaCCodeAssignment* _tmp66_;
				ValaCCodeExpressionStatement* _tmp67_;
				cname = (_tmp58_ = g_strdup_printf ("%s_real_get_%s", _tmp57_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (_tmp57_), _tmp58_);
				if (vala_property_get_is_abstract (prop)) {
					_tmp59_ = TRUE;
				} else {
					_tmp59_ = vala_property_get_is_virtual (prop);
				}
				if (_tmp59_) {
					char* _tmp60_;
					char* _tmp61_;
					cname = (_tmp61_ = g_strdup_printf ("%s_get_%s", _tmp60_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (cname), _tmp61_);
					_g_free0 (_tmp60_);
				}
				cfunc = (ValaCCodeExpression*) vala_ccode_identifier_new (cname);
				if (vala_property_get_is_abstract (prop)) {
					_tmp62_ = TRUE;
				} else {
					_tmp62_ = vala_property_get_is_virtual (prop);
				}
				if (_tmp62_) {
					ValaCCodeExpression* _tmp63_;
					cfunc = (_tmp63_ = vala_gtype_module_cast_property_accessor_pointer (self, vala_property_get_get_accessor (prop), cfunc, base_type), _vala_ccode_node_unref0 (cfunc), _tmp63_);
				}
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp67_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp66_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp65_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, _tmp64_ = g_strdup_printf ("get_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp67_);
				_vala_ccode_node_unref0 (_tmp66_);
				_vala_ccode_node_unref0 (_tmp65_);
				_g_free0 (_tmp64_);
				_vala_ccode_node_unref0 (cfunc);
				_g_free0 (cname);
			}
			if (vala_property_get_set_accessor (prop) != NULL) {
				char* _tmp68_;
				char* _tmp69_;
				char* cname;
				gboolean _tmp70_ = FALSE;
				ValaCCodeExpression* cfunc;
				gboolean _tmp73_ = FALSE;
				char* _tmp75_;
				ValaCCodeMemberAccess* _tmp76_;
				ValaCCodeAssignment* _tmp77_;
				ValaCCodeExpressionStatement* _tmp78_;
				cname = (_tmp69_ = g_strdup_printf ("%s_real_set_%s", _tmp68_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (_tmp68_), _tmp69_);
				if (vala_property_get_is_abstract (prop)) {
					_tmp70_ = TRUE;
				} else {
					_tmp70_ = vala_property_get_is_virtual (prop);
				}
				if (_tmp70_) {
					char* _tmp71_;
					char* _tmp72_;
					cname = (_tmp72_ = g_strdup_printf ("%s_set_%s", _tmp71_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL), vala_symbol_get_name ((ValaSymbol*) prop)), _g_free0 (cname), _tmp72_);
					_g_free0 (_tmp71_);
				}
				cfunc = (ValaCCodeExpression*) vala_ccode_identifier_new (cname);
				if (vala_property_get_is_abstract (prop)) {
					_tmp73_ = TRUE;
				} else {
					_tmp73_ = vala_property_get_is_virtual (prop);
				}
				if (_tmp73_) {
					ValaCCodeExpression* _tmp74_;
					cfunc = (_tmp74_ = vala_gtype_module_cast_property_accessor_pointer (self, vala_property_get_set_accessor (prop), cfunc, base_type), _vala_ccode_node_unref0 (cfunc), _tmp74_);
				}
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp78_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp77_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp76_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, _tmp75_ = g_strdup_printf ("set_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp78_);
				_vala_ccode_node_unref0 (_tmp77_);
				_vala_ccode_node_unref0 (_tmp76_);
				_g_free0 (_tmp75_);
				_vala_ccode_node_unref0 (cfunc);
				_g_free0 (cname);
			}
			_vala_ccode_node_unref0 (ciface);
			_vala_code_node_unref0 (base_type);
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	{
		ValaList* _tmp79_;
		ValaIterator* _tmp80_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp80_ = vala_iterable_iterator ((ValaIterable*) (_tmp79_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp79_), _tmp80_);
		while (TRUE) {
			ValaProperty* prop;
			ValaProperty* cl_prop;
			ValaClass* base_class;
			gboolean _tmp85_ = FALSE;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (!vala_property_get_is_abstract (prop)) {
				_vala_code_node_unref0 (prop);
				continue;
			}
			cl_prop = NULL;
			base_class = _vala_code_node_ref0 (cl);
			while (TRUE) {
				gboolean _tmp81_ = FALSE;
				ValaSymbol* _tmp82_;
				ValaProperty* _tmp83_;
				ValaClass* _tmp84_;
				if (base_class != NULL) {
					_tmp81_ = cl_prop == NULL;
				} else {
					_tmp81_ = FALSE;
				}
				if (!_tmp81_) {
					break;
				}
				cl_prop = (_tmp83_ = (_tmp82_ = vala_scope_lookup (vala_symbol_get_scope ((ValaSymbol*) base_class), vala_symbol_get_name ((ValaSymbol*) prop)), VALA_IS_PROPERTY (_tmp82_) ? ((ValaProperty*) _tmp82_) : NULL), _vala_code_node_unref0 (cl_prop), _tmp83_);
				base_class = (_tmp84_ = _vala_code_node_ref0 (vala_class_get_base_class (base_class)), _vala_code_node_unref0 (base_class), _tmp84_);
			}
			if (base_class != NULL) {
				_tmp85_ = vala_symbol_get_parent_symbol ((ValaSymbol*) cl_prop) != VALA_SYMBOL (cl);
			} else {
				_tmp85_ = FALSE;
			}
			if (_tmp85_) {
				ValaProperty* base_property;
				ValaCCodeIdentifier* ciface;
				base_property = _vala_code_node_ref0 (cl_prop);
				if (vala_property_get_base_property (cl_prop) != NULL) {
					ValaProperty* _tmp86_;
					base_property = (_tmp86_ = _vala_code_node_ref0 (vala_property_get_base_property (cl_prop)), _vala_code_node_unref0 (base_property), _tmp86_);
				} else {
					if (vala_property_get_base_interface_property (cl_prop) != NULL) {
						ValaProperty* _tmp87_;
						base_property = (_tmp87_ = _vala_code_node_ref0 (vala_property_get_base_interface_property (cl_prop)), _vala_code_node_unref0 (base_property), _tmp87_);
					}
				}
				ciface = vala_ccode_identifier_new ("iface");
				if (vala_property_get_get_accessor (base_property) != NULL) {
					char* cname;
					ValaCCodeExpression* cfunc;
					ValaCCodeExpression* _tmp88_;
					char* _tmp89_;
					ValaCCodeMemberAccess* _tmp90_;
					ValaCCodeAssignment* _tmp91_;
					ValaCCodeExpressionStatement* _tmp92_;
					vala_ccode_base_module_generate_property_accessor_declaration ((ValaCCodeBaseModule*) self, vala_property_get_get_accessor (base_property), ((ValaCCodeBaseModule*) self)->source_declarations);
					cname = vala_property_accessor_get_cname (vala_property_get_get_accessor (base_property));
					cfunc = (ValaCCodeExpression*) vala_ccode_identifier_new (cname);
					cfunc = (_tmp88_ = vala_gtype_module_cast_property_accessor_pointer (self, vala_property_get_get_accessor (prop), cfunc, (ValaObjectTypeSymbol*) iface), _vala_ccode_node_unref0 (cfunc), _tmp88_);
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp92_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp91_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp90_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, _tmp89_ = g_strdup_printf ("get_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp92_);
					_vala_ccode_node_unref0 (_tmp91_);
					_vala_ccode_node_unref0 (_tmp90_);
					_g_free0 (_tmp89_);
					_vala_ccode_node_unref0 (cfunc);
					_g_free0 (cname);
				}
				if (vala_property_get_set_accessor (base_property) != NULL) {
					char* cname;
					ValaCCodeExpression* cfunc;
					ValaCCodeExpression* _tmp93_;
					char* _tmp94_;
					ValaCCodeMemberAccess* _tmp95_;
					ValaCCodeAssignment* _tmp96_;
					ValaCCodeExpressionStatement* _tmp97_;
					vala_ccode_base_module_generate_property_accessor_declaration ((ValaCCodeBaseModule*) self, vala_property_get_set_accessor (base_property), ((ValaCCodeBaseModule*) self)->source_declarations);
					cname = vala_property_accessor_get_cname (vala_property_get_set_accessor (base_property));
					cfunc = (ValaCCodeExpression*) vala_ccode_identifier_new (cname);
					cfunc = (_tmp93_ = vala_gtype_module_cast_property_accessor_pointer (self, vala_property_get_set_accessor (prop), cfunc, (ValaObjectTypeSymbol*) iface), _vala_ccode_node_unref0 (cfunc), _tmp93_);
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp97_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp96_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp95_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, _tmp94_ = g_strdup_printf ("set_%s", vala_symbol_get_name ((ValaSymbol*) prop)))), cfunc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp97_);
					_vala_ccode_node_unref0 (_tmp96_);
					_vala_ccode_node_unref0 (_tmp95_);
					_g_free0 (_tmp94_);
					_vala_ccode_node_unref0 (cfunc);
					_g_free0 (cname);
				}
				_vala_ccode_node_unref0 (ciface);
				_vala_code_node_unref0 (base_property);
			}
			_vala_code_node_unref0 (base_class);
			_vala_code_node_unref0 (cl_prop);
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) iface_init);
	_vala_ccode_node_unref0 (parent_assignment);
	_vala_ccode_node_unref0 (parent_var_decl);
	_vala_ccode_node_unref0 (parent_decl);
	_g_free0 (parent_iface_var);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (iface_init);
}


static ValaCCodeExpression* vala_gtype_module_cast_property_accessor_pointer (ValaGTypeModule* self, ValaPropertyAccessor* acc, ValaCCodeExpression* cfunc, ValaObjectTypeSymbol* base_type) {
	ValaCCodeExpression* result = NULL;
	char* cast;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (acc != NULL, NULL);
	g_return_val_if_fail (cfunc != NULL, NULL);
	g_return_val_if_fail (base_type != NULL, NULL);
	cast = NULL;
	if (vala_property_accessor_get_readable (acc)) {
		_tmp0_ = vala_data_type_is_real_non_null_struct_type (vala_property_accessor_get_value_type (acc));
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		char* _tmp1_;
		char* _tmp2_;
		char* _tmp3_;
		cast = (_tmp3_ = g_strdup_printf ("void (*) (%s *, %s *)", _tmp1_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) base_type, FALSE), _tmp2_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (acc))), _g_free0 (cast), _tmp3_);
		_g_free0 (_tmp2_);
		_g_free0 (_tmp1_);
	} else {
		if (vala_property_accessor_get_readable (acc)) {
			char* _tmp4_;
			char* _tmp5_;
			char* _tmp6_;
			cast = (_tmp6_ = g_strdup_printf ("%s (*) (%s *)", _tmp4_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (acc)), _tmp5_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) base_type, FALSE)), _g_free0 (cast), _tmp6_);
			_g_free0 (_tmp5_);
			_g_free0 (_tmp4_);
		} else {
			if (vala_data_type_is_real_non_null_struct_type (vala_property_accessor_get_value_type (acc))) {
				char* _tmp7_;
				char* _tmp8_;
				char* _tmp9_;
				cast = (_tmp9_ = g_strdup_printf ("void (*) (%s *, %s *)", _tmp7_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) base_type, FALSE), _tmp8_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (acc))), _g_free0 (cast), _tmp9_);
				_g_free0 (_tmp8_);
				_g_free0 (_tmp7_);
			} else {
				char* _tmp10_;
				char* _tmp11_;
				char* _tmp12_;
				cast = (_tmp12_ = g_strdup_printf ("void (*) (%s *, %s)", _tmp10_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) base_type, FALSE), _tmp11_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (acc))), _g_free0 (cast), _tmp12_);
				_g_free0 (_tmp11_);
				_g_free0 (_tmp10_);
			}
		}
	}
	result = (ValaCCodeExpression*) vala_ccode_cast_expression_new (cfunc, cast);
	_g_free0 (cast);
	return result;
}


static ValaCCodeExpression* vala_gtype_module_cast_method_pointer (ValaGTypeModule* self, ValaMethod* m, ValaCCodeExpression* cfunc, ValaObjectTypeSymbol* base_type) {
	ValaCCodeExpression* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* cast;
	char* _tmp2_;
	char* _tmp3_;
	char* cast_args;
	ValaCCodeFunctionDeclarator* vdeclarator;
	ValaHashMap* cparam_map;
	ValaCCodeFunction* _tmp4_;
	gint last_pos;
	gint min_pos = 0;
	char* _tmp12_;
	char* _tmp13_;
	char* _tmp14_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	g_return_val_if_fail (cfunc != NULL, NULL);
	g_return_val_if_fail (base_type != NULL, NULL);
	cast = (_tmp1_ = g_strconcat (_tmp0_ = vala_data_type_get_cname (vala_method_get_return_type (m)), " (*)", NULL), _g_free0 (_tmp0_), _tmp1_);
	cast_args = (_tmp3_ = g_strconcat (_tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) base_type, FALSE), "*", NULL), _g_free0 (_tmp2_), _tmp3_);
	vdeclarator = vala_ccode_function_declarator_new (vala_method_get_vfunc_name (m));
	cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->source_declarations, (ValaMap*) cparam_map, _tmp4_ = vala_ccode_function_new ("fake", "void"), vdeclarator, NULL, NULL, 3);
	_vala_ccode_node_unref0 (_tmp4_);
	last_pos = -1;
	while (TRUE) {
		min_pos = -1;
		{
			ValaSet* _tmp5_;
			ValaIterator* _tmp6_;
			ValaIterator* _pos_it;
			_pos_it = (_tmp6_ = vala_iterable_iterator ((ValaIterable*) (_tmp5_ = vala_map_get_keys ((ValaMap*) cparam_map))), _vala_collection_object_unref0 (_tmp5_), _tmp6_);
			while (TRUE) {
				gint pos;
				gboolean _tmp7_ = FALSE;
				if (!vala_iterator_next (_pos_it)) {
					break;
				}
				pos = GPOINTER_TO_INT (vala_iterator_get (_pos_it));
				if (pos > last_pos) {
					gboolean _tmp8_ = FALSE;
					if (min_pos == (-1)) {
						_tmp8_ = TRUE;
					} else {
						_tmp8_ = pos < min_pos;
					}
					_tmp7_ = _tmp8_;
				} else {
					_tmp7_ = FALSE;
				}
				if (_tmp7_) {
					min_pos = pos;
				}
			}
			_vala_collection_object_unref0 (_pos_it);
		}
		if (last_pos != (-1)) {
			ValaCCodeFormalParameter* _tmp9_;
			char* _tmp10_;
			char* _tmp11_;
			if (min_pos == (-1)) {
				break;
			}
			cast_args = (_tmp11_ = g_strconcat (cast_args, _tmp10_ = g_strconcat (" ,", vala_ccode_formal_parameter_get_type_name (_tmp9_ = (ValaCCodeFormalParameter*) vala_map_get ((ValaMap*) cparam_map, GINT_TO_POINTER (min_pos))), NULL), NULL), _g_free0 (cast_args), _tmp11_);
			_g_free0 (_tmp10_);
			_vala_ccode_node_unref0 (_tmp9_);
		}
		last_pos = min_pos;
	}
	cast = (_tmp14_ = g_strconcat (cast, _tmp13_ = g_strconcat (_tmp12_ = g_strconcat ("(", cast_args, NULL), ")", NULL), NULL), _g_free0 (cast), _tmp14_);
	_g_free0 (_tmp13_);
	_g_free0 (_tmp12_);
	result = (ValaCCodeExpression*) vala_ccode_cast_expression_new (cfunc, cast);
	_vala_collection_object_unref0 (cparam_map);
	_vala_ccode_node_unref0 (vdeclarator);
	_g_free0 (cast_args);
	_g_free0 (cast);
	return result;
}


static void vala_gtype_module_add_instance_init_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* instance_init;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeBlock* init_block;
	gboolean _tmp7_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	instance_init = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_instance_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (instance_init, _tmp5_ = vala_ccode_formal_parameter_new ("self", _tmp4_ = g_strdup_printf ("%s *", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_function_set_modifiers (instance_init, VALA_CCODE_MODIFIERS_STATIC);
	if (vala_class_get_is_compact (cl)) {
		ValaCCodeFunction* _tmp6_;
		vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp6_ = vala_ccode_function_copy (instance_init)));
		_vala_ccode_node_unref0 (_tmp6_);
	}
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (instance_init, init_block);
	if (!vala_class_get_is_compact (cl)) {
		gboolean _tmp8_ = FALSE;
		if (vala_class_get_has_private_fields (cl)) {
			_tmp8_ = TRUE;
		} else {
			ValaList* _tmp9_;
			_tmp8_ = vala_collection_get_size ((ValaCollection*) (_tmp9_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) cl))) > 0;
			_vala_collection_object_unref0 (_tmp9_);
		}
		_tmp7_ = _tmp8_;
	} else {
		_tmp7_ = FALSE;
	}
	if (_tmp7_) {
		char* _tmp10_;
		char* _tmp11_;
		ValaCCodeIdentifier* _tmp12_;
		ValaCCodeFunctionCall* _tmp13_;
		ValaCCodeFunctionCall* ccall;
		ValaCCodeIdentifier* _tmp14_;
		ValaCCodeIdentifier* _tmp15_;
		ValaCCodeMemberAccess* _tmp16_;
		ValaCCodeAssignment* _tmp17_;
		ValaCCodeExpressionStatement* _tmp18_;
		ccall = (_tmp13_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new (_tmp11_ = g_strdup_printf ("%s_GET_PRIVATE", _tmp10_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) cl, NULL))))), _vala_ccode_node_unref0 (_tmp12_), _g_free0 (_tmp11_), _g_free0 (_tmp10_), _tmp13_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("self")));
		_vala_ccode_node_unref0 (_tmp14_);
		vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp18_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("self")), "priv")), (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp18_);
		_vala_ccode_node_unref0 (_tmp17_);
		_vala_ccode_node_unref0 (_tmp16_);
		_vala_ccode_node_unref0 (_tmp15_);
		_vala_ccode_node_unref0 (ccall);
	}
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->instance_init_fragment);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) instance_init);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (instance_init);
}


static void vala_gtype_module_add_class_finalize_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeFunction* _tmp6_;
	ValaCCodeBlock* cblock;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_class_finalize", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_function_add_parameter (function, _tmp5_ = vala_ccode_formal_parameter_new ("klass", _tmp4_ = g_strconcat (_tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "Class *", NULL)));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp6_ = vala_ccode_function_copy (function)));
	_vala_ccode_node_unref0 (_tmp6_);
	cblock = vala_ccode_block_new ();
	if (vala_class_get_class_destructor (cl) != NULL) {
		vala_ccode_block_add_statement (cblock, vala_code_node_get_ccodenode ((ValaCodeNode*) vala_class_get_class_destructor (cl)));
	}
	vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->class_finalize_fragment);
	vala_ccode_function_set_block (function, cblock);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (cblock);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_base_finalize_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeFunction* _tmp6_;
	ValaCCodeBlock* cblock;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_base_finalize", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_function_add_parameter (function, _tmp5_ = vala_ccode_formal_parameter_new ("klass", _tmp4_ = g_strconcat (_tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE), "Class *", NULL)));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp6_ = vala_ccode_function_copy (function)));
	_vala_ccode_node_unref0 (_tmp6_);
	cblock = vala_ccode_block_new ();
	if (vala_class_get_class_destructor (cl) != NULL) {
		vala_ccode_block_add_statement (cblock, vala_code_node_get_ccodenode ((ValaCodeNode*) vala_class_get_class_destructor (cl)));
	}
	vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->base_finalize_fragment);
	vala_ccode_function_set_block (function, cblock);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (cblock);
	_vala_ccode_node_unref0 (function);
}


static void vala_gtype_module_add_finalize_function (ValaGTypeModule* self, ValaClass* cl) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* function;
	ValaClass* fundamental_class;
	char* _tmp4_;
	char* _tmp5_;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeFunction* _tmp7_;
	ValaCCodeBlock* cblock;
	ValaCCodeIdentifier* _tmp8_;
	ValaCCodeFunctionCall* _tmp9_;
	ValaCCodeFunctionCall* ccall;
	char* _tmp10_;
	char* _tmp11_;
	ValaCCodeDeclaration* _tmp12_;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp13_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cl != NULL);
	function = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_finalize", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_set_modifiers (function, VALA_CCODE_MODIFIERS_STATIC);
	fundamental_class = _vala_code_node_ref0 (cl);
	while (TRUE) {
		ValaClass* _tmp3_;
		if (!(vala_class_get_base_class (fundamental_class) != NULL)) {
			break;
		}
		fundamental_class = (_tmp3_ = _vala_code_node_ref0 (vala_class_get_base_class (fundamental_class)), _vala_code_node_unref0 (fundamental_class), _tmp3_);
	}
	vala_ccode_function_add_parameter (function, _tmp6_ = vala_ccode_formal_parameter_new ("obj", _tmp5_ = g_strconcat (_tmp4_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) fundamental_class, FALSE), "*", NULL)));
	_vala_ccode_node_unref0 (_tmp6_);
	_g_free0 (_tmp5_);
	_g_free0 (_tmp4_);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp7_ = vala_ccode_function_copy (function)));
	_vala_ccode_node_unref0 (_tmp7_);
	cblock = vala_ccode_block_new ();
	ccall = (_tmp9_ = vala_ccode_base_module_generate_instance_cast ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp8_ = vala_ccode_identifier_new ("obj")), (ValaTypeSymbol*) cl), _vala_ccode_node_unref0 (_tmp8_), _tmp9_);
	_cdecl_ = (_tmp12_ = vala_ccode_declaration_new (_tmp11_ = g_strdup_printf ("%s *", _tmp10_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) cl, FALSE))), _g_free0 (_tmp11_), _g_free0 (_tmp10_), _tmp12_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp13_ = vala_ccode_variable_declarator_new ("self", (ValaCCodeExpression*) ccall, NULL)));
	_vala_ccode_node_unref0 (_tmp13_);
	vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) _cdecl_);
	if (vala_class_get_destructor (cl) != NULL) {
		vala_ccode_block_add_statement (cblock, vala_code_node_get_ccodenode ((ValaCodeNode*) vala_class_get_destructor (cl)));
	}
	vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) ((ValaCCodeBaseModule*) self)->instance_finalize_fragment);
	if (vala_class_get_base_class (cl) != NULL) {
		char* _tmp14_;
		char* _tmp15_;
		ValaCCodeIdentifier* _tmp16_;
		ValaCCodeFunctionCall* _tmp17_;
		ValaCCodeFunctionCall* ccast;
		char* _tmp18_;
		char* _tmp19_;
		ValaCCodeIdentifier* _tmp20_;
		ValaCCodeMemberAccess* _tmp21_;
		ValaCCodeFunctionCall* _tmp22_;
		ValaCCodeIdentifier* _tmp23_;
		ValaCCodeExpressionStatement* _tmp24_;
		ccast = (_tmp17_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new (_tmp15_ = g_strdup_printf ("%s_CLASS", _tmp14_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) fundamental_class, NULL))))), _vala_ccode_node_unref0 (_tmp16_), _g_free0 (_tmp15_), _g_free0 (_tmp14_), _tmp17_);
		vala_ccode_function_call_add_argument (ccast, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new (_tmp19_ = g_strdup_printf ("%s_parent_class", _tmp18_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) cl, NULL)))));
		_vala_ccode_node_unref0 (_tmp20_);
		_g_free0 (_tmp19_);
		_g_free0 (_tmp18_);
		ccall = (_tmp22_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp21_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ccast, "finalize"))), _vala_ccode_node_unref0 (ccall), _tmp22_);
		_vala_ccode_node_unref0 (_tmp21_);
		vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_identifier_new ("obj")));
		_vala_ccode_node_unref0 (_tmp23_);
		vala_ccode_block_add_statement (cblock, (ValaCCodeNode*) (_tmp24_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
		_vala_ccode_node_unref0 (_tmp24_);
		_vala_ccode_node_unref0 (ccast);
	}
	vala_ccode_function_set_block (function, cblock);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (cblock);
	_vala_code_node_unref0 (fundamental_class);
	_vala_ccode_node_unref0 (function);
}


static ValaCCodeFunctionCall* vala_gtype_module_real_get_param_spec (ValaCCodeBaseModule* base, ValaProperty* prop) {
	ValaGTypeModule * self;
	ValaCCodeFunctionCall* result = NULL;
	ValaCCodeFunctionCall* cspec;
	ValaCCodeConstant* _tmp0_;
	char* _tmp1_;
	ValaCCodeConstant* _tmp2_;
	char* _tmp3_;
	ValaCCodeConstant* _tmp4_;
	gboolean _tmp5_ = FALSE;
	char* pflags;
	gboolean _tmp102_ = FALSE;
	gboolean _tmp104_ = FALSE;
	ValaCCodeConstant* _tmp108_;
	self = (ValaGTypeModule*) base;
	g_return_val_if_fail (prop != NULL, NULL);
	cspec = vala_ccode_function_call_new (NULL);
	vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp0_ = vala_property_get_canonical_cconstant (prop)));
	_vala_ccode_node_unref0 (_tmp0_);
	vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp2_ = vala_ccode_constant_new (_tmp1_ = g_strdup_printf ("\"%s\"", vala_property_get_nick (prop)))));
	_vala_ccode_node_unref0 (_tmp2_);
	_g_free0 (_tmp1_);
	vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp4_ = vala_ccode_constant_new (_tmp3_ = g_strdup_printf ("\"%s\"", vala_property_get_blurb (prop)))));
	_vala_ccode_node_unref0 (_tmp4_);
	_g_free0 (_tmp3_);
	if (VALA_IS_CLASS (vala_data_type_get_data_type (vala_property_get_property_type (prop)))) {
		_tmp5_ = TRUE;
	} else {
		_tmp5_ = VALA_IS_INTERFACE (vala_data_type_get_data_type (vala_property_get_property_type (prop)));
	}
	if (_tmp5_) {
		char* param_spec_name;
		ValaCCodeIdentifier* _tmp6_;
		param_spec_name = vala_typesymbol_get_param_spec_function (vala_data_type_get_data_type (vala_property_get_property_type (prop)));
		vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp6_ = vala_ccode_identifier_new (param_spec_name)));
		_vala_ccode_node_unref0 (_tmp6_);
		if (_vala_strcmp0 (param_spec_name, "g_param_spec_string") == 0) {
			ValaCCodeConstant* _tmp7_;
			vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp7_ = vala_ccode_constant_new ("NULL")));
			_vala_ccode_node_unref0 (_tmp7_);
		} else {
			if (_vala_strcmp0 (param_spec_name, "g_param_spec_variant") == 0) {
				ValaCCodeConstant* _tmp8_;
				ValaCCodeConstant* _tmp9_;
				vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp8_ = vala_ccode_constant_new ("G_VARIANT_TYPE_ANY")));
				_vala_ccode_node_unref0 (_tmp8_);
				vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp9_ = vala_ccode_constant_new ("NULL")));
				_vala_ccode_node_unref0 (_tmp9_);
			} else {
				char* _tmp10_;
				gboolean _tmp11_;
				if ((_tmp11_ = _vala_strcmp0 (_tmp10_ = vala_typesymbol_get_type_id (vala_data_type_get_data_type (vala_property_get_property_type (prop))), "G_TYPE_POINTER") != 0, _g_free0 (_tmp10_), _tmp11_)) {
					char* _tmp12_;
					ValaCCodeIdentifier* _tmp13_;
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new (_tmp12_ = vala_typesymbol_get_type_id (vala_data_type_get_data_type (vala_property_get_property_type (prop))))));
					_vala_ccode_node_unref0 (_tmp13_);
					_g_free0 (_tmp12_);
				}
			}
		}
		_g_free0 (param_spec_name);
	} else {
		if (VALA_IS_ENUM (vala_data_type_get_data_type (vala_property_get_property_type (prop)))) {
			ValaTypeSymbol* _tmp14_;
			ValaEnum* e;
			e = _vala_code_node_ref0 ((_tmp14_ = vala_data_type_get_data_type (vala_property_get_property_type (prop)), VALA_IS_ENUM (_tmp14_) ? ((ValaEnum*) _tmp14_) : NULL));
			if (vala_enum_get_has_type_id (e)) {
				char* _tmp17_;
				ValaCCodeIdentifier* _tmp18_;
				if (vala_enum_get_is_flags (e)) {
					ValaCCodeIdentifier* _tmp15_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("g_param_spec_flags")));
					_vala_ccode_node_unref0 (_tmp15_);
				} else {
					ValaCCodeIdentifier* _tmp16_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("g_param_spec_enum")));
					_vala_ccode_node_unref0 (_tmp16_);
				}
				vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new (_tmp17_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) e))));
				_vala_ccode_node_unref0 (_tmp18_);
				_g_free0 (_tmp17_);
			} else {
				if (vala_enum_get_is_flags (e)) {
					ValaCCodeIdentifier* _tmp19_;
					ValaCCodeConstant* _tmp20_;
					ValaCCodeConstant* _tmp21_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("g_param_spec_uint")));
					_vala_ccode_node_unref0 (_tmp19_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_constant_new ("0")));
					_vala_ccode_node_unref0 (_tmp20_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_constant_new ("G_MAXUINT")));
					_vala_ccode_node_unref0 (_tmp21_);
				} else {
					ValaCCodeIdentifier* _tmp22_;
					ValaCCodeConstant* _tmp23_;
					ValaCCodeConstant* _tmp24_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new ("g_param_spec_int")));
					_vala_ccode_node_unref0 (_tmp22_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_constant_new ("G_MININT")));
					_vala_ccode_node_unref0 (_tmp23_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp24_ = vala_ccode_constant_new ("G_MAXINT")));
					_vala_ccode_node_unref0 (_tmp24_);
				}
			}
			if (vala_property_get_initializer (prop) != NULL) {
				vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
			} else {
				char* _tmp25_;
				ValaCCodeConstant* _tmp26_;
				vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_constant_new (_tmp25_ = vala_typesymbol_get_default_value (vala_data_type_get_data_type (vala_property_get_property_type (prop))))));
				_vala_ccode_node_unref0 (_tmp26_);
				_g_free0 (_tmp25_);
			}
			_vala_code_node_unref0 (e);
		} else {
			if (VALA_IS_STRUCT (vala_data_type_get_data_type (vala_property_get_property_type (prop)))) {
				ValaStruct* st;
				char* _tmp27_;
				gboolean _tmp28_;
				st = _vala_code_node_ref0 (VALA_STRUCT (vala_data_type_get_data_type (vala_property_get_property_type (prop))));
				if ((_tmp28_ = _vala_strcmp0 (_tmp27_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_INT") == 0, _g_free0 (_tmp27_), _tmp28_)) {
					ValaCCodeIdentifier* _tmp29_;
					ValaCCodeConstant* _tmp30_;
					ValaCCodeConstant* _tmp31_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("g_param_spec_int")));
					_vala_ccode_node_unref0 (_tmp29_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp30_ = vala_ccode_constant_new ("G_MININT")));
					_vala_ccode_node_unref0 (_tmp30_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp31_ = vala_ccode_constant_new ("G_MAXINT")));
					_vala_ccode_node_unref0 (_tmp31_);
					if (vala_property_get_initializer (prop) != NULL) {
						vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
					} else {
						ValaCCodeConstant* _tmp32_;
						vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_constant_new ("0")));
						_vala_ccode_node_unref0 (_tmp32_);
					}
				} else {
					char* _tmp33_;
					gboolean _tmp34_;
					if ((_tmp34_ = _vala_strcmp0 (_tmp33_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_UINT") == 0, _g_free0 (_tmp33_), _tmp34_)) {
						ValaCCodeIdentifier* _tmp35_;
						ValaCCodeConstant* _tmp36_;
						ValaCCodeConstant* _tmp37_;
						vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp35_ = vala_ccode_identifier_new ("g_param_spec_uint")));
						_vala_ccode_node_unref0 (_tmp35_);
						vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp36_ = vala_ccode_constant_new ("0")));
						_vala_ccode_node_unref0 (_tmp36_);
						vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_constant_new ("G_MAXUINT")));
						_vala_ccode_node_unref0 (_tmp37_);
						if (vala_property_get_initializer (prop) != NULL) {
							vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
						} else {
							ValaCCodeConstant* _tmp38_;
							vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp38_ = vala_ccode_constant_new ("0U")));
							_vala_ccode_node_unref0 (_tmp38_);
						}
					} else {
						char* _tmp39_;
						gboolean _tmp40_;
						if ((_tmp40_ = _vala_strcmp0 (_tmp39_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_INT64") == 0, _g_free0 (_tmp39_), _tmp40_)) {
							ValaCCodeIdentifier* _tmp41_;
							ValaCCodeConstant* _tmp42_;
							ValaCCodeConstant* _tmp43_;
							vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp41_ = vala_ccode_identifier_new ("g_param_spec_int64")));
							_vala_ccode_node_unref0 (_tmp41_);
							vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp42_ = vala_ccode_constant_new ("G_MININT64")));
							_vala_ccode_node_unref0 (_tmp42_);
							vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp43_ = vala_ccode_constant_new ("G_MAXINT64")));
							_vala_ccode_node_unref0 (_tmp43_);
							if (vala_property_get_initializer (prop) != NULL) {
								vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
							} else {
								ValaCCodeConstant* _tmp44_;
								vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp44_ = vala_ccode_constant_new ("0")));
								_vala_ccode_node_unref0 (_tmp44_);
							}
						} else {
							char* _tmp45_;
							gboolean _tmp46_;
							if ((_tmp46_ = _vala_strcmp0 (_tmp45_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_UINT64") == 0, _g_free0 (_tmp45_), _tmp46_)) {
								ValaCCodeIdentifier* _tmp47_;
								ValaCCodeConstant* _tmp48_;
								ValaCCodeConstant* _tmp49_;
								vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp47_ = vala_ccode_identifier_new ("g_param_spec_uint64")));
								_vala_ccode_node_unref0 (_tmp47_);
								vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp48_ = vala_ccode_constant_new ("0")));
								_vala_ccode_node_unref0 (_tmp48_);
								vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp49_ = vala_ccode_constant_new ("G_MAXUINT64")));
								_vala_ccode_node_unref0 (_tmp49_);
								if (vala_property_get_initializer (prop) != NULL) {
									vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
								} else {
									ValaCCodeConstant* _tmp50_;
									vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp50_ = vala_ccode_constant_new ("0U")));
									_vala_ccode_node_unref0 (_tmp50_);
								}
							} else {
								char* _tmp51_;
								gboolean _tmp52_;
								if ((_tmp52_ = _vala_strcmp0 (_tmp51_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_LONG") == 0, _g_free0 (_tmp51_), _tmp52_)) {
									ValaCCodeIdentifier* _tmp53_;
									ValaCCodeConstant* _tmp54_;
									ValaCCodeConstant* _tmp55_;
									vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp53_ = vala_ccode_identifier_new ("g_param_spec_long")));
									_vala_ccode_node_unref0 (_tmp53_);
									vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp54_ = vala_ccode_constant_new ("G_MINLONG")));
									_vala_ccode_node_unref0 (_tmp54_);
									vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp55_ = vala_ccode_constant_new ("G_MAXLONG")));
									_vala_ccode_node_unref0 (_tmp55_);
									if (vala_property_get_initializer (prop) != NULL) {
										vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
									} else {
										ValaCCodeConstant* _tmp56_;
										vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp56_ = vala_ccode_constant_new ("0L")));
										_vala_ccode_node_unref0 (_tmp56_);
									}
								} else {
									char* _tmp57_;
									gboolean _tmp58_;
									if ((_tmp58_ = _vala_strcmp0 (_tmp57_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_ULONG") == 0, _g_free0 (_tmp57_), _tmp58_)) {
										ValaCCodeIdentifier* _tmp59_;
										ValaCCodeConstant* _tmp60_;
										ValaCCodeConstant* _tmp61_;
										vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp59_ = vala_ccode_identifier_new ("g_param_spec_ulong")));
										_vala_ccode_node_unref0 (_tmp59_);
										vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp60_ = vala_ccode_constant_new ("0")));
										_vala_ccode_node_unref0 (_tmp60_);
										vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp61_ = vala_ccode_constant_new ("G_MAXULONG")));
										_vala_ccode_node_unref0 (_tmp61_);
										if (vala_property_get_initializer (prop) != NULL) {
											vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
										} else {
											ValaCCodeConstant* _tmp62_;
											vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp62_ = vala_ccode_constant_new ("0UL")));
											_vala_ccode_node_unref0 (_tmp62_);
										}
									} else {
										char* _tmp63_;
										gboolean _tmp64_;
										if ((_tmp64_ = _vala_strcmp0 (_tmp63_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_BOOLEAN") == 0, _g_free0 (_tmp63_), _tmp64_)) {
											ValaCCodeIdentifier* _tmp65_;
											vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp65_ = vala_ccode_identifier_new ("g_param_spec_boolean")));
											_vala_ccode_node_unref0 (_tmp65_);
											if (vala_property_get_initializer (prop) != NULL) {
												vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
											} else {
												ValaCCodeConstant* _tmp66_;
												vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp66_ = vala_ccode_constant_new ("FALSE")));
												_vala_ccode_node_unref0 (_tmp66_);
											}
										} else {
											char* _tmp67_;
											gboolean _tmp68_;
											if ((_tmp68_ = _vala_strcmp0 (_tmp67_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_CHAR") == 0, _g_free0 (_tmp67_), _tmp68_)) {
												ValaCCodeIdentifier* _tmp69_;
												ValaCCodeConstant* _tmp70_;
												ValaCCodeConstant* _tmp71_;
												vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp69_ = vala_ccode_identifier_new ("g_param_spec_char")));
												_vala_ccode_node_unref0 (_tmp69_);
												vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp70_ = vala_ccode_constant_new ("G_MININT8")));
												_vala_ccode_node_unref0 (_tmp70_);
												vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp71_ = vala_ccode_constant_new ("G_MAXINT8")));
												_vala_ccode_node_unref0 (_tmp71_);
												if (vala_property_get_initializer (prop) != NULL) {
													vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
												} else {
													ValaCCodeConstant* _tmp72_;
													vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp72_ = vala_ccode_constant_new ("0")));
													_vala_ccode_node_unref0 (_tmp72_);
												}
											} else {
												char* _tmp73_;
												gboolean _tmp74_;
												if ((_tmp74_ = _vala_strcmp0 (_tmp73_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_UCHAR") == 0, _g_free0 (_tmp73_), _tmp74_)) {
													ValaCCodeIdentifier* _tmp75_;
													ValaCCodeConstant* _tmp76_;
													ValaCCodeConstant* _tmp77_;
													vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp75_ = vala_ccode_identifier_new ("g_param_spec_uchar")));
													_vala_ccode_node_unref0 (_tmp75_);
													vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp76_ = vala_ccode_constant_new ("0")));
													_vala_ccode_node_unref0 (_tmp76_);
													vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp77_ = vala_ccode_constant_new ("G_MAXUINT8")));
													_vala_ccode_node_unref0 (_tmp77_);
													if (vala_property_get_initializer (prop) != NULL) {
														vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
													} else {
														ValaCCodeConstant* _tmp78_;
														vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp78_ = vala_ccode_constant_new ("0")));
														_vala_ccode_node_unref0 (_tmp78_);
													}
												} else {
													char* _tmp79_;
													gboolean _tmp80_;
													if ((_tmp80_ = _vala_strcmp0 (_tmp79_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_FLOAT") == 0, _g_free0 (_tmp79_), _tmp80_)) {
														ValaCCodeIdentifier* _tmp81_;
														ValaCCodeConstant* _tmp82_;
														ValaCCodeConstant* _tmp83_;
														vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp81_ = vala_ccode_identifier_new ("g_param_spec_float")));
														_vala_ccode_node_unref0 (_tmp81_);
														vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp82_ = vala_ccode_constant_new ("-G_MAXFLOAT")));
														_vala_ccode_node_unref0 (_tmp82_);
														vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp83_ = vala_ccode_constant_new ("G_MAXFLOAT")));
														_vala_ccode_node_unref0 (_tmp83_);
														if (vala_property_get_initializer (prop) != NULL) {
															vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
														} else {
															ValaCCodeConstant* _tmp84_;
															vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp84_ = vala_ccode_constant_new ("0.0F")));
															_vala_ccode_node_unref0 (_tmp84_);
														}
													} else {
														char* _tmp85_;
														gboolean _tmp86_;
														if ((_tmp86_ = _vala_strcmp0 (_tmp85_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_DOUBLE") == 0, _g_free0 (_tmp85_), _tmp86_)) {
															ValaCCodeIdentifier* _tmp87_;
															ValaCCodeConstant* _tmp88_;
															ValaCCodeConstant* _tmp89_;
															vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp87_ = vala_ccode_identifier_new ("g_param_spec_double")));
															_vala_ccode_node_unref0 (_tmp87_);
															vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp88_ = vala_ccode_constant_new ("-G_MAXDOUBLE")));
															_vala_ccode_node_unref0 (_tmp88_);
															vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp89_ = vala_ccode_constant_new ("G_MAXDOUBLE")));
															_vala_ccode_node_unref0 (_tmp89_);
															if (vala_property_get_initializer (prop) != NULL) {
																vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
															} else {
																ValaCCodeConstant* _tmp90_;
																vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp90_ = vala_ccode_constant_new ("0.0")));
																_vala_ccode_node_unref0 (_tmp90_);
															}
														} else {
															char* _tmp91_;
															gboolean _tmp92_;
															if ((_tmp92_ = _vala_strcmp0 (_tmp91_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st), "G_TYPE_GTYPE") == 0, _g_free0 (_tmp91_), _tmp92_)) {
																ValaCCodeIdentifier* _tmp93_;
																vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp93_ = vala_ccode_identifier_new ("g_param_spec_gtype")));
																_vala_ccode_node_unref0 (_tmp93_);
																if (vala_property_get_initializer (prop) != NULL) {
																	vala_ccode_function_call_add_argument (cspec, VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_property_get_initializer (prop))));
																} else {
																	ValaCCodeConstant* _tmp94_;
																	vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp94_ = vala_ccode_constant_new ("G_TYPE_NONE")));
																	_vala_ccode_node_unref0 (_tmp94_);
																}
															} else {
																ValaCCodeIdentifier* _tmp95_;
																char* _tmp96_;
																ValaCCodeIdentifier* _tmp97_;
																vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp95_ = vala_ccode_identifier_new ("g_param_spec_boxed")));
																_vala_ccode_node_unref0 (_tmp95_);
																vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp97_ = vala_ccode_identifier_new (_tmp96_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) st))));
																_vala_ccode_node_unref0 (_tmp97_);
																_g_free0 (_tmp96_);
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				_vala_code_node_unref0 (st);
			} else {
				gboolean _tmp98_ = FALSE;
				if (VALA_IS_ARRAY_TYPE (vala_property_get_property_type (prop))) {
					_tmp98_ = vala_data_type_get_data_type (vala_array_type_get_element_type (VALA_ARRAY_TYPE (vala_property_get_property_type (prop)))) == vala_data_type_get_data_type (((ValaCCodeBaseModule*) self)->string_type);
				} else {
					_tmp98_ = FALSE;
				}
				if (_tmp98_) {
					ValaCCodeIdentifier* _tmp99_;
					ValaCCodeIdentifier* _tmp100_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp99_ = vala_ccode_identifier_new ("g_param_spec_boxed")));
					_vala_ccode_node_unref0 (_tmp99_);
					vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp100_ = vala_ccode_identifier_new ("G_TYPE_STRV")));
					_vala_ccode_node_unref0 (_tmp100_);
				} else {
					ValaCCodeIdentifier* _tmp101_;
					vala_ccode_function_call_set_call (cspec, (ValaCCodeExpression*) (_tmp101_ = vala_ccode_identifier_new ("g_param_spec_pointer")));
					_vala_ccode_node_unref0 (_tmp101_);
				}
			}
		}
	}
	pflags = g_strdup ("G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB");
	if (vala_property_get_get_accessor (prop) != NULL) {
		_tmp102_ = vala_symbol_get_access ((ValaSymbol*) vala_property_get_get_accessor (prop)) != VALA_SYMBOL_ACCESSIBILITY_PRIVATE;
	} else {
		_tmp102_ = FALSE;
	}
	if (_tmp102_) {
		char* _tmp103_;
		pflags = (_tmp103_ = g_strdup_printf ("%s%s", pflags, " | G_PARAM_READABLE"), _g_free0 (pflags), _tmp103_);
	}
	if (vala_property_get_set_accessor (prop) != NULL) {
		_tmp104_ = vala_symbol_get_access ((ValaSymbol*) vala_property_get_set_accessor (prop)) != VALA_SYMBOL_ACCESSIBILITY_PRIVATE;
	} else {
		_tmp104_ = FALSE;
	}
	if (_tmp104_) {
		char* _tmp105_;
		pflags = (_tmp105_ = g_strdup_printf ("%s%s", pflags, " | G_PARAM_WRITABLE"), _g_free0 (pflags), _tmp105_);
		if (vala_property_accessor_get_construction (vala_property_get_set_accessor (prop))) {
			if (vala_property_accessor_get_writable (vala_property_get_set_accessor (prop))) {
				char* _tmp106_;
				pflags = (_tmp106_ = g_strdup_printf ("%s%s", pflags, " | G_PARAM_CONSTRUCT"), _g_free0 (pflags), _tmp106_);
			} else {
				char* _tmp107_;
				pflags = (_tmp107_ = g_strdup_printf ("%s%s", pflags, " | G_PARAM_CONSTRUCT_ONLY"), _g_free0 (pflags), _tmp107_);
			}
		}
	}
	vala_ccode_function_call_add_argument (cspec, (ValaCCodeExpression*) (_tmp108_ = vala_ccode_constant_new (pflags)));
	_vala_ccode_node_unref0 (_tmp108_);
	result = cspec;
	_g_free0 (pflags);
	return result;
}


static void vala_gtype_module_real_generate_interface_declaration (ValaCCodeBaseModule* base, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space) {
	ValaGTypeModule * self;
	char* _tmp0_;
	gboolean _tmp1_;
	char* _tmp6_;
	char* _tmp7_;
	ValaCCodeStruct* _tmp8_;
	ValaCCodeStruct* type_struct;
	ValaCCodeNewline* _tmp9_;
	char* _tmp10_;
	char* _tmp11_;
	char* macro;
	char* _tmp12_;
	ValaCCodeMacroReplacement* _tmp13_;
	char* _tmp14_;
	char* _tmp15_;
	char* _tmp16_;
	char* _tmp17_;
	char* _tmp18_;
	ValaCCodeMacroReplacement* _tmp19_;
	char* _tmp20_;
	char* _tmp21_;
	char* _tmp22_;
	char* _tmp23_;
	ValaCCodeMacroReplacement* _tmp24_;
	char* _tmp25_;
	char* _tmp26_;
	char* _tmp27_;
	char* _tmp28_;
	char* _tmp29_;
	ValaCCodeMacroReplacement* _tmp30_;
	ValaCCodeNewline* _tmp31_;
	char* _tmp32_;
	char* _tmp33_;
	char* _tmp34_;
	ValaCCodeVariableDeclarator* _tmp35_;
	ValaCCodeTypeDefinition* _tmp36_;
	char* _tmp37_;
	char* _tmp38_;
	ValaCCodeVariableDeclarator* _tmp39_;
	ValaCCodeTypeDefinition* _tmp40_;
	ValaTypeRegisterFunction* type_fun;
	ValaCCodeFragment* _tmp70_;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (iface != NULL);
	g_return_if_fail (decl_space != NULL);
	if ((_tmp1_ = vala_ccode_declaration_space_add_symbol_declaration (decl_space, (ValaSymbol*) iface, _tmp0_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE)), _g_free0 (_tmp0_), _tmp1_)) {
		return;
	}
	{
		ValaList* _tmp2_;
		ValaIterator* _tmp3_;
		ValaIterator* _prerequisite_it;
		_prerequisite_it = (_tmp3_ = vala_iterable_iterator ((ValaIterable*) (_tmp2_ = vala_interface_get_prerequisites (iface))), _vala_collection_object_unref0 (_tmp2_), _tmp3_);
		while (TRUE) {
			ValaDataType* prerequisite;
			ValaTypeSymbol* _tmp4_;
			ValaClass* prereq_cl;
			ValaTypeSymbol* _tmp5_;
			ValaInterface* prereq_iface;
			if (!vala_iterator_next (_prerequisite_it)) {
				break;
			}
			prerequisite = (ValaDataType*) vala_iterator_get (_prerequisite_it);
			prereq_cl = _vala_code_node_ref0 ((_tmp4_ = vala_data_type_get_data_type (prerequisite), VALA_IS_CLASS (_tmp4_) ? ((ValaClass*) _tmp4_) : NULL));
			prereq_iface = _vala_code_node_ref0 ((_tmp5_ = vala_data_type_get_data_type (prerequisite), VALA_IS_INTERFACE (_tmp5_) ? ((ValaInterface*) _tmp5_) : NULL));
			if (prereq_cl != NULL) {
				vala_ccode_base_module_generate_class_declaration ((ValaCCodeBaseModule*) self, prereq_cl, decl_space);
			} else {
				if (prereq_iface != NULL) {
					vala_ccode_base_module_generate_interface_declaration ((ValaCCodeBaseModule*) self, prereq_iface, decl_space);
				}
			}
			_vala_code_node_unref0 (prereq_iface);
			_vala_code_node_unref0 (prereq_cl);
			_vala_code_node_unref0 (prerequisite);
		}
		_vala_collection_object_unref0 (_prerequisite_it);
	}
	type_struct = (_tmp8_ = vala_ccode_struct_new (_tmp7_ = g_strdup_printf ("_%s", _tmp6_ = vala_interface_get_type_cname (iface))), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _tmp8_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp9_ = vala_ccode_newline_new ()));
	_vala_ccode_node_unref0 (_tmp9_);
	macro = (_tmp11_ = g_strdup_printf ("(%s_get_type ())", _tmp10_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) iface, NULL)), _g_free0 (_tmp10_), _tmp11_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp13_ = vala_ccode_macro_replacement_new (_tmp12_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) iface), macro)));
	_vala_ccode_node_unref0 (_tmp13_);
	_g_free0 (_tmp12_);
	macro = (_tmp16_ = g_strdup_printf ("(G_TYPE_CHECK_INSTANCE_CAST ((obj), %s, %s))", _tmp14_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) iface), _tmp15_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE)), _g_free0 (macro), _tmp16_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp14_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp19_ = vala_ccode_macro_replacement_new (_tmp18_ = g_strdup_printf ("%s(obj)", _tmp17_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) iface, NULL)), macro)));
	_vala_ccode_node_unref0 (_tmp19_);
	_g_free0 (_tmp18_);
	_g_free0 (_tmp17_);
	macro = (_tmp21_ = g_strdup_printf ("(G_TYPE_CHECK_INSTANCE_TYPE ((obj), %s))", _tmp20_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) iface)), _g_free0 (macro), _tmp21_);
	_g_free0 (_tmp20_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp24_ = vala_ccode_macro_replacement_new (_tmp23_ = g_strdup_printf ("%s(obj)", _tmp22_ = vala_ccode_base_module_get_type_check_function ((ValaCCodeBaseModule*) self, (ValaTypeSymbol*) iface)), macro)));
	_vala_ccode_node_unref0 (_tmp24_);
	_g_free0 (_tmp23_);
	_g_free0 (_tmp22_);
	macro = (_tmp27_ = g_strdup_printf ("(G_TYPE_INSTANCE_GET_INTERFACE ((obj), %s, %s))", _tmp25_ = vala_typesymbol_get_type_id ((ValaTypeSymbol*) iface), _tmp26_ = vala_interface_get_type_cname (iface)), _g_free0 (macro), _tmp27_);
	_g_free0 (_tmp26_);
	_g_free0 (_tmp25_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp30_ = vala_ccode_macro_replacement_new (_tmp29_ = g_strdup_printf ("%s_GET_INTERFACE(obj)", _tmp28_ = vala_typesymbol_get_upper_case_cname ((ValaTypeSymbol*) iface, NULL)), macro)));
	_vala_ccode_node_unref0 (_tmp30_);
	_g_free0 (_tmp29_);
	_g_free0 (_tmp28_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp31_ = vala_ccode_newline_new ()));
	_vala_ccode_node_unref0 (_tmp31_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp36_ = vala_ccode_type_definition_new (_tmp33_ = g_strdup_printf ("struct _%s", _tmp32_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE)), (ValaCCodeDeclarator*) (_tmp35_ = vala_ccode_variable_declarator_new (_tmp34_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE), NULL, NULL)))));
	_vala_ccode_node_unref0 (_tmp36_);
	_vala_ccode_node_unref0 (_tmp35_);
	_g_free0 (_tmp34_);
	_g_free0 (_tmp33_);
	_g_free0 (_tmp32_);
	vala_ccode_declaration_space_add_type_declaration (decl_space, (ValaCCodeNode*) (_tmp40_ = vala_ccode_type_definition_new (_tmp37_ = g_strdup_printf ("struct %s", vala_ccode_struct_get_name (type_struct)), (ValaCCodeDeclarator*) (_tmp39_ = vala_ccode_variable_declarator_new (_tmp38_ = vala_interface_get_type_cname (iface), NULL, NULL)))));
	_vala_ccode_node_unref0 (_tmp40_);
	_vala_ccode_node_unref0 (_tmp39_);
	_g_free0 (_tmp38_);
	_g_free0 (_tmp37_);
	vala_ccode_struct_add_field (type_struct, "GTypeInterface", "parent_iface", NULL);
	{
		ValaList* _tmp41_;
		ValaIterator* _tmp42_;
		ValaIterator* _m_it;
		_m_it = (_tmp42_ = vala_iterable_iterator ((ValaIterable*) (_tmp41_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp41_), _tmp42_);
		while (TRUE) {
			ValaMethod* m;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			vala_gtype_module_generate_virtual_method_declaration (self, m, decl_space, type_struct);
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	{
		ValaList* _tmp43_;
		ValaIterator* _tmp44_;
		ValaIterator* _prop_it;
		_prop_it = (_tmp44_ = vala_iterable_iterator ((ValaIterable*) (_tmp43_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp43_), _tmp44_);
		while (TRUE) {
			ValaProperty* prop;
			gboolean _tmp45_ = FALSE;
			ValaObjectTypeSymbol* t;
			gboolean returns_real_struct;
			ValaObjectType* this_type;
			char* _tmp46_;
			ValaCCodeFormalParameter* _tmp47_;
			ValaCCodeFormalParameter* cselfparam;
			if (!vala_iterator_next (_prop_it)) {
				break;
			}
			prop = (ValaProperty*) vala_iterator_get (_prop_it);
			if (!vala_property_get_is_abstract (prop)) {
				_tmp45_ = !vala_property_get_is_virtual (prop);
			} else {
				_tmp45_ = FALSE;
			}
			if (_tmp45_) {
				_vala_code_node_unref0 (prop);
				continue;
			}
			vala_ccode_base_module_generate_type_declaration ((ValaCCodeBaseModule*) self, vala_property_get_property_type (prop), decl_space);
			t = _vala_code_node_ref0 (VALA_OBJECT_TYPE_SYMBOL (vala_symbol_get_parent_symbol ((ValaSymbol*) prop)));
			returns_real_struct = vala_data_type_is_real_non_null_struct_type (vala_property_get_property_type (prop));
			this_type = vala_object_type_new (t);
			cselfparam = (_tmp47_ = vala_ccode_formal_parameter_new ("self", _tmp46_ = vala_data_type_get_cname ((ValaDataType*) this_type)), _g_free0 (_tmp46_), _tmp47_);
			if (vala_property_get_get_accessor (prop) != NULL) {
				char* _tmp48_;
				ValaCCodeFunctionDeclarator* _tmp49_;
				ValaCCodeFunctionDeclarator* vdeclarator;
				char* creturn_type;
				ValaDataType* _tmp55_;
				ValaArrayType* array_type;
				ValaCCodeDeclaration* vdecl;
				vdeclarator = (_tmp49_ = vala_ccode_function_declarator_new (_tmp48_ = g_strdup_printf ("get_%s", vala_symbol_get_name ((ValaSymbol*) prop))), _g_free0 (_tmp48_), _tmp49_);
				vala_ccode_function_declarator_add_parameter (vdeclarator, cselfparam);
				creturn_type = NULL;
				if (returns_real_struct) {
					char* _tmp50_;
					char* _tmp51_;
					ValaCCodeFormalParameter* _tmp52_;
					ValaCCodeFormalParameter* cvalueparam;
					char* _tmp53_;
					cvalueparam = (_tmp52_ = vala_ccode_formal_parameter_new ("value", _tmp51_ = g_strconcat (_tmp50_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_get_accessor (prop))), "*", NULL)), _g_free0 (_tmp51_), _g_free0 (_tmp50_), _tmp52_);
					vala_ccode_function_declarator_add_parameter (vdeclarator, cvalueparam);
					creturn_type = (_tmp53_ = g_strdup ("void"), _g_free0 (creturn_type), _tmp53_);
					_vala_ccode_node_unref0 (cvalueparam);
				} else {
					char* _tmp54_;
					creturn_type = (_tmp54_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_get_accessor (prop))), _g_free0 (creturn_type), _tmp54_);
				}
				array_type = _vala_code_node_ref0 ((_tmp55_ = vala_property_get_property_type (prop), VALA_IS_ARRAY_TYPE (_tmp55_) ? ((ValaArrayType*) _tmp55_) : NULL));
				if (array_type != NULL) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp56_;
							_tmp56_ = TRUE;
							while (TRUE) {
								char* _tmp57_;
								ValaCCodeFormalParameter* _tmp58_;
								if (!_tmp56_) {
									dim++;
								}
								_tmp56_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp58_ = vala_ccode_formal_parameter_new (_tmp57_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "result", dim), "int*"));
								_vala_ccode_node_unref0 (_tmp58_);
								_g_free0 (_tmp57_);
							}
						}
					}
				}
				vdecl = vala_ccode_declaration_new (creturn_type);
				vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
				vala_ccode_struct_add_declaration (type_struct, vdecl);
				_vala_ccode_node_unref0 (vdecl);
				_vala_code_node_unref0 (array_type);
				_g_free0 (creturn_type);
				_vala_ccode_node_unref0 (vdeclarator);
			}
			if (vala_property_get_set_accessor (prop) != NULL) {
				char* _tmp59_;
				ValaCCodeFunctionDeclarator* _tmp60_;
				ValaCCodeFunctionDeclarator* vdeclarator;
				ValaDataType* _tmp66_;
				ValaArrayType* array_type;
				ValaCCodeDeclaration* vdecl;
				vdeclarator = (_tmp60_ = vala_ccode_function_declarator_new (_tmp59_ = g_strdup_printf ("set_%s", vala_symbol_get_name ((ValaSymbol*) prop))), _g_free0 (_tmp59_), _tmp60_);
				vala_ccode_function_declarator_add_parameter (vdeclarator, cselfparam);
				if (returns_real_struct) {
					char* _tmp61_;
					char* _tmp62_;
					ValaCCodeFormalParameter* _tmp63_;
					ValaCCodeFormalParameter* cvalueparam;
					cvalueparam = (_tmp63_ = vala_ccode_formal_parameter_new ("value", _tmp62_ = g_strconcat (_tmp61_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_set_accessor (prop))), "*", NULL)), _g_free0 (_tmp62_), _g_free0 (_tmp61_), _tmp63_);
					vala_ccode_function_declarator_add_parameter (vdeclarator, cvalueparam);
					_vala_ccode_node_unref0 (cvalueparam);
				} else {
					char* _tmp64_;
					ValaCCodeFormalParameter* _tmp65_;
					ValaCCodeFormalParameter* cvalueparam;
					cvalueparam = (_tmp65_ = vala_ccode_formal_parameter_new ("value", _tmp64_ = vala_data_type_get_cname (vala_property_accessor_get_value_type (vala_property_get_set_accessor (prop)))), _g_free0 (_tmp64_), _tmp65_);
					vala_ccode_function_declarator_add_parameter (vdeclarator, cvalueparam);
					_vala_ccode_node_unref0 (cvalueparam);
				}
				array_type = _vala_code_node_ref0 ((_tmp66_ = vala_property_get_property_type (prop), VALA_IS_ARRAY_TYPE (_tmp66_) ? ((ValaArrayType*) _tmp66_) : NULL));
				if (array_type != NULL) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp67_;
							_tmp67_ = TRUE;
							while (TRUE) {
								char* _tmp68_;
								ValaCCodeFormalParameter* _tmp69_;
								if (!_tmp67_) {
									dim++;
								}
								_tmp67_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_function_declarator_add_parameter (vdeclarator, _tmp69_ = vala_ccode_formal_parameter_new (_tmp68_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "value", dim), "int"));
								_vala_ccode_node_unref0 (_tmp69_);
								_g_free0 (_tmp68_);
							}
						}
					}
				}
				vdecl = vala_ccode_declaration_new ("void");
				vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
				vala_ccode_struct_add_declaration (type_struct, vdecl);
				_vala_ccode_node_unref0 (vdecl);
				_vala_code_node_unref0 (array_type);
				_vala_ccode_node_unref0 (vdeclarator);
			}
			_vala_ccode_node_unref0 (cselfparam);
			_vala_code_node_unref0 (this_type);
			_vala_code_node_unref0 (t);
			_vala_code_node_unref0 (prop);
		}
		_vala_collection_object_unref0 (_prop_it);
	}
	vala_ccode_declaration_space_add_type_definition (decl_space, (ValaCCodeNode*) type_struct);
	type_fun = vala_gtype_module_create_interface_register_function (self, iface);
	vala_typeregister_function_init_from_type (type_fun, ((ValaCCodeBaseModule*) self)->in_plugin);
	vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp70_ = vala_typeregister_function_get_declaration (type_fun)));
	_vala_ccode_node_unref0 (_tmp70_);
	_vala_typeregister_function_unref0 (type_fun);
	_g_free0 (macro);
	_vala_ccode_node_unref0 (type_struct);
}


static void vala_gtype_module_real_visit_interface (ValaCodeVisitor* base, ValaInterface* iface) {
	ValaGTypeModule * self;
	ValaCCodeBaseModuleEmitContext* _tmp0_;
	char* _tmp1_;
	gboolean _tmp2_;
	ValaTypeRegisterFunction* type_fun;
	ValaCCodeFragment* _tmp6_;
	ValaCCodeFragment* _tmp7_;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (iface != NULL);
	vala_ccode_base_module_push_context ((ValaCCodeBaseModule*) self, _tmp0_ = vala_ccode_base_module_emit_context_new ((ValaSymbol*) iface));
	_vala_ccode_base_module_emit_context_unref0 (_tmp0_);
	if ((_tmp2_ = string_get_length (_tmp1_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE)) < 3, _g_free0 (_tmp1_), _tmp2_)) {
		char* _tmp3_;
		char* _tmp4_;
		vala_code_node_set_error ((ValaCodeNode*) iface, TRUE);
		vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) iface), _tmp4_ = g_strdup_printf ("Interface name `%s' is too short", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE)));
		_g_free0 (_tmp4_);
		_g_free0 (_tmp3_);
		return;
	}
	vala_ccode_base_module_generate_interface_declaration ((ValaCCodeBaseModule*) self, iface, ((ValaCCodeBaseModule*) self)->source_declarations);
	if (!vala_symbol_is_internal_symbol ((ValaSymbol*) iface)) {
		vala_ccode_base_module_generate_interface_declaration ((ValaCCodeBaseModule*) self, iface, ((ValaCCodeBaseModule*) self)->header_declarations);
	}
	if (!vala_symbol_is_private_symbol ((ValaSymbol*) iface)) {
		vala_ccode_base_module_generate_interface_declaration ((ValaCCodeBaseModule*) self, iface, ((ValaCCodeBaseModule*) self)->internal_header_declarations);
	}
	vala_code_node_accept_children ((ValaCodeNode*) iface, (ValaCodeVisitor*) self);
	vala_gtype_module_add_interface_base_init_function (self, iface);
	if (vala_symbol_get_comment ((ValaSymbol*) iface) != NULL) {
		ValaCCodeComment* _tmp5_;
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp5_ = vala_ccode_comment_new (vala_comment_get_content (vala_symbol_get_comment ((ValaSymbol*) iface)))));
		_vala_ccode_node_unref0 (_tmp5_);
	}
	type_fun = vala_gtype_module_create_interface_register_function (self, iface);
	vala_typeregister_function_init_from_type (type_fun, ((ValaCCodeBaseModule*) self)->in_plugin);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp6_ = vala_typeregister_function_get_source_declaration (type_fun)));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp7_ = vala_typeregister_function_get_definition (type_fun)));
	_vala_ccode_node_unref0 (_tmp7_);
	vala_ccode_base_module_pop_context ((ValaCCodeBaseModule*) self);
	_vala_typeregister_function_unref0 (type_fun);
}


static ValaTypeRegisterFunction* vala_gtype_module_real_create_interface_register_function (ValaGTypeModule* self, ValaInterface* iface) {
	ValaTypeRegisterFunction* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (iface != NULL, NULL);
	result = (ValaTypeRegisterFunction*) vala_interface_register_function_new (iface, vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self));
	return result;
}


ValaTypeRegisterFunction* vala_gtype_module_create_interface_register_function (ValaGTypeModule* self, ValaInterface* iface) {
	return VALA_GTYPE_MODULE_GET_CLASS (self)->create_interface_register_function (self, iface);
}


static void vala_gtype_module_add_interface_base_init_function (ValaGTypeModule* self, ValaInterface* iface) {
	char* _tmp0_;
	char* _tmp1_;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeFunction* base_init;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFormalParameter* _tmp5_;
	ValaCCodeBlock* init_block;
	ValaCCodeBlock* _tmp6_;
	char* _tmp7_;
	ValaCCodeDeclaration* _tmp8_;
	ValaCCodeDeclaration* decl;
	ValaCCodeConstant* _tmp9_;
	ValaCCodeVariableDeclarator* _tmp10_;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeUnaryExpression* _tmp12_;
	ValaCCodeIfStatement* _tmp13_;
	ValaCCodeIfStatement* cif;
	ValaCCodeIdentifier* _tmp14_;
	ValaCCodeConstant* _tmp15_;
	ValaCCodeAssignment* _tmp16_;
	ValaCCodeExpressionStatement* _tmp17_;
	ValaCCodeFragment* _tmp35_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (iface != NULL);
	base_init = (_tmp2_ = vala_ccode_function_new (_tmp1_ = g_strdup_printf ("%s_base_init", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) iface, NULL)), "void"), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_add_parameter (base_init, _tmp5_ = vala_ccode_formal_parameter_new ("iface", _tmp4_ = g_strdup_printf ("%sIface *", _tmp3_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) iface, FALSE))));
	_vala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_function_set_modifiers (base_init, VALA_CCODE_MODIFIERS_STATIC);
	init_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (base_init, _tmp6_ = vala_ccode_block_new ());
	_vala_ccode_node_unref0 (_tmp6_);
	decl = (_tmp8_ = vala_ccode_declaration_new (_tmp7_ = vala_data_type_get_cname (((ValaCCodeBaseModule*) self)->bool_type)), _g_free0 (_tmp7_), _tmp8_);
	vala_ccode_declaration_set_modifiers (decl, vala_ccode_declaration_get_modifiers (decl) | VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_declaration_add_declarator (decl, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new ("initialized", (ValaCCodeExpression*) (_tmp9_ = vala_ccode_constant_new ("FALSE")), NULL)));
	_vala_ccode_node_unref0 (_tmp10_);
	_vala_ccode_node_unref0 (_tmp9_);
	vala_ccode_block_add_statement (vala_ccode_function_get_block (base_init), (ValaCCodeNode*) decl);
	cif = (_tmp13_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp12_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("initialized")))), (ValaCCodeStatement*) init_block, NULL), _vala_ccode_node_unref0 (_tmp12_), _vala_ccode_node_unref0 (_tmp11_), _tmp13_);
	vala_ccode_block_add_statement (vala_ccode_function_get_block (base_init), (ValaCCodeNode*) cif);
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp17_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("initialized")), (ValaCCodeExpression*) (_tmp15_ = vala_ccode_constant_new ("TRUE")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp17_);
	_vala_ccode_node_unref0 (_tmp16_);
	_vala_ccode_node_unref0 (_tmp15_);
	_vala_ccode_node_unref0 (_tmp14_);
	if (vala_typesymbol_is_subtype_of ((ValaTypeSymbol*) iface, ((ValaCCodeBaseModule*) self)->gobject_type)) {
		ValaList* props;
		props = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) iface);
		{
			ValaIterator* _prop_it;
			_prop_it = vala_iterable_iterator ((ValaIterable*) props);
			while (TRUE) {
				ValaProperty* prop;
				if (!vala_iterator_next (_prop_it)) {
					break;
				}
				prop = (ValaProperty*) vala_iterator_get (_prop_it);
				if (vala_property_get_is_abstract (prop)) {
					ValaCCodeIdentifier* _tmp19_;
					ValaCCodeFunctionCall* _tmp20_;
					ValaCCodeFunctionCall* cinst;
					ValaCCodeIdentifier* _tmp21_;
					ValaCCodeFunctionCall* _tmp22_;
					ValaCCodeExpressionStatement* _tmp23_;
					if (!vala_ccode_base_module_is_gobject_property ((ValaCCodeBaseModule*) self, prop)) {
						_vala_code_node_unref0 (prop);
						continue;
					}
					if (vala_symbol_get_comment ((ValaSymbol*) prop) != NULL) {
						ValaCCodeComment* _tmp18_;
						vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp18_ = vala_ccode_comment_new (vala_comment_get_content (vala_symbol_get_comment ((ValaSymbol*) prop)))));
						_vala_ccode_node_unref0 (_tmp18_);
					}
					cinst = (_tmp20_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("g_object_interface_install_property"))), _vala_ccode_node_unref0 (_tmp19_), _tmp20_);
					vala_ccode_function_call_add_argument (cinst, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_identifier_new ("iface")));
					_vala_ccode_node_unref0 (_tmp21_);
					vala_ccode_function_call_add_argument (cinst, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_base_module_get_param_spec ((ValaCCodeBaseModule*) self, prop)));
					_vala_ccode_node_unref0 (_tmp22_);
					vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp23_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) cinst)));
					_vala_ccode_node_unref0 (_tmp23_);
					_vala_ccode_node_unref0 (cinst);
				}
				_vala_code_node_unref0 (prop);
			}
			_vala_collection_object_unref0 (_prop_it);
		}
		_vala_collection_object_unref0 (props);
	}
	{
		ValaList* _tmp24_;
		ValaIterator* _tmp25_;
		ValaIterator* _sig_it;
		_sig_it = (_tmp25_ = vala_iterable_iterator ((ValaIterable*) (_tmp24_ = vala_object_type_symbol_get_signals ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp24_), _tmp25_);
		while (TRUE) {
			ValaSignal* sig;
			ValaCCodeFunctionCall* _tmp27_;
			ValaCCodeExpressionStatement* _tmp28_;
			if (!vala_iterator_next (_sig_it)) {
				break;
			}
			sig = (ValaSignal*) vala_iterator_get (_sig_it);
			if (vala_symbol_get_comment ((ValaSymbol*) sig) != NULL) {
				ValaCCodeComment* _tmp26_;
				vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp26_ = vala_ccode_comment_new (vala_comment_get_content (vala_symbol_get_comment ((ValaSymbol*) sig)))));
				_vala_ccode_node_unref0 (_tmp26_);
			}
			vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp28_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp27_ = vala_ccode_base_module_get_signal_creation ((ValaCCodeBaseModule*) self, sig, (ValaTypeSymbol*) iface)))));
			_vala_ccode_node_unref0 (_tmp28_);
			_vala_ccode_node_unref0 (_tmp27_);
			_vala_code_node_unref0 (sig);
		}
		_vala_collection_object_unref0 (_sig_it);
	}
	{
		ValaList* _tmp29_;
		ValaIterator* _tmp30_;
		ValaIterator* _m_it;
		_m_it = (_tmp30_ = vala_iterable_iterator ((ValaIterable*) (_tmp29_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) iface))), _vala_collection_object_unref0 (_tmp29_), _tmp30_);
		while (TRUE) {
			ValaMethod* m;
			if (!vala_iterator_next (_m_it)) {
				break;
			}
			m = (ValaMethod*) vala_iterator_get (_m_it);
			if (vala_method_get_is_virtual (m)) {
				ValaCCodeIdentifier* ciface;
				char* cname;
				ValaCCodeMemberAccess* _tmp31_;
				ValaCCodeIdentifier* _tmp32_;
				ValaCCodeAssignment* _tmp33_;
				ValaCCodeExpressionStatement* _tmp34_;
				ciface = vala_ccode_identifier_new ("iface");
				cname = vala_method_get_real_cname (m);
				vala_ccode_block_add_statement (vala_ccode_function_get_block (base_init), (ValaCCodeNode*) (_tmp34_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp33_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp31_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) ciface, vala_method_get_vfunc_name (m))), (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new (cname)), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp34_);
				_vala_ccode_node_unref0 (_tmp33_);
				_vala_ccode_node_unref0 (_tmp32_);
				_vala_ccode_node_unref0 (_tmp31_);
				_g_free0 (cname);
				_vala_ccode_node_unref0 (ciface);
			}
			_vala_code_node_unref0 (m);
		}
		_vala_collection_object_unref0 (_m_it);
	}
	vala_ccode_block_add_statement (init_block, (ValaCCodeNode*) (_tmp35_ = vala_ccode_base_module_register_dbus_info ((ValaCCodeBaseModule*) self, (ValaObjectTypeSymbol*) iface)));
	_vala_ccode_node_unref0 (_tmp35_);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) base_init);
	_vala_ccode_node_unref0 (cif);
	_vala_ccode_node_unref0 (decl);
	_vala_ccode_node_unref0 (init_block);
	_vala_ccode_node_unref0 (base_init);
}


static void vala_gtype_module_real_visit_struct (ValaCodeVisitor* base, ValaStruct* st) {
	ValaGTypeModule * self;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (st != NULL);
	VALA_CODE_VISITOR_CLASS (vala_gtype_module_parent_class)->visit_struct ((ValaCodeVisitor*) VALA_GERROR_MODULE (self), st);
	if (vala_struct_get_has_type_id (st)) {
		ValaStructRegisterFunction* type_fun;
		ValaCCodeFragment* _tmp0_;
		type_fun = vala_struct_register_function_new (st, vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self));
		vala_typeregister_function_init_from_type ((ValaTypeRegisterFunction*) type_fun, FALSE);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp0_ = vala_typeregister_function_get_definition ((ValaTypeRegisterFunction*) type_fun)));
		_vala_ccode_node_unref0 (_tmp0_);
		_vala_typeregister_function_unref0 (type_fun);
	}
}


static void vala_gtype_module_real_visit_enum (ValaCodeVisitor* base, ValaEnum* en) {
	ValaGTypeModule * self;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (en != NULL);
	VALA_CODE_VISITOR_CLASS (vala_gtype_module_parent_class)->visit_enum ((ValaCodeVisitor*) VALA_GERROR_MODULE (self), en);
	if (vala_enum_get_has_type_id (en)) {
		ValaEnumRegisterFunction* type_fun;
		ValaCCodeFragment* _tmp0_;
		type_fun = vala_enum_register_function_new (en, vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self));
		vala_typeregister_function_init_from_type ((ValaTypeRegisterFunction*) type_fun, FALSE);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp0_ = vala_typeregister_function_get_definition ((ValaTypeRegisterFunction*) type_fun)));
		_vala_ccode_node_unref0 (_tmp0_);
		_vala_typeregister_function_unref0 (type_fun);
	}
}


static void vala_gtype_module_real_visit_method_call (ValaCodeVisitor* base, ValaMethodCall* expr) {
	ValaGTypeModule * self;
	ValaExpression* _tmp0_;
	ValaMemberAccess* ma;
	ValaDataType* _tmp1_;
	ValaMethodType* mtype;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	ValaCCodeCommaExpression* ccomma;
	ValaCType* _tmp7_;
	ValaLocalVariable* _tmp8_;
	ValaLocalVariable* temp_var;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeFunctionCall* _tmp10_;
	ValaCCodeFunctionCall* class_ref;
	char* _tmp11_;
	ValaCCodeIdentifier* _tmp12_;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeFunctionCall* _tmp14_;
	ValaCCodeFunctionCall* get_value;
	ValaCCodeExpression* _tmp15_;
	ValaCCodeExpression* _tmp16_;
	ValaCCodeAssignment* _tmp17_;
	ValaCCodeExpression* _tmp18_;
	ValaCCodeIdentifier* _tmp19_;
	ValaCCodeBinaryExpression* _tmp20_;
	ValaCCodeBinaryExpression* is_null_value;
	ValaCCodeExpression* _tmp21_;
	ValaCCodeMemberAccess* _tmp22_;
	ValaCCodeIdentifier* _tmp23_;
	ValaCCodeConditionalExpression* _tmp24_;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (expr != NULL);
	ma = _vala_code_node_ref0 ((_tmp0_ = vala_method_call_get_call (expr), VALA_IS_MEMBER_ACCESS (_tmp0_) ? ((ValaMemberAccess*) _tmp0_) : NULL));
	mtype = _vala_code_node_ref0 ((_tmp1_ = vala_expression_get_value_type (vala_method_call_get_call (expr)), VALA_IS_METHOD_TYPE (_tmp1_) ? ((ValaMethodType*) _tmp1_) : NULL));
	if (mtype == NULL) {
		_tmp4_ = TRUE;
	} else {
		char* _tmp5_;
		_tmp4_ = _vala_strcmp0 (_tmp5_ = vala_symbol_get_full_name ((ValaSymbol*) vala_method_type_get_method_symbol (mtype)), "GLib.Enum.to_string") != 0;
		_g_free0 (_tmp5_);
	}
	if (_tmp4_) {
		_tmp3_ = TRUE;
	} else {
		_tmp3_ = ma == NULL;
	}
	if (_tmp3_) {
		_tmp2_ = TRUE;
	} else {
		char* _tmp6_;
		_tmp2_ = (_tmp6_ = vala_data_type_get_type_id (vala_expression_get_value_type (vala_member_access_get_inner (ma)))) == NULL;
		_g_free0 (_tmp6_);
	}
	if (_tmp2_) {
		VALA_CODE_VISITOR_CLASS (vala_gtype_module_parent_class)->visit_method_call ((ValaCodeVisitor*) VALA_GERROR_MODULE (self), expr);
		_vala_code_node_unref0 (mtype);
		_vala_code_node_unref0 (ma);
		return;
	}
	ccomma = vala_ccode_comma_expression_new ();
	temp_var = (_tmp8_ = vala_ccode_base_module_get_temp_variable ((ValaCCodeBaseModule*) self, (ValaDataType*) (_tmp7_ = vala_ctype_new ("GEnumValue*")), FALSE, (ValaCodeNode*) expr, FALSE), _vala_code_node_unref0 (_tmp7_), _tmp8_);
	vala_collection_add ((ValaCollection*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self), temp_var);
	class_ref = (_tmp10_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new ("g_type_class_ref"))), _vala_ccode_node_unref0 (_tmp9_), _tmp10_);
	vala_ccode_function_call_add_argument (class_ref, (ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new (_tmp11_ = vala_data_type_get_type_id (vala_expression_get_value_type (vala_member_access_get_inner (ma))))));
	_vala_ccode_node_unref0 (_tmp12_);
	_g_free0 (_tmp11_);
	get_value = (_tmp14_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("g_enum_get_value"))), _vala_ccode_node_unref0 (_tmp13_), _tmp14_);
	vala_ccode_function_call_add_argument (get_value, (ValaCCodeExpression*) class_ref);
	vala_ccode_function_call_add_argument (get_value, _tmp15_ = VALA_CCODE_EXPRESSION (vala_ccode_base_module_get_ccodenode ((ValaCCodeBaseModule*) self, (ValaCodeNode*) vala_member_access_get_inner (VALA_MEMBER_ACCESS (vala_method_call_get_call (expr))))));
	_vala_ccode_node_unref0 (_tmp15_);
	vala_ccode_comma_expression_append_expression (ccomma, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_assignment_new (_tmp16_ = vala_ccode_base_module_get_variable_cexpression ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) temp_var)), (ValaCCodeExpression*) get_value, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)));
	_vala_ccode_node_unref0 (_tmp17_);
	_vala_ccode_node_unref0 (_tmp16_);
	is_null_value = (_tmp20_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_INEQUALITY, _tmp18_ = vala_ccode_base_module_get_variable_cexpression ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) temp_var)), (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("NULL"))), _vala_ccode_node_unref0 (_tmp19_), _vala_ccode_node_unref0 (_tmp18_), _tmp20_);
	vala_ccode_comma_expression_append_expression (ccomma, (ValaCCodeExpression*) (_tmp24_ = vala_ccode_conditional_expression_new ((ValaCCodeExpression*) is_null_value, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_member_access_new_pointer (_tmp21_ = vala_ccode_base_module_get_variable_cexpression ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) temp_var)), "value_name")), (ValaCCodeExpression*) (_tmp23_ = vala_ccode_identifier_new ("NULL")))));
	_vala_ccode_node_unref0 (_tmp24_);
	_vala_ccode_node_unref0 (_tmp23_);
	_vala_ccode_node_unref0 (_tmp22_);
	_vala_ccode_node_unref0 (_tmp21_);
	vala_code_node_set_ccodenode ((ValaCodeNode*) expr, (ValaCCodeNode*) ccomma);
	_vala_ccode_node_unref0 (is_null_value);
	_vala_ccode_node_unref0 (get_value);
	_vala_ccode_node_unref0 (class_ref);
	_vala_code_node_unref0 (temp_var);
	_vala_ccode_node_unref0 (ccomma);
	_vala_code_node_unref0 (mtype);
	_vala_code_node_unref0 (ma);
}


static void vala_gtype_module_real_visit_property (ValaCodeVisitor* base, ValaProperty* prop) {
	ValaGTypeModule * self;
	ValaTypeSymbol* _tmp0_;
	ValaClass* cl;
	ValaTypeSymbol* _tmp1_;
	ValaStruct* st;
	gboolean _tmp2_ = FALSE;
	self = (ValaGTypeModule*) base;
	g_return_if_fail (prop != NULL);
	cl = _vala_code_node_ref0 ((_tmp0_ = vala_ccode_base_module_get_current_type_symbol ((ValaCCodeBaseModule*) self), VALA_IS_CLASS (_tmp0_) ? ((ValaClass*) _tmp0_) : NULL));
	st = _vala_code_node_ref0 ((_tmp1_ = vala_ccode_base_module_get_current_type_symbol ((ValaCCodeBaseModule*) self), VALA_IS_STRUCT (_tmp1_) ? ((ValaStruct*) _tmp1_) : NULL));
	if (_vala_strcmp0 (vala_symbol_get_name ((ValaSymbol*) prop), "type") == 0) {
		gboolean _tmp3_ = FALSE;
		gboolean _tmp4_ = FALSE;
		if (cl != NULL) {
			_tmp4_ = !vala_class_get_is_compact (cl);
		} else {
			_tmp4_ = FALSE;
		}
		if (_tmp4_) {
			_tmp3_ = TRUE;
		} else {
			gboolean _tmp5_ = FALSE;
			if (st != NULL) {
				_tmp5_ = vala_struct_get_has_type_id (st);
			} else {
				_tmp5_ = FALSE;
			}
			_tmp3_ = _tmp5_;
		}
		_tmp2_ = _tmp3_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) prop), "Property 'type' not allowed");
		_vala_code_node_unref0 (st);
		_vala_code_node_unref0 (cl);
		return;
	}
	VALA_CODE_VISITOR_CLASS (vala_gtype_module_parent_class)->visit_property ((ValaCodeVisitor*) VALA_GERROR_MODULE (self), prop);
	_vala_code_node_unref0 (st);
	_vala_code_node_unref0 (cl);
}


ValaGTypeModule* vala_gtype_module_construct (GType object_type) {
	ValaGTypeModule* self = NULL;
	self = (ValaGTypeModule*) vala_gerror_module_construct (object_type);
	return self;
}


ValaGTypeModule* vala_gtype_module_new (void) {
	return vala_gtype_module_construct (VALA_TYPE_GTYPE_MODULE);
}


static void vala_gtype_module_class_init (ValaGTypeModuleClass * klass) {
	vala_gtype_module_parent_class = g_type_class_peek_parent (klass);
	VALA_CCODE_METHOD_MODULE_CLASS (klass)->generate_parameter = vala_gtype_module_real_generate_parameter;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_class_declaration = vala_gtype_module_real_generate_class_declaration;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_class_struct_declaration = vala_gtype_module_real_generate_class_struct_declaration;
	VALA_GTYPE_MODULE_CLASS (klass)->generate_virtual_method_declaration = vala_gtype_module_real_generate_virtual_method_declaration;
	VALA_CODE_VISITOR_CLASS (klass)->visit_class = vala_gtype_module_real_visit_class;
	VALA_GTYPE_MODULE_CLASS (klass)->generate_class_init = vala_gtype_module_real_generate_class_init;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->get_param_spec = vala_gtype_module_real_get_param_spec;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_interface_declaration = vala_gtype_module_real_generate_interface_declaration;
	VALA_CODE_VISITOR_CLASS (klass)->visit_interface = vala_gtype_module_real_visit_interface;
	VALA_GTYPE_MODULE_CLASS (klass)->create_interface_register_function = vala_gtype_module_real_create_interface_register_function;
	VALA_CODE_VISITOR_CLASS (klass)->visit_struct = vala_gtype_module_real_visit_struct;
	VALA_CODE_VISITOR_CLASS (klass)->visit_enum = vala_gtype_module_real_visit_enum;
	VALA_CODE_VISITOR_CLASS (klass)->visit_method_call = vala_gtype_module_real_visit_method_call;
	VALA_CODE_VISITOR_CLASS (klass)->visit_property = vala_gtype_module_real_visit_property;
}


static void vala_gtype_module_instance_init (ValaGTypeModule * self) {
}


GType vala_gtype_module_get_type (void) {
	static volatile gsize vala_gtype_module_type_id__volatile = 0;
	if (g_once_init_enter (&vala_gtype_module_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ValaGTypeModuleClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_gtype_module_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaGTypeModule), 0, (GInstanceInitFunc) vala_gtype_module_instance_init, NULL };
		GType vala_gtype_module_type_id;
		vala_gtype_module_type_id = g_type_register_static (VALA_TYPE_GERROR_MODULE, "ValaGTypeModule", &g_define_type_info, 0);
		g_once_init_leave (&vala_gtype_module_type_id__volatile, vala_gtype_module_type_id);
	}
	return vala_gtype_module_type_id__volatile;
}


static int _vala_strcmp0 (const char * str1, const char * str2) {
	if (str1 == NULL) {
		return -(str1 != str2);
	}
	if (str2 == NULL) {
		return str1 != str2;
	}
	return strcmp (str1, str2);
}




