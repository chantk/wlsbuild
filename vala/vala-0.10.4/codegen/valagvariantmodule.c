/* valagvariantmodule.c generated by valac, the Vala compiler
 * generated from valagvariantmodule.vala, do not modify */

/* valagvariantmodule.vala
 *
 * Copyright (C) 2010  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include <glib.h>
#include <glib-object.h>
#include <vala.h>
#include <valagee.h>
#include <valaccode.h>
#include <stdlib.h>
#include <string.h>


#define VALA_TYPE_CCODE_BASE_MODULE (vala_ccode_base_module_get_type ())
#define VALA_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModule))
#define VALA_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))
#define VALA_IS_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_IS_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_CCODE_BASE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))

typedef struct _ValaCCodeBaseModule ValaCCodeBaseModule;
typedef struct _ValaCCodeBaseModuleClass ValaCCodeBaseModuleClass;
typedef struct _ValaCCodeBaseModulePrivate ValaCCodeBaseModulePrivate;

#define VALA_TYPE_CCODE_DECLARATION_SPACE (vala_ccode_declaration_space_get_type ())
#define VALA_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpace))
#define VALA_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))
#define VALA_IS_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_IS_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_CCODE_DECLARATION_SPACE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))

typedef struct _ValaCCodeDeclarationSpace ValaCCodeDeclarationSpace;
typedef struct _ValaCCodeDeclarationSpaceClass ValaCCodeDeclarationSpaceClass;

#define VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT (vala_ccode_base_module_emit_context_get_type ())
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContext))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))

typedef struct _ValaCCodeBaseModuleEmitContext ValaCCodeBaseModuleEmitContext;
typedef struct _ValaCCodeBaseModuleEmitContextClass ValaCCodeBaseModuleEmitContextClass;

#define VALA_TYPE_CCODE_STRUCT_MODULE (vala_ccode_struct_module_get_type ())
#define VALA_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModule))
#define VALA_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))
#define VALA_IS_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_IS_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_CCODE_STRUCT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))

typedef struct _ValaCCodeStructModule ValaCCodeStructModule;
typedef struct _ValaCCodeStructModuleClass ValaCCodeStructModuleClass;
typedef struct _ValaCCodeStructModulePrivate ValaCCodeStructModulePrivate;

#define VALA_TYPE_CCODE_METHOD_MODULE (vala_ccode_method_module_get_type ())
#define VALA_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModule))
#define VALA_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))
#define VALA_IS_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_IS_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_CCODE_METHOD_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))

typedef struct _ValaCCodeMethodModule ValaCCodeMethodModule;
typedef struct _ValaCCodeMethodModuleClass ValaCCodeMethodModuleClass;
typedef struct _ValaCCodeMethodModulePrivate ValaCCodeMethodModulePrivate;

#define VALA_TYPE_CCODE_CONTROL_FLOW_MODULE (vala_ccode_control_flow_module_get_type ())
#define VALA_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModule))
#define VALA_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_CCODE_CONTROL_FLOW_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))

typedef struct _ValaCCodeControlFlowModule ValaCCodeControlFlowModule;
typedef struct _ValaCCodeControlFlowModuleClass ValaCCodeControlFlowModuleClass;
typedef struct _ValaCCodeControlFlowModulePrivate ValaCCodeControlFlowModulePrivate;

#define VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE (vala_ccode_member_access_module_get_type ())
#define VALA_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModule))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))

typedef struct _ValaCCodeMemberAccessModule ValaCCodeMemberAccessModule;
typedef struct _ValaCCodeMemberAccessModuleClass ValaCCodeMemberAccessModuleClass;
typedef struct _ValaCCodeMemberAccessModulePrivate ValaCCodeMemberAccessModulePrivate;

#define VALA_TYPE_CCODE_ASSIGNMENT_MODULE (vala_ccode_assignment_module_get_type ())
#define VALA_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModule))
#define VALA_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_CCODE_ASSIGNMENT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))

typedef struct _ValaCCodeAssignmentModule ValaCCodeAssignmentModule;
typedef struct _ValaCCodeAssignmentModuleClass ValaCCodeAssignmentModuleClass;
typedef struct _ValaCCodeAssignmentModulePrivate ValaCCodeAssignmentModulePrivate;

#define VALA_TYPE_CCODE_METHOD_CALL_MODULE (vala_ccode_method_call_module_get_type ())
#define VALA_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModule))
#define VALA_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))
#define VALA_IS_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_IS_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_CCODE_METHOD_CALL_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))

typedef struct _ValaCCodeMethodCallModule ValaCCodeMethodCallModule;
typedef struct _ValaCCodeMethodCallModuleClass ValaCCodeMethodCallModuleClass;
typedef struct _ValaCCodeMethodCallModulePrivate ValaCCodeMethodCallModulePrivate;

#define VALA_TYPE_CCODE_ARRAY_MODULE (vala_ccode_array_module_get_type ())
#define VALA_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModule))
#define VALA_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))
#define VALA_IS_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_IS_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_CCODE_ARRAY_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))

typedef struct _ValaCCodeArrayModule ValaCCodeArrayModule;
typedef struct _ValaCCodeArrayModuleClass ValaCCodeArrayModuleClass;
typedef struct _ValaCCodeArrayModulePrivate ValaCCodeArrayModulePrivate;

#define VALA_TYPE_CCODE_DELEGATE_MODULE (vala_ccode_delegate_module_get_type ())
#define VALA_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModule))
#define VALA_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))
#define VALA_IS_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_IS_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_CCODE_DELEGATE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))

typedef struct _ValaCCodeDelegateModule ValaCCodeDelegateModule;
typedef struct _ValaCCodeDelegateModuleClass ValaCCodeDelegateModuleClass;
typedef struct _ValaCCodeDelegateModulePrivate ValaCCodeDelegateModulePrivate;

#define VALA_TYPE_GERROR_MODULE (vala_gerror_module_get_type ())
#define VALA_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModule))
#define VALA_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))
#define VALA_IS_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GERROR_MODULE))
#define VALA_IS_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GERROR_MODULE))
#define VALA_GERROR_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))

typedef struct _ValaGErrorModule ValaGErrorModule;
typedef struct _ValaGErrorModuleClass ValaGErrorModuleClass;
typedef struct _ValaGErrorModulePrivate ValaGErrorModulePrivate;

#define VALA_TYPE_GTYPE_MODULE (vala_gtype_module_get_type ())
#define VALA_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModule))
#define VALA_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))
#define VALA_IS_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GTYPE_MODULE))
#define VALA_IS_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GTYPE_MODULE))
#define VALA_GTYPE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))

typedef struct _ValaGTypeModule ValaGTypeModule;
typedef struct _ValaGTypeModuleClass ValaGTypeModuleClass;
typedef struct _ValaGTypeModulePrivate ValaGTypeModulePrivate;

#define VALA_TYPE_TYPEREGISTER_FUNCTION (vala_typeregister_function_get_type ())
#define VALA_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunction))
#define VALA_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))
#define VALA_IS_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_IS_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_TYPEREGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))

typedef struct _ValaTypeRegisterFunction ValaTypeRegisterFunction;
typedef struct _ValaTypeRegisterFunctionClass ValaTypeRegisterFunctionClass;

#define VALA_TYPE_GOBJECT_MODULE (vala_gobject_module_get_type ())
#define VALA_GOBJECT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModule))
#define VALA_GOBJECT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModuleClass))
#define VALA_IS_GOBJECT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GOBJECT_MODULE))
#define VALA_IS_GOBJECT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GOBJECT_MODULE))
#define VALA_GOBJECT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModuleClass))

typedef struct _ValaGObjectModule ValaGObjectModule;
typedef struct _ValaGObjectModuleClass ValaGObjectModuleClass;
typedef struct _ValaGObjectModulePrivate ValaGObjectModulePrivate;

#define VALA_TYPE_GSIGNAL_MODULE (vala_gsignal_module_get_type ())
#define VALA_GSIGNAL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModule))
#define VALA_GSIGNAL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModuleClass))
#define VALA_IS_GSIGNAL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GSIGNAL_MODULE))
#define VALA_IS_GSIGNAL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GSIGNAL_MODULE))
#define VALA_GSIGNAL_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModuleClass))

typedef struct _ValaGSignalModule ValaGSignalModule;
typedef struct _ValaGSignalModuleClass ValaGSignalModuleClass;
typedef struct _ValaGSignalModulePrivate ValaGSignalModulePrivate;

#define VALA_TYPE_GASYNC_MODULE (vala_gasync_module_get_type ())
#define VALA_GASYNC_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModule))
#define VALA_GASYNC_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModuleClass))
#define VALA_IS_GASYNC_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GASYNC_MODULE))
#define VALA_IS_GASYNC_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GASYNC_MODULE))
#define VALA_GASYNC_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModuleClass))

typedef struct _ValaGAsyncModule ValaGAsyncModule;
typedef struct _ValaGAsyncModuleClass ValaGAsyncModuleClass;
typedef struct _ValaGAsyncModulePrivate ValaGAsyncModulePrivate;

#define VALA_TYPE_GVARIANT_MODULE (vala_gvariant_module_get_type ())
#define VALA_GVARIANT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GVARIANT_MODULE, ValaGVariantModule))
#define VALA_GVARIANT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GVARIANT_MODULE, ValaGVariantModuleClass))
#define VALA_IS_GVARIANT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GVARIANT_MODULE))
#define VALA_IS_GVARIANT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GVARIANT_MODULE))
#define VALA_GVARIANT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GVARIANT_MODULE, ValaGVariantModuleClass))

typedef struct _ValaGVariantModule ValaGVariantModule;
typedef struct _ValaGVariantModuleClass ValaGVariantModuleClass;
typedef struct _ValaGVariantModulePrivate ValaGVariantModulePrivate;

#define VALA_GVARIANT_MODULE_TYPE_BASIC_TYPE_INFO (vala_gvariant_module_basic_type_info_get_type ())
typedef struct _ValaGVariantModuleBasicTypeInfo ValaGVariantModuleBasicTypeInfo;
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _vala_collection_object_unref0(var) ((var == NULL) ? NULL : (var = (vala_collection_object_unref (var), NULL)))
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))
#define _vala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_node_unref (var), NULL)))

struct _ValaCCodeBaseModule {
	ValaCodeGenerator parent_instance;
	ValaCCodeBaseModulePrivate * priv;
	ValaSymbol* root_symbol;
	ValaCCodeBaseModuleEmitContext* emit_context;
	ValaCCodeDeclarationSpace* header_declarations;
	ValaCCodeDeclarationSpace* internal_header_declarations;
	ValaCCodeDeclarationSpace* source_declarations;
	ValaCCodeFragment* source_signal_marshaller_declaration;
	ValaCCodeFragment* source_type_member_definition;
	ValaCCodeFragment* class_init_fragment;
	ValaCCodeFragment* base_init_fragment;
	ValaCCodeFragment* class_finalize_fragment;
	ValaCCodeFragment* base_finalize_fragment;
	ValaCCodeFragment* instance_init_fragment;
	ValaCCodeFragment* instance_finalize_fragment;
	ValaCCodeFragment* source_signal_marshaller_definition;
	ValaCCodeStruct* param_spec_struct;
	ValaCCodeStruct* closure_struct;
	ValaCCodeEnum* prop_enum;
	ValaCCodeFunction* function;
	ValaCCodeFragment* pre_statement_fragment;
	ValaSet* user_marshal_set;
	ValaSet* predefined_marshal_set;
	gint next_regex_id;
	gboolean in_constructor;
	gboolean in_static_or_class_context;
	gint next_coroutine_state;
	ValaDataType* void_type;
	ValaDataType* bool_type;
	ValaDataType* char_type;
	ValaDataType* uchar_type;
	ValaDataType* unichar_type;
	ValaDataType* short_type;
	ValaDataType* ushort_type;
	ValaDataType* int_type;
	ValaDataType* uint_type;
	ValaDataType* long_type;
	ValaDataType* ulong_type;
	ValaDataType* int8_type;
	ValaDataType* uint8_type;
	ValaDataType* int16_type;
	ValaDataType* uint16_type;
	ValaDataType* int32_type;
	ValaDataType* uint32_type;
	ValaDataType* int64_type;
	ValaDataType* uint64_type;
	ValaDataType* string_type;
	ValaDataType* regex_type;
	ValaDataType* float_type;
	ValaDataType* double_type;
	ValaTypeSymbol* gtype_type;
	ValaTypeSymbol* gobject_type;
	ValaErrorType* gerror_type;
	ValaClass* glist_type;
	ValaClass* gslist_type;
	ValaClass* gnode_type;
	ValaClass* gvaluearray_type;
	ValaTypeSymbol* gstringbuilder_type;
	ValaTypeSymbol* garray_type;
	ValaTypeSymbol* gbytearray_type;
	ValaTypeSymbol* gptrarray_type;
	ValaTypeSymbol* gthreadpool_type;
	ValaDataType* gquark_type;
	ValaStruct* gvalue_type;
	ValaClass* gvariant_type;
	ValaStruct* mutex_type;
	ValaTypeSymbol* type_module_type;
	ValaTypeSymbol* dbus_proxy_type;
	ValaTypeSymbol* dbus_object_type;
	gboolean in_plugin;
	char* module_init_param_name;
	gboolean gvaluecollector_h_needed;
	gboolean requires_array_free;
	gboolean requires_array_move;
	gboolean requires_array_length;
	gboolean requires_strcmp0;
	ValaSet* wrappers;
};

struct _ValaCCodeBaseModuleClass {
	ValaCodeGeneratorClass parent_class;
	void (*append_vala_array_free) (ValaCCodeBaseModule* self);
	void (*append_vala_array_move) (ValaCCodeBaseModule* self);
	void (*append_vala_array_length) (ValaCCodeBaseModule* self);
	gboolean (*generate_enum_declaration) (ValaCCodeBaseModule* self, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_class_struct_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_struct_declaration) (ValaCCodeBaseModule* self, ValaStruct* st, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_delegate_declaration) (ValaCCodeBaseModule* self, ValaDelegate* d, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_cparameters) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
	ValaCCodeExpression* (*get_dup_func_expression) (ValaCCodeBaseModule* self, ValaDataType* type, ValaSourceReference* source_reference, gboolean is_chainup);
	char* (*append_struct_array_free) (ValaCCodeBaseModule* self, ValaStruct* st);
	ValaCCodeExpression* (*get_unref_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* cvar, ValaDataType* type, ValaExpression* expr, gboolean is_macro_definition);
	void (*append_local_free) (ValaCCodeBaseModule* self, ValaSymbol* sym, ValaCCodeFragment* cfrag, gboolean stop_at_loop);
	char* (*get_delegate_target_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_delegate_target_cexpression) (ValaCCodeBaseModule* self, ValaExpression* delegate_expr, ValaCCodeExpression** delegate_target_destroy_notify);
	char* (*get_delegate_target_destroy_notify_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_ref_cexpression) (ValaCCodeBaseModule* self, ValaDataType* expression_type, ValaCCodeExpression* cexpr, ValaExpression* expr, ValaCodeNode* node);
	void (*generate_class_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_interface_declaration) (ValaCCodeBaseModule* self, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_method_declaration) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_error_domain_declaration) (ValaCCodeBaseModule* self, ValaErrorDomain* edomain, ValaCCodeDeclarationSpace* decl_space);
	ValaCCodeExpression* (*deserialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*serialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*get_implicit_cast_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* source_cexpr, ValaDataType* expression_type, ValaDataType* target_type, ValaExpression* expr);
	gboolean (*is_gobject_property) (ValaCCodeBaseModule* self, ValaProperty* prop);
	char* (*get_custom_creturn_type) (ValaCCodeBaseModule* self, ValaMethod* m);
	void (*generate_dynamic_method_wrapper) (ValaCCodeBaseModule* self, ValaDynamicMethod* method);
	gboolean (*method_has_wrapper) (ValaCCodeBaseModule* self, ValaMethod* method);
	ValaCCodeExpression* (*get_construct_property_assignment) (ValaCCodeBaseModule* self, ValaCCodeConstant* canonical_cconstant, ValaDataType* property_type, ValaCCodeExpression* value);
	ValaCCodeFunctionCall* (*get_param_spec) (ValaCCodeBaseModule* self, ValaProperty* prop);
	ValaCCodeFunctionCall* (*get_signal_creation) (ValaCCodeBaseModule* self, ValaSignal* sig, ValaTypeSymbol* type);
	ValaCCodeFragment* (*register_dbus_info) (ValaCCodeBaseModule* self, ValaObjectTypeSymbol* bindable);
	char* (*get_dynamic_property_getter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_property_setter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_signal_cname) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_after_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_disconnect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	void (*generate_marshaller) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, gboolean dbus);
	char* (*get_marshaller_function) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, const char* prefix, gboolean dbus);
	char* (*get_array_length_cname) (ValaCCodeBaseModule* self, const char* array_cname, gint dim);
	char* (*get_parameter_array_length_cname) (ValaCCodeBaseModule* self, ValaFormalParameter* param, gint dim);
	ValaCCodeExpression* (*get_array_length_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr, gint dim);
	char* (*get_array_size_cname) (ValaCCodeBaseModule* self, const char* array_cname);
	ValaCCodeExpression* (*get_array_size_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr);
	void (*add_simple_check) (ValaCCodeBaseModule* self, ValaCodeNode* node, ValaCCodeFragment* cfrag, gboolean always_fails);
};

struct _ValaCCodeStructModule {
	ValaCCodeBaseModule parent_instance;
	ValaCCodeStructModulePrivate * priv;
};

struct _ValaCCodeStructModuleClass {
	ValaCCodeBaseModuleClass parent_class;
};

struct _ValaCCodeMethodModule {
	ValaCCodeStructModule parent_instance;
	ValaCCodeMethodModulePrivate * priv;
};

struct _ValaCCodeMethodModuleClass {
	ValaCCodeStructModuleClass parent_class;
	void (*generate_method_result_declaration) (ValaCCodeMethodModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeFunction* cfunc, ValaMap* cparam_map, ValaMap* carg_map);
	void (*generate_parameter) (ValaCCodeMethodModule* self, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map);
};

struct _ValaCCodeControlFlowModule {
	ValaCCodeMethodModule parent_instance;
	ValaCCodeControlFlowModulePrivate * priv;
};

struct _ValaCCodeControlFlowModuleClass {
	ValaCCodeMethodModuleClass parent_class;
};

struct _ValaCCodeMemberAccessModule {
	ValaCCodeControlFlowModule parent_instance;
	ValaCCodeMemberAccessModulePrivate * priv;
};

struct _ValaCCodeMemberAccessModuleClass {
	ValaCCodeControlFlowModuleClass parent_class;
};

struct _ValaCCodeAssignmentModule {
	ValaCCodeMemberAccessModule parent_instance;
	ValaCCodeAssignmentModulePrivate * priv;
};

struct _ValaCCodeAssignmentModuleClass {
	ValaCCodeMemberAccessModuleClass parent_class;
};

struct _ValaCCodeMethodCallModule {
	ValaCCodeAssignmentModule parent_instance;
	ValaCCodeMethodCallModulePrivate * priv;
};

struct _ValaCCodeMethodCallModuleClass {
	ValaCCodeAssignmentModuleClass parent_class;
};

struct _ValaCCodeArrayModule {
	ValaCCodeMethodCallModule parent_instance;
	ValaCCodeArrayModulePrivate * priv;
};

struct _ValaCCodeArrayModuleClass {
	ValaCCodeMethodCallModuleClass parent_class;
};

struct _ValaCCodeDelegateModule {
	ValaCCodeArrayModule parent_instance;
	ValaCCodeDelegateModulePrivate * priv;
};

struct _ValaCCodeDelegateModuleClass {
	ValaCCodeArrayModuleClass parent_class;
};

struct _ValaGErrorModule {
	ValaCCodeDelegateModule parent_instance;
	ValaGErrorModulePrivate * priv;
};

struct _ValaGErrorModuleClass {
	ValaCCodeDelegateModuleClass parent_class;
	ValaCCodeStatement* (*return_with_exception) (ValaGErrorModule* self, ValaCCodeExpression* error_expr);
};

struct _ValaGTypeModule {
	ValaGErrorModule parent_instance;
	ValaGTypeModulePrivate * priv;
};

struct _ValaGTypeModuleClass {
	ValaGErrorModuleClass parent_class;
	void (*generate_virtual_method_declaration) (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
	void (*generate_class_init) (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block);
	ValaTypeRegisterFunction* (*create_interface_register_function) (ValaGTypeModule* self, ValaInterface* iface);
};

struct _ValaGObjectModule {
	ValaGTypeModule parent_instance;
	ValaGObjectModulePrivate * priv;
};

struct _ValaGObjectModuleClass {
	ValaGTypeModuleClass parent_class;
};

struct _ValaGSignalModule {
	ValaGObjectModule parent_instance;
	ValaGSignalModulePrivate * priv;
};

struct _ValaGSignalModuleClass {
	ValaGObjectModuleClass parent_class;
	ValaCCodeExpression* (*get_dbus_g_type) (ValaGSignalModule* self, ValaDataType* data_type);
};

struct _ValaGAsyncModule {
	ValaGSignalModule parent_instance;
	ValaGAsyncModulePrivate * priv;
};

struct _ValaGAsyncModuleClass {
	ValaGSignalModuleClass parent_class;
};

struct _ValaGVariantModule {
	ValaGAsyncModule parent_instance;
	ValaGVariantModulePrivate * priv;
};

struct _ValaGVariantModuleClass {
	ValaGAsyncModuleClass parent_class;
};

struct _ValaGVariantModuleBasicTypeInfo {
	const char* signature;
	const char* type_name;
	gboolean is_string;
};


static gpointer vala_gvariant_module_parent_class = NULL;

GType vala_ccode_base_module_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_declaration_space_ref (gpointer instance);
void vala_ccode_declaration_space_unref (gpointer instance);
GParamSpec* vala_param_spec_ccode_declaration_space (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_ccode_declaration_space (GValue* value, gpointer v_object);
void vala_value_take_ccode_declaration_space (GValue* value, gpointer v_object);
gpointer vala_value_get_ccode_declaration_space (const GValue* value);
GType vala_ccode_declaration_space_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_base_module_emit_context_ref (gpointer instance);
void vala_ccode_base_module_emit_context_unref (gpointer instance);
GParamSpec* vala_ccode_base_module_param_spec_emit_context (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_ccode_base_module_value_set_emit_context (GValue* value, gpointer v_object);
void vala_ccode_base_module_value_take_emit_context (GValue* value, gpointer v_object);
gpointer vala_ccode_base_module_value_get_emit_context (const GValue* value);
GType vala_ccode_base_module_emit_context_get_type (void) G_GNUC_CONST;
GType vala_ccode_struct_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_control_flow_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_member_access_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_assignment_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_call_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_array_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_delegate_module_get_type (void) G_GNUC_CONST;
GType vala_gerror_module_get_type (void) G_GNUC_CONST;
GType vala_gtype_module_get_type (void) G_GNUC_CONST;
gpointer vala_typeregister_function_ref (gpointer instance);
void vala_typeregister_function_unref (gpointer instance);
GParamSpec* vala_param_spec_typeregister_function (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_typeregister_function (GValue* value, gpointer v_object);
void vala_value_take_typeregister_function (GValue* value, gpointer v_object);
gpointer vala_value_get_typeregister_function (const GValue* value);
GType vala_typeregister_function_get_type (void) G_GNUC_CONST;
GType vala_gobject_module_get_type (void) G_GNUC_CONST;
GType vala_gsignal_module_get_type (void) G_GNUC_CONST;
GType vala_gasync_module_get_type (void) G_GNUC_CONST;
GType vala_gvariant_module_get_type (void) G_GNUC_CONST;
enum  {
	VALA_GVARIANT_MODULE_DUMMY_PROPERTY
};
static GType vala_gvariant_module_basic_type_info_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static ValaGVariantModuleBasicTypeInfo* vala_gvariant_module_basic_type_info_dup (const ValaGVariantModuleBasicTypeInfo* self);
static void vala_gvariant_module_basic_type_info_free (ValaGVariantModuleBasicTypeInfo* self);
static gboolean vala_gvariant_module_is_string_marshalled_enum (ValaTypeSymbol* symbol);
static char* vala_gvariant_module_get_dbus_value (ValaGVariantModule* self, ValaEnumValue* value, const char* default_value);
char* vala_gvariant_module_get_dbus_signature (ValaSymbol* symbol);
static gboolean vala_gvariant_module_get_basic_type_info (ValaGVariantModule* self, const char* signature, ValaGVariantModuleBasicTypeInfo* basic_type);
char* vala_gvariant_module_get_type_signature (ValaDataType* datatype, ValaSymbol* symbol);
static void vala_gvariant_module_real_visit_enum (ValaCodeVisitor* base, ValaEnum* en);
void vala_ccode_declaration_space_add_include (ValaCCodeDeclarationSpace* self, const char* filename, gboolean local);
ValaCCodeFunction* vala_gvariant_module_generate_enum_from_string_function (ValaGVariantModule* self, ValaEnum* en);
ValaCCodeFunction* vala_gvariant_module_generate_enum_to_string_function (ValaGVariantModule* self, ValaEnum* en);
static gboolean vala_gvariant_module_real_generate_enum_declaration (ValaCCodeBaseModule* base, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space);
gboolean vala_ccode_base_module_generate_enum_declaration (ValaCCodeBaseModule* self, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space);
void vala_ccode_declaration_space_add_type_member_declaration (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
ValaCCodeFunction* vala_gvariant_module_generate_enum_from_string_function_declaration (ValaGVariantModule* self, ValaEnum* en);
ValaCCodeFunction* vala_gvariant_module_generate_enum_to_string_function_declaration (ValaGVariantModule* self, ValaEnum* en);
static ValaCCodeExpression* vala_gvariant_module_get_array_length (ValaGVariantModule* self, ValaCCodeExpression* expr, gint dim);
static ValaCCodeExpression* vala_gvariant_module_generate_enum_value_from_string (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaEnumValueType* type, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_deserialize_basic (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaGVariantModuleBasicTypeInfo* basic_type, ValaCCodeExpression* variant_expr, gboolean transfer);
static ValaCCodeExpression* vala_gvariant_module_deserialize_array (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
gint vala_ccode_base_module_get_next_temp_var_id (ValaCCodeBaseModule* self);
void vala_ccode_base_module_set_next_temp_var_id (ValaCCodeBaseModule* self, gint value);
static void vala_gvariant_module_deserialize_array_dim (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, gint dim, const char* temp_name, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
ValaCCodeExpression* vala_ccode_base_module_deserialize_expression (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_deserialize_struct (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaStruct* st, ValaCCodeExpression* variant_expr);
void vala_gvariant_module_read_expression (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* iter_expr, ValaCCodeExpression* target_expr, ValaSymbol* sym);
static ValaCCodeExpression* vala_gvariant_module_deserialize_hash_table (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaObjectType* type, ValaCCodeExpression* variant_expr);
ValaCCodeExpression* vala_ccode_base_module_convert_to_generic_pointer (ValaCCodeBaseModule* self, ValaCCodeExpression* cexpr, ValaDataType* actual_type);
static ValaCCodeExpression* vala_gvariant_module_real_deserialize_expression (ValaCCodeBaseModule* base, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_generate_enum_value_to_string (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaEnumValueType* type, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_serialize_basic (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaGVariantModuleBasicTypeInfo* basic_type, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_serialize_array (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, ValaCCodeExpression* array_expr);
static ValaCCodeExpression* vala_gvariant_module_serialize_array_dim (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, gint dim, ValaCCodeExpression* array_expr, ValaCCodeExpression* array_iter_expr);
ValaCCodeExpression* vala_ccode_base_module_serialize_expression (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr);
static ValaCCodeExpression* vala_gvariant_module_serialize_struct (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaStruct* st, ValaCCodeExpression* struct_expr);
void vala_gvariant_module_write_expression (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* builder_expr, ValaCCodeExpression* expr, ValaSymbol* sym);
static ValaCCodeExpression* vala_gvariant_module_serialize_hash_table (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaObjectType* type, ValaCCodeExpression* hash_table_expr);
ValaCCodeExpression* vala_ccode_base_module_convert_from_generic_pointer (ValaCCodeBaseModule* self, ValaCCodeExpression* cexpr, ValaDataType* actual_type);
static ValaCCodeExpression* vala_gvariant_module_real_serialize_expression (ValaCCodeBaseModule* base, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr);
ValaGVariantModule* vala_gvariant_module_new (void);
ValaGVariantModule* vala_gvariant_module_construct (GType object_type);
ValaGAsyncModule* vala_gasync_module_new (void);
ValaGAsyncModule* vala_gasync_module_construct (GType object_type);
static int _vala_strcmp0 (const char * str1, const char * str2);

static const ValaGVariantModuleBasicTypeInfo VALA_GVARIANT_MODULE_basic_types[12] = {{"y", "byte", FALSE}, {"b", "boolean", FALSE}, {"n", "int16", FALSE}, {"q", "uint16", FALSE}, {"i", "int32", FALSE}, {"u", "uint32", FALSE}, {"x", "int64", FALSE}, {"t", "uint64", FALSE}, {"d", "double", FALSE}, {"s", "string", TRUE}, {"o", "object_path", TRUE}, {"g", "signature", TRUE}};


static gboolean vala_gvariant_module_is_string_marshalled_enum (ValaTypeSymbol* symbol) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	if (symbol != NULL) {
		_tmp0_ = VALA_IS_ENUM (symbol);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		ValaAttribute* dbus;
		gboolean _tmp1_ = FALSE;
		dbus = vala_code_node_get_attribute ((ValaCodeNode*) symbol, "DBus");
		if (dbus != NULL) {
			_tmp1_ = vala_attribute_get_bool (dbus, "use_string_marshalling");
		} else {
			_tmp1_ = FALSE;
		}
		result = _tmp1_;
		_vala_code_node_unref0 (dbus);
		return result;
	}
	result = FALSE;
	return result;
}


static char* vala_gvariant_module_get_dbus_value (ValaGVariantModule* self, ValaEnumValue* value, const char* default_value) {
	char* result = NULL;
	ValaAttribute* dbus;
	char* dbus_value;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (value != NULL, NULL);
	g_return_val_if_fail (default_value != NULL, NULL);
	dbus = vala_code_node_get_attribute ((ValaCodeNode*) value, "DBus");
	if (dbus == NULL) {
		result = g_strdup (default_value);
		_vala_code_node_unref0 (dbus);
		return result;
	}
	dbus_value = vala_attribute_get_string (dbus, "value");
	if (dbus_value == NULL) {
		result = g_strdup (default_value);
		_g_free0 (dbus_value);
		_vala_code_node_unref0 (dbus);
		return result;
	}
	result = dbus_value;
	_vala_code_node_unref0 (dbus);
	return result;
}


char* vala_gvariant_module_get_dbus_signature (ValaSymbol* symbol) {
	char* result = NULL;
	ValaAttribute* dbus;
	g_return_val_if_fail (symbol != NULL, NULL);
	dbus = vala_code_node_get_attribute ((ValaCodeNode*) symbol, "DBus");
	if (dbus == NULL) {
		result = NULL;
		_vala_code_node_unref0 (dbus);
		return result;
	}
	result = vala_attribute_get_string (dbus, "signature");
	_vala_code_node_unref0 (dbus);
	return result;
}


static gboolean vala_gvariant_module_get_basic_type_info (ValaGVariantModule* self, const char* signature, ValaGVariantModuleBasicTypeInfo* basic_type) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (signature != NULL, FALSE);
	{
		ValaGVariantModuleBasicTypeInfo* info_collection;
		int info_collection_length1;
		int info_it;
		info_collection = VALA_GVARIANT_MODULE_basic_types;
		info_collection_length1 = G_N_ELEMENTS (VALA_GVARIANT_MODULE_basic_types);
		for (info_it = 0; info_it < G_N_ELEMENTS (VALA_GVARIANT_MODULE_basic_types); info_it = info_it + 1) {
			ValaGVariantModuleBasicTypeInfo info;
			info = info_collection[info_it];
			{
				if (_vala_strcmp0 (info.signature, signature) == 0) {
					*basic_type = info;
					result = TRUE;
					return result;
				}
			}
		}
	}
	result = FALSE;
	return result;
}


static gpointer _vala_code_node_ref0 (gpointer self) {
	return self ? vala_code_node_ref (self) : NULL;
}


char* vala_gvariant_module_get_type_signature (ValaDataType* datatype, ValaSymbol* symbol) {
	char* result = NULL;
	ValaDataType* _tmp0_;
	ValaArrayType* array_type;
	g_return_val_if_fail (datatype != NULL, NULL);
	if (symbol != NULL) {
		char* sig;
		sig = vala_gvariant_module_get_dbus_signature (symbol);
		if (sig != NULL) {
			result = sig;
			return result;
		}
		_g_free0 (sig);
	}
	array_type = _vala_code_node_ref0 ((_tmp0_ = datatype, VALA_IS_ARRAY_TYPE (_tmp0_) ? ((ValaArrayType*) _tmp0_) : NULL));
	if (array_type != NULL) {
		char* element_type_signature;
		char* _tmp1_;
		char* _tmp2_;
		element_type_signature = vala_gvariant_module_get_type_signature (vala_array_type_get_element_type (array_type), NULL);
		if (element_type_signature == NULL) {
			result = NULL;
			_g_free0 (element_type_signature);
			_vala_code_node_unref0 (array_type);
			return result;
		}
		result = (_tmp2_ = g_strconcat (_tmp1_ = g_strnfill ((gsize) vala_array_type_get_rank (array_type), 'a'), element_type_signature, NULL), _g_free0 (_tmp1_), _tmp2_);
		_g_free0 (element_type_signature);
		_vala_code_node_unref0 (array_type);
		return result;
		_g_free0 (element_type_signature);
	} else {
		if (vala_gvariant_module_is_string_marshalled_enum (vala_data_type_get_data_type (datatype))) {
			result = g_strdup ("s");
			_vala_code_node_unref0 (array_type);
			return result;
		} else {
			if (vala_data_type_get_data_type (datatype) != NULL) {
				char* sig;
				ValaAttribute* ccode;
				ValaTypeSymbol* _tmp4_;
				ValaStruct* st;
				ValaTypeSymbol* _tmp5_;
				ValaEnum* en;
				gboolean _tmp6_ = FALSE;
				ValaList* type_args;
				gboolean _tmp12_ = FALSE;
				gboolean _tmp13_ = FALSE;
				sig = NULL;
				ccode = vala_code_node_get_attribute ((ValaCodeNode*) vala_data_type_get_data_type (datatype), "CCode");
				if (ccode != NULL) {
					char* _tmp3_;
					sig = (_tmp3_ = vala_attribute_get_string (ccode, "type_signature"), _g_free0 (sig), _tmp3_);
				}
				st = _vala_code_node_ref0 ((_tmp4_ = vala_data_type_get_data_type (datatype), VALA_IS_STRUCT (_tmp4_) ? ((ValaStruct*) _tmp4_) : NULL));
				en = _vala_code_node_ref0 ((_tmp5_ = vala_data_type_get_data_type (datatype), VALA_IS_ENUM (_tmp5_) ? ((ValaEnum*) _tmp5_) : NULL));
				if (sig == NULL) {
					_tmp6_ = st != NULL;
				} else {
					_tmp6_ = FALSE;
				}
				if (_tmp6_) {
					GString* str;
					char* _tmp10_;
					str = g_string_new ("");
					g_string_append_c (str, '(');
					{
						ValaList* _tmp7_;
						ValaIterator* _tmp8_;
						ValaIterator* _f_it;
						_f_it = (_tmp8_ = vala_iterable_iterator ((ValaIterable*) (_tmp7_ = vala_struct_get_fields (st))), _vala_collection_object_unref0 (_tmp7_), _tmp8_);
						while (TRUE) {
							ValaField* f;
							if (!vala_iterator_next (_f_it)) {
								break;
							}
							f = (ValaField*) vala_iterator_get (_f_it);
							if (vala_field_get_binding (f) == MEMBER_BINDING_INSTANCE) {
								char* _tmp9_;
								g_string_append (str, _tmp9_ = vala_gvariant_module_get_type_signature (vala_variable_get_variable_type ((ValaVariable*) f), NULL));
								_g_free0 (_tmp9_);
							}
							_vala_code_node_unref0 (f);
						}
						_vala_collection_object_unref0 (_f_it);
					}
					g_string_append_c (str, ')');
					sig = (_tmp10_ = g_strdup (str->str), _g_free0 (sig), _tmp10_);
					_g_string_free0 (str);
				} else {
					gboolean _tmp11_ = FALSE;
					if (sig == NULL) {
						_tmp11_ = en != NULL;
					} else {
						_tmp11_ = FALSE;
					}
					if (_tmp11_) {
						if (vala_enum_get_is_flags (en)) {
							result = g_strdup ("u");
							_vala_code_node_unref0 (en);
							_vala_code_node_unref0 (st);
							_vala_code_node_unref0 (ccode);
							_g_free0 (sig);
							_vala_code_node_unref0 (array_type);
							return result;
						} else {
							result = g_strdup ("i");
							_vala_code_node_unref0 (en);
							_vala_code_node_unref0 (st);
							_vala_code_node_unref0 (ccode);
							_g_free0 (sig);
							_vala_code_node_unref0 (array_type);
							return result;
						}
					}
				}
				type_args = vala_data_type_get_type_arguments (datatype);
				if (sig != NULL) {
					_tmp13_ = strstr (sig, "%s") != NULL;
				} else {
					_tmp13_ = FALSE;
				}
				if (_tmp13_) {
					_tmp12_ = vala_collection_get_size ((ValaCollection*) type_args) > 0;
				} else {
					_tmp12_ = FALSE;
				}
				if (_tmp12_) {
					char* element_sig;
					char* _tmp15_;
					element_sig = g_strdup ("");
					{
						ValaIterator* _type_arg_it;
						_type_arg_it = vala_iterable_iterator ((ValaIterable*) type_args);
						while (TRUE) {
							ValaDataType* type_arg;
							char* s;
							if (!vala_iterator_next (_type_arg_it)) {
								break;
							}
							type_arg = (ValaDataType*) vala_iterator_get (_type_arg_it);
							s = vala_gvariant_module_get_type_signature (type_arg, NULL);
							if (s != NULL) {
								char* _tmp14_;
								element_sig = (_tmp14_ = g_strconcat (element_sig, s, NULL), _g_free0 (element_sig), _tmp14_);
							}
							_g_free0 (s);
							_vala_code_node_unref0 (type_arg);
						}
						_vala_collection_object_unref0 (_type_arg_it);
					}
					sig = (_tmp15_ = g_strdup_printf (sig, element_sig), _g_free0 (sig), _tmp15_);
					_g_free0 (element_sig);
				}
				result = sig;
				_vala_collection_object_unref0 (type_args);
				_vala_code_node_unref0 (en);
				_vala_code_node_unref0 (st);
				_vala_code_node_unref0 (ccode);
				_vala_code_node_unref0 (array_type);
				return result;
			} else {
				result = NULL;
				_vala_code_node_unref0 (array_type);
				return result;
			}
		}
	}
	_vala_code_node_unref0 (array_type);
}


static void vala_gvariant_module_real_visit_enum (ValaCodeVisitor* base, ValaEnum* en) {
	ValaGVariantModule * self;
	self = (ValaGVariantModule*) base;
	g_return_if_fail (en != NULL);
	VALA_CODE_VISITOR_CLASS (vala_gvariant_module_parent_class)->visit_enum ((ValaCodeVisitor*) VALA_GASYNC_MODULE (self), en);
	if (vala_gvariant_module_is_string_marshalled_enum ((ValaTypeSymbol*) en)) {
		ValaCCodeFunction* _tmp0_;
		ValaCCodeFunction* _tmp1_;
		vala_ccode_declaration_space_add_include (((ValaCCodeBaseModule*) self)->source_declarations, "string.h", FALSE);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp0_ = vala_gvariant_module_generate_enum_from_string_function (self, en)));
		_vala_ccode_node_unref0 (_tmp0_);
		vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp1_ = vala_gvariant_module_generate_enum_to_string_function (self, en)));
		_vala_ccode_node_unref0 (_tmp1_);
	}
}


static gboolean vala_gvariant_module_real_generate_enum_declaration (ValaCCodeBaseModule* base, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space) {
	ValaGVariantModule * self;
	gboolean result = FALSE;
	self = (ValaGVariantModule*) base;
	g_return_val_if_fail (en != NULL, FALSE);
	g_return_val_if_fail (decl_space != NULL, FALSE);
	if (VALA_CCODE_BASE_MODULE_CLASS (vala_gvariant_module_parent_class)->generate_enum_declaration ((ValaCCodeBaseModule*) VALA_GASYNC_MODULE (self), en, decl_space)) {
		if (vala_gvariant_module_is_string_marshalled_enum ((ValaTypeSymbol*) en)) {
			ValaCCodeFunction* _tmp0_;
			ValaCCodeFunction* _tmp1_;
			vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp0_ = vala_gvariant_module_generate_enum_from_string_function_declaration (self, en)));
			_vala_ccode_node_unref0 (_tmp0_);
			vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) (_tmp1_ = vala_gvariant_module_generate_enum_to_string_function_declaration (self, en)));
			_vala_ccode_node_unref0 (_tmp1_);
		}
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}


static gpointer _vala_ccode_node_ref0 (gpointer self) {
	return self ? vala_ccode_node_ref (self) : NULL;
}


static ValaCCodeExpression* vala_gvariant_module_get_array_length (ValaGVariantModule* self, ValaCCodeExpression* expr, gint dim) {
	ValaCCodeExpression* result = NULL;
	ValaCCodeExpression* _tmp0_;
	ValaCCodeIdentifier* id;
	ValaCCodeExpression* _tmp1_;
	ValaCCodeMemberAccess* ma;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	id = _vala_ccode_node_ref0 ((_tmp0_ = expr, VALA_IS_CCODE_IDENTIFIER (_tmp0_) ? ((ValaCCodeIdentifier*) _tmp0_) : NULL));
	ma = _vala_ccode_node_ref0 ((_tmp1_ = expr, VALA_IS_CCODE_MEMBER_ACCESS (_tmp1_) ? ((ValaCCodeMemberAccess*) _tmp1_) : NULL));
	if (id != NULL) {
		char* _tmp2_;
		ValaCCodeExpression* _tmp3_;
		result = (_tmp3_ = (ValaCCodeExpression*) vala_ccode_identifier_new (_tmp2_ = g_strdup_printf ("%s_length%d", vala_ccode_identifier_get_name (id), dim)), _g_free0 (_tmp2_), _tmp3_);
		_vala_ccode_node_unref0 (ma);
		_vala_ccode_node_unref0 (id);
		return result;
	} else {
		if (ma != NULL) {
			if (vala_ccode_member_access_get_is_pointer (ma)) {
				char* _tmp4_;
				ValaCCodeExpression* _tmp5_;
				result = (_tmp5_ = (ValaCCodeExpression*) vala_ccode_member_access_new_pointer (vala_ccode_member_access_get_inner (ma), _tmp4_ = g_strdup_printf ("%s_length%d", vala_ccode_member_access_get_member_name (ma), dim)), _g_free0 (_tmp4_), _tmp5_);
				_vala_ccode_node_unref0 (ma);
				_vala_ccode_node_unref0 (id);
				return result;
			} else {
				char* _tmp6_;
				ValaCCodeExpression* _tmp7_;
				result = (_tmp7_ = (ValaCCodeExpression*) vala_ccode_member_access_new (vala_ccode_member_access_get_inner (ma), _tmp6_ = g_strdup_printf ("%s_length%d", vala_ccode_member_access_get_member_name (ma), dim), FALSE), _g_free0 (_tmp6_), _tmp7_);
				_vala_ccode_node_unref0 (ma);
				_vala_ccode_node_unref0 (id);
				return result;
			}
		} else {
			ValaCCodeIdentifier* _tmp8_;
			ValaCCodeFunctionCall* _tmp9_;
			ValaCCodeFunctionCall* len_call;
			len_call = (_tmp9_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_identifier_new ("g_strv_length"))), _vala_ccode_node_unref0 (_tmp8_), _tmp9_);
			vala_ccode_function_call_add_argument (len_call, expr);
			result = (ValaCCodeExpression*) len_call;
			_vala_ccode_node_unref0 (ma);
			_vala_ccode_node_unref0 (id);
			return result;
		}
	}
	_vala_ccode_node_unref0 (ma);
	_vala_ccode_node_unref0 (id);
}


static ValaCCodeExpression* vala_gvariant_module_generate_enum_value_from_string (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaEnumValueType* type, ValaCCodeExpression* expr) {
	ValaCCodeExpression* result = NULL;
	ValaTypeSymbol* _tmp0_;
	ValaEnum* en;
	char* _tmp1_;
	char* _tmp2_;
	char* from_string_name;
	ValaCCodeIdentifier* _tmp3_;
	ValaCCodeFunctionCall* _tmp4_;
	ValaCCodeFunctionCall* from_string_call;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	en = _vala_code_node_ref0 ((_tmp0_ = vala_value_type_get_type_symbol ((ValaValueType*) type), VALA_IS_ENUM (_tmp0_) ? ((ValaEnum*) _tmp0_) : NULL));
	from_string_name = (_tmp2_ = g_strdup_printf ("%s_from_string", _tmp1_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp1_), _tmp2_);
	from_string_call = (_tmp4_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new (from_string_name))), _vala_ccode_node_unref0 (_tmp3_), _tmp4_);
	vala_ccode_function_call_add_argument (from_string_call, expr);
	result = (ValaCCodeExpression*) from_string_call;
	_g_free0 (from_string_name);
	_vala_code_node_unref0 (en);
	return result;
}


ValaCCodeFunction* vala_gvariant_module_generate_enum_from_string_function_declaration (ValaGVariantModule* self, ValaEnum* en) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* from_string_name;
	char* _tmp2_;
	ValaCCodeFunction* _tmp3_;
	ValaCCodeFunction* from_string_func;
	ValaCCodeFormalParameter* _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (en != NULL, NULL);
	from_string_name = (_tmp1_ = g_strdup_printf ("%s_from_string", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp0_), _tmp1_);
	from_string_func = (_tmp3_ = vala_ccode_function_new (from_string_name, _tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) en, FALSE)), _g_free0 (_tmp2_), _tmp3_);
	vala_ccode_function_add_parameter (from_string_func, _tmp4_ = vala_ccode_formal_parameter_new ("str", "const char*"));
	_vala_ccode_node_unref0 (_tmp4_);
	result = from_string_func;
	_g_free0 (from_string_name);
	return result;
}


ValaCCodeFunction* vala_gvariant_module_generate_enum_from_string_function (ValaGVariantModule* self, ValaEnum* en) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* from_string_name;
	char* _tmp2_;
	ValaCCodeFunction* _tmp3_;
	ValaCCodeFunction* from_string_func;
	ValaCCodeFormalParameter* _tmp4_;
	ValaCCodeBlock* from_string_block;
	char* _tmp5_;
	ValaCCodeDeclaration* _tmp6_;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp7_;
	ValaCCodeStatement* if_else_if;
	ValaCCodeIfStatement* last_statement;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeReturnStatement* _tmp26_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (en != NULL, NULL);
	from_string_name = (_tmp1_ = g_strdup_printf ("%s_from_string", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp0_), _tmp1_);
	from_string_func = (_tmp3_ = vala_ccode_function_new (from_string_name, _tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) en, FALSE)), _g_free0 (_tmp2_), _tmp3_);
	vala_ccode_function_add_parameter (from_string_func, _tmp4_ = vala_ccode_formal_parameter_new ("str", "const char*"));
	_vala_ccode_node_unref0 (_tmp4_);
	from_string_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (from_string_func, from_string_block);
	_cdecl_ = (_tmp6_ = vala_ccode_declaration_new (_tmp5_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) en, FALSE)), _g_free0 (_tmp5_), _tmp6_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp7_ = vala_ccode_variable_declarator_new ("value", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp7_);
	vala_ccode_block_add_statement (from_string_block, (ValaCCodeNode*) _cdecl_);
	if_else_if = NULL;
	last_statement = NULL;
	{
		ValaList* _tmp8_;
		ValaIterator* _tmp9_;
		ValaIterator* _enum_value_it;
		_enum_value_it = (_tmp9_ = vala_iterable_iterator ((ValaIterable*) (_tmp8_ = vala_enum_get_values (en))), _vala_collection_object_unref0 (_tmp8_), _tmp9_);
		while (TRUE) {
			ValaEnumValue* enum_value;
			ValaCCodeBlock* true_block;
			ValaCCodeIdentifier* _tmp10_;
			char* _tmp11_;
			ValaCCodeIdentifier* _tmp12_;
			ValaCCodeAssignment* _tmp13_;
			ValaCCodeExpressionStatement* _tmp14_;
			char* dbus_value;
			ValaCCodeIdentifier* _tmp15_;
			ValaCCodeFunctionCall* _tmp16_;
			ValaCCodeFunctionCall* string_comparison;
			ValaCCodeIdentifier* _tmp17_;
			char* _tmp18_;
			ValaCCodeConstant* _tmp19_;
			ValaCCodeConstant* _tmp20_;
			ValaCCodeBinaryExpression* _tmp21_;
			ValaCCodeIfStatement* _tmp22_;
			ValaCCodeIfStatement* stmt;
			ValaCCodeIfStatement* _tmp24_;
			if (!vala_iterator_next (_enum_value_it)) {
				break;
			}
			enum_value = (ValaEnumValue*) vala_iterator_get (_enum_value_it);
			true_block = vala_ccode_block_new ();
			vala_ccode_block_set_suppress_newline (true_block, TRUE);
			vala_ccode_block_add_statement (true_block, (ValaCCodeNode*) (_tmp14_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new ("value")), (ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new (_tmp11_ = vala_constant_get_cname ((ValaConstant*) enum_value))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
			_vala_ccode_node_unref0 (_tmp14_);
			_vala_ccode_node_unref0 (_tmp13_);
			_vala_ccode_node_unref0 (_tmp12_);
			_g_free0 (_tmp11_);
			_vala_ccode_node_unref0 (_tmp10_);
			dbus_value = vala_gvariant_module_get_dbus_value (self, enum_value, vala_symbol_get_name ((ValaSymbol*) enum_value));
			string_comparison = (_tmp16_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("strcmp"))), _vala_ccode_node_unref0 (_tmp15_), _tmp16_);
			vala_ccode_function_call_add_argument (string_comparison, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new ("str")));
			_vala_ccode_node_unref0 (_tmp17_);
			vala_ccode_function_call_add_argument (string_comparison, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_constant_new (_tmp18_ = g_strdup_printf ("\"%s\"", dbus_value))));
			_vala_ccode_node_unref0 (_tmp19_);
			_g_free0 (_tmp18_);
			stmt = (_tmp22_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) (_tmp21_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_EQUALITY, (ValaCCodeExpression*) string_comparison, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_constant_new ("0")))), (ValaCCodeStatement*) true_block, NULL), _vala_ccode_node_unref0 (_tmp21_), _vala_ccode_node_unref0 (_tmp20_), _tmp22_);
			if (last_statement != NULL) {
				vala_ccode_if_statement_set_false_statement (last_statement, (ValaCCodeStatement*) stmt);
			} else {
				ValaCCodeStatement* _tmp23_;
				if_else_if = (_tmp23_ = _vala_ccode_node_ref0 ((ValaCCodeStatement*) stmt), _vala_ccode_node_unref0 (if_else_if), _tmp23_);
			}
			last_statement = (_tmp24_ = _vala_ccode_node_ref0 (stmt), _vala_ccode_node_unref0 (last_statement), _tmp24_);
			_vala_ccode_node_unref0 (stmt);
			_vala_ccode_node_unref0 (string_comparison);
			_g_free0 (dbus_value);
			_vala_ccode_node_unref0 (true_block);
			_vala_code_node_unref0 (enum_value);
		}
		_vala_collection_object_unref0 (_enum_value_it);
	}
	vala_ccode_block_add_statement (from_string_block, (ValaCCodeNode*) if_else_if);
	vala_ccode_block_add_statement (from_string_block, (ValaCCodeNode*) (_tmp26_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("value")))));
	_vala_ccode_node_unref0 (_tmp26_);
	_vala_ccode_node_unref0 (_tmp25_);
	result = from_string_func;
	_vala_ccode_node_unref0 (last_statement);
	_vala_ccode_node_unref0 (if_else_if);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_ccode_node_unref0 (from_string_block);
	_g_free0 (from_string_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_deserialize_basic (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaGVariantModuleBasicTypeInfo* basic_type, ValaCCodeExpression* variant_expr, gboolean transfer) {
	ValaCCodeExpression* result = NULL;
	char* _tmp0_;
	ValaCCodeIdentifier* _tmp1_;
	ValaCCodeFunctionCall* _tmp2_;
	ValaCCodeFunctionCall* get_call;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	get_call = (_tmp2_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp1_ = vala_ccode_identifier_new (_tmp0_ = g_strconcat ("g_variant_get_", (*basic_type).type_name, NULL)))), _vala_ccode_node_unref0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_call_add_argument (get_call, variant_expr);
	if ((*basic_type).is_string) {
		ValaCCodeConstant* _tmp5_;
		if (transfer) {
			ValaCCodeIdentifier* _tmp3_;
			vala_ccode_function_call_set_call (get_call, (ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new ("g_variant_get_string")));
			_vala_ccode_node_unref0 (_tmp3_);
		} else {
			ValaCCodeIdentifier* _tmp4_;
			vala_ccode_function_call_set_call (get_call, (ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new ("g_variant_dup_string")));
			_vala_ccode_node_unref0 (_tmp4_);
		}
		vala_ccode_function_call_add_argument (get_call, (ValaCCodeExpression*) (_tmp5_ = vala_ccode_constant_new ("NULL")));
		_vala_ccode_node_unref0 (_tmp5_);
	}
	result = (ValaCCodeExpression*) get_call;
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_deserialize_array (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* temp_name;
	ValaCCodeIdentifier* _tmp1_;
	ValaCCodeFunctionCall* _tmp2_;
	ValaCCodeFunctionCall* new_call;
	char* _tmp3_;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeConstant* _tmp5_;
	char* _tmp6_;
	ValaCCodeDeclaration* _tmp7_;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeDeclaration* _tmp9_;
	char* _tmp10_;
	ValaCCodeConstant* _tmp11_;
	ValaCCodeVariableDeclarator* _tmp12_;
	ValaCCodeDeclaration* _tmp13_;
	char* _tmp14_;
	ValaCCodeConstant* _tmp15_;
	ValaCCodeVariableDeclarator* _tmp16_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (array_type != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	temp_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	new_call = (_tmp2_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp1_ = vala_ccode_identifier_new ("g_new"))), _vala_ccode_node_unref0 (_tmp1_), _tmp2_);
	vala_ccode_function_call_add_argument (new_call, (ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new (_tmp3_ = vala_data_type_get_cname (vala_array_type_get_element_type (array_type)))));
	_vala_ccode_node_unref0 (_tmp4_);
	_g_free0 (_tmp3_);
	vala_ccode_function_call_add_argument (new_call, (ValaCCodeExpression*) (_tmp5_ = vala_ccode_constant_new ("5")));
	_vala_ccode_node_unref0 (_tmp5_);
	_cdecl_ = (_tmp7_ = vala_ccode_declaration_new (_tmp6_ = vala_data_type_get_cname ((ValaDataType*) array_type)), _g_free0 (_tmp6_), _tmp7_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new (temp_name, (ValaCCodeExpression*) new_call, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp9_ = vala_ccode_declaration_new ("int"), _vala_ccode_node_unref0 (_cdecl_), _tmp9_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp12_ = vala_ccode_variable_declarator_new (_tmp10_ = g_strconcat (temp_name, "_length", NULL), (ValaCCodeExpression*) (_tmp11_ = vala_ccode_constant_new ("0")), NULL)));
	_vala_ccode_node_unref0 (_tmp12_);
	_vala_ccode_node_unref0 (_tmp11_);
	_g_free0 (_tmp10_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp13_ = vala_ccode_declaration_new ("int"), _vala_ccode_node_unref0 (_cdecl_), _tmp13_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp16_ = vala_ccode_variable_declarator_new (_tmp14_ = g_strconcat (temp_name, "_size", NULL), (ValaCCodeExpression*) (_tmp15_ = vala_ccode_constant_new ("4")), NULL)));
	_vala_ccode_node_unref0 (_tmp16_);
	_vala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp14_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	vala_gvariant_module_deserialize_array_dim (self, fragment, array_type, 1, temp_name, variant_expr, expr);
	if (vala_data_type_is_reference_type_or_type_parameter (vala_array_type_get_element_type (array_type))) {
		char* _tmp17_;
		ValaCCodeIdentifier* _tmp18_;
		ValaCCodeIdentifier* length;
		ValaCCodeIdentifier* _tmp19_;
		ValaCCodeElementAccess* _tmp20_;
		ValaCCodeElementAccess* element_access;
		ValaCCodeIdentifier* _tmp21_;
		ValaCCodeAssignment* _tmp22_;
		ValaCCodeExpressionStatement* _tmp23_;
		length = (_tmp18_ = vala_ccode_identifier_new (_tmp17_ = g_strconcat (temp_name, "_length", NULL)), _g_free0 (_tmp17_), _tmp18_);
		element_access = (_tmp20_ = vala_ccode_element_access_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new (temp_name)), (ValaCCodeExpression*) length), _vala_ccode_node_unref0 (_tmp19_), _tmp20_);
		vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp23_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp22_ = vala_ccode_assignment_new ((ValaCCodeExpression*) element_access, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_identifier_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp23_);
		_vala_ccode_node_unref0 (_tmp22_);
		_vala_ccode_node_unref0 (_tmp21_);
		_vala_ccode_node_unref0 (element_access);
		_vala_ccode_node_unref0 (length);
	}
	result = (ValaCCodeExpression*) vala_ccode_identifier_new (temp_name);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_ccode_node_unref0 (new_call);
	_g_free0 (temp_name);
	return result;
}


static void vala_gvariant_module_deserialize_array_dim (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, gint dim, const char* temp_name, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr) {
	gint _tmp0_;
	char* subiter_name;
	gint _tmp1_;
	char* element_name;
	ValaCCodeDeclaration* _cdecl_;
	char* _tmp2_;
	ValaCCodeConstant* _tmp3_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeDeclaration* _tmp5_;
	ValaCCodeVariableDeclarator* _tmp6_;
	ValaCCodeDeclaration* _tmp7_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeFunctionCall* _tmp10_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeUnaryExpression* _tmp12_;
	ValaCCodeExpressionStatement* _tmp13_;
	ValaCCodeIdentifier* _tmp14_;
	ValaCCodeFunctionCall* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeUnaryExpression* _tmp17_;
	ValaCCodeBlock* cforblock;
	ValaCCodeFragment* cforfragment;
	ValaCCodeIdentifier* _tmp18_;
	ValaCCodeAssignment* _tmp19_;
	ValaCCodeForStatement* _tmp20_;
	ValaCCodeForStatement* cfor;
	char* _tmp21_;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeUnaryExpression* _tmp23_;
	ValaCCodeIdentifier* _tmp59_;
	ValaCCodeFunctionCall* _tmp60_;
	ValaCCodeFunctionCall* unref;
	ValaCCodeIdentifier* _tmp61_;
	ValaCCodeExpressionStatement* _tmp62_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (fragment != NULL);
	g_return_if_fail (array_type != NULL);
	g_return_if_fail (temp_name != NULL);
	g_return_if_fail (variant_expr != NULL);
	subiter_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	element_name = g_strdup_printf ("_tmp%d_", (_tmp1_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp1_ + 1), _tmp1_));
	_cdecl_ = vala_ccode_declaration_new ("int");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new (_tmp2_ = g_strdup_printf ("%s_length%d", temp_name, dim), (ValaCCodeExpression*) (_tmp3_ = vala_ccode_constant_new ("0")), NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	_vala_ccode_node_unref0 (_tmp3_);
	_g_free0 (_tmp2_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp5_ = vala_ccode_declaration_new ("GVariantIter"), _vala_ccode_node_unref0 (_cdecl_), _tmp5_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp6_ = vala_ccode_variable_declarator_new (subiter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp7_ = vala_ccode_declaration_new ("GVariant*"), _vala_ccode_node_unref0 (_cdecl_), _tmp7_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new (element_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	iter_call = (_tmp10_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new ("g_variant_iter_init"))), _vala_ccode_node_unref0 (_tmp9_), _tmp10_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp12_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp12_);
	_vala_ccode_node_unref0 (_tmp11_);
	vala_ccode_function_call_add_argument (iter_call, variant_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp13_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp13_);
	iter_call = (_tmp15_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("g_variant_iter_next_value"))), _vala_ccode_node_unref0 (iter_call), _tmp15_);
	_vala_ccode_node_unref0 (_tmp14_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp17_);
	_vala_ccode_node_unref0 (_tmp16_);
	cforblock = vala_ccode_block_new ();
	cforfragment = vala_ccode_fragment_new ();
	vala_ccode_block_add_statement (cforblock, (ValaCCodeNode*) cforfragment);
	cfor = (_tmp20_ = vala_ccode_for_statement_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new (element_name)), (ValaCCodeExpression*) iter_call, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)), (ValaCCodeStatement*) cforblock), _vala_ccode_node_unref0 (_tmp19_), _vala_ccode_node_unref0 (_tmp18_), _tmp20_);
	vala_ccode_for_statement_add_iterator (cfor, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new (_tmp21_ = g_strdup_printf ("%s_length%d", temp_name, dim))))));
	_vala_ccode_node_unref0 (_tmp23_);
	_vala_ccode_node_unref0 (_tmp22_);
	_g_free0 (_tmp21_);
	if (dim < vala_array_type_get_rank (array_type)) {
		ValaCCodeIdentifier* _tmp24_;
		vala_gvariant_module_deserialize_array_dim (self, cforfragment, array_type, dim + 1, temp_name, (ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new (element_name)), expr);
		_vala_ccode_node_unref0 (_tmp24_);
	} else {
		char* _tmp25_;
		ValaCCodeIdentifier* _tmp26_;
		char* _tmp27_;
		ValaCCodeIdentifier* _tmp28_;
		ValaCCodeBinaryExpression* _tmp29_;
		ValaCCodeBinaryExpression* size_check;
		ValaCCodeBlock* renew_block;
		ValaCCodeConstant* _tmp30_;
		char* _tmp31_;
		ValaCCodeIdentifier* _tmp32_;
		ValaCCodeBinaryExpression* _tmp33_;
		ValaCCodeBinaryExpression* new_size;
		char* _tmp34_;
		ValaCCodeIdentifier* _tmp35_;
		ValaCCodeAssignment* _tmp36_;
		ValaCCodeExpressionStatement* _tmp37_;
		ValaCCodeIdentifier* _tmp38_;
		ValaCCodeFunctionCall* _tmp39_;
		ValaCCodeFunctionCall* renew_call;
		char* _tmp40_;
		ValaCCodeIdentifier* _tmp41_;
		ValaCCodeIdentifier* _tmp42_;
		char* _tmp43_;
		ValaCCodeIdentifier* _tmp44_;
		ValaCCodeConstant* _tmp45_;
		ValaCCodeBinaryExpression* _tmp46_;
		ValaCCodeIdentifier* _tmp47_;
		ValaCCodeAssignment* _tmp48_;
		ValaCCodeExpressionStatement* _tmp49_;
		ValaCCodeExpressionStatement* renew_stmt;
		ValaCCodeIfStatement* cif;
		ValaCCodeIdentifier* _tmp50_;
		char* _tmp51_;
		ValaCCodeIdentifier* _tmp52_;
		ValaCCodeUnaryExpression* _tmp53_;
		ValaCCodeElementAccess* _tmp54_;
		ValaCCodeElementAccess* element_access;
		ValaCCodeIdentifier* _tmp55_;
		ValaCCodeExpression* _tmp56_;
		ValaCCodeExpression* element_expr;
		ValaCCodeAssignment* _tmp57_;
		ValaCCodeExpressionStatement* _tmp58_;
		size_check = (_tmp29_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_EQUALITY, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new (_tmp25_ = g_strconcat (temp_name, "_size", NULL))), (ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new (_tmp27_ = g_strconcat (temp_name, "_length", NULL)))), _vala_ccode_node_unref0 (_tmp28_), _g_free0 (_tmp27_), _vala_ccode_node_unref0 (_tmp26_), _g_free0 (_tmp25_), _tmp29_);
		renew_block = vala_ccode_block_new ();
		new_size = (_tmp33_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_MUL, (ValaCCodeExpression*) (_tmp30_ = vala_ccode_constant_new ("2")), (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new (_tmp31_ = g_strconcat (temp_name, "_size", NULL)))), _vala_ccode_node_unref0 (_tmp32_), _g_free0 (_tmp31_), _vala_ccode_node_unref0 (_tmp30_), _tmp33_);
		vala_ccode_block_add_statement (renew_block, (ValaCCodeNode*) (_tmp37_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp36_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp35_ = vala_ccode_identifier_new (_tmp34_ = g_strconcat (temp_name, "_size", NULL))), (ValaCCodeExpression*) new_size, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp37_);
		_vala_ccode_node_unref0 (_tmp36_);
		_vala_ccode_node_unref0 (_tmp35_);
		_g_free0 (_tmp34_);
		renew_call = (_tmp39_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new ("g_renew"))), _vala_ccode_node_unref0 (_tmp38_), _tmp39_);
		vala_ccode_function_call_add_argument (renew_call, (ValaCCodeExpression*) (_tmp41_ = vala_ccode_identifier_new (_tmp40_ = vala_data_type_get_cname (vala_array_type_get_element_type (array_type)))));
		_vala_ccode_node_unref0 (_tmp41_);
		_g_free0 (_tmp40_);
		vala_ccode_function_call_add_argument (renew_call, (ValaCCodeExpression*) (_tmp42_ = vala_ccode_identifier_new (temp_name)));
		_vala_ccode_node_unref0 (_tmp42_);
		vala_ccode_function_call_add_argument (renew_call, (ValaCCodeExpression*) (_tmp46_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_PLUS, (ValaCCodeExpression*) (_tmp44_ = vala_ccode_identifier_new (_tmp43_ = g_strconcat (temp_name, "_size", NULL))), (ValaCCodeExpression*) (_tmp45_ = vala_ccode_constant_new ("1")))));
		_vala_ccode_node_unref0 (_tmp46_);
		_vala_ccode_node_unref0 (_tmp45_);
		_vala_ccode_node_unref0 (_tmp44_);
		_g_free0 (_tmp43_);
		renew_stmt = (_tmp49_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp48_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp47_ = vala_ccode_identifier_new (temp_name)), (ValaCCodeExpression*) renew_call, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE))), _vala_ccode_node_unref0 (_tmp48_), _vala_ccode_node_unref0 (_tmp47_), _tmp49_);
		vala_ccode_block_add_statement (renew_block, (ValaCCodeNode*) renew_stmt);
		cif = vala_ccode_if_statement_new ((ValaCCodeExpression*) size_check, (ValaCCodeStatement*) renew_block, NULL);
		vala_ccode_fragment_append (cforfragment, (ValaCCodeNode*) cif);
		element_access = (_tmp54_ = vala_ccode_element_access_new ((ValaCCodeExpression*) (_tmp50_ = vala_ccode_identifier_new (temp_name)), (ValaCCodeExpression*) (_tmp53_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT, (ValaCCodeExpression*) (_tmp52_ = vala_ccode_identifier_new (_tmp51_ = g_strconcat (temp_name, "_length", NULL)))))), _vala_ccode_node_unref0 (_tmp53_), _vala_ccode_node_unref0 (_tmp52_), _g_free0 (_tmp51_), _vala_ccode_node_unref0 (_tmp50_), _tmp54_);
		element_expr = (_tmp56_ = vala_ccode_base_module_deserialize_expression ((ValaCCodeBaseModule*) self, cforfragment, vala_array_type_get_element_type (array_type), (ValaCCodeExpression*) (_tmp55_ = vala_ccode_identifier_new (element_name)), NULL), _vala_ccode_node_unref0 (_tmp55_), _tmp56_);
		vala_ccode_fragment_append (cforfragment, (ValaCCodeNode*) (_tmp58_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp57_ = vala_ccode_assignment_new ((ValaCCodeExpression*) element_access, element_expr, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp58_);
		_vala_ccode_node_unref0 (_tmp57_);
		_vala_ccode_node_unref0 (element_expr);
		_vala_ccode_node_unref0 (element_access);
		_vala_ccode_node_unref0 (cif);
		_vala_ccode_node_unref0 (renew_stmt);
		_vala_ccode_node_unref0 (renew_call);
		_vala_ccode_node_unref0 (new_size);
		_vala_ccode_node_unref0 (renew_block);
		_vala_ccode_node_unref0 (size_check);
	}
	unref = (_tmp60_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp59_ = vala_ccode_identifier_new ("g_variant_unref"))), _vala_ccode_node_unref0 (_tmp59_), _tmp60_);
	vala_ccode_function_call_add_argument (unref, (ValaCCodeExpression*) (_tmp61_ = vala_ccode_identifier_new (element_name)));
	_vala_ccode_node_unref0 (_tmp61_);
	vala_ccode_fragment_append (cforfragment, (ValaCCodeNode*) (_tmp62_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) unref)));
	_vala_ccode_node_unref0 (_tmp62_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) cfor);
	if (expr != NULL) {
		ValaCCodeExpression* _tmp63_;
		char* _tmp64_;
		ValaCCodeIdentifier* _tmp65_;
		ValaCCodeAssignment* _tmp66_;
		ValaCCodeExpressionStatement* _tmp67_;
		vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp67_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp66_ = vala_ccode_assignment_new (_tmp63_ = vala_gvariant_module_get_array_length (self, expr, dim), (ValaCCodeExpression*) (_tmp65_ = vala_ccode_identifier_new (_tmp64_ = g_strdup_printf ("%s_length%d", temp_name, dim))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp67_);
		_vala_ccode_node_unref0 (_tmp66_);
		_vala_ccode_node_unref0 (_tmp65_);
		_g_free0 (_tmp64_);
		_vala_ccode_node_unref0 (_tmp63_);
	}
	_vala_ccode_node_unref0 (unref);
	_vala_ccode_node_unref0 (cfor);
	_vala_ccode_node_unref0 (cforfragment);
	_vala_ccode_node_unref0 (cforblock);
	_vala_ccode_node_unref0 (iter_call);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (element_name);
	_g_free0 (subiter_name);
}


static ValaCCodeExpression* vala_gvariant_module_deserialize_struct (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaStruct* st, ValaCCodeExpression* variant_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* temp_name;
	gint _tmp1_;
	char* subiter_name;
	char* _tmp2_;
	ValaCCodeDeclaration* _tmp3_;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeDeclaration* _tmp5_;
	ValaCCodeVariableDeclarator* _tmp6_;
	ValaCCodeIdentifier* _tmp7_;
	ValaCCodeFunctionCall* _tmp8_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeUnaryExpression* _tmp10_;
	ValaCCodeExpressionStatement* _tmp11_;
	gboolean field_found;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (st != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	temp_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	subiter_name = g_strdup_printf ("_tmp%d_", (_tmp1_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp1_ + 1), _tmp1_));
	_cdecl_ = (_tmp3_ = vala_ccode_declaration_new (_tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) st, FALSE)), _g_free0 (_tmp2_), _tmp3_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new (temp_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp5_ = vala_ccode_declaration_new ("GVariantIter"), _vala_ccode_node_unref0 (_cdecl_), _tmp5_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp6_ = vala_ccode_variable_declarator_new (subiter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	iter_call = (_tmp8_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new ("g_variant_iter_init"))), _vala_ccode_node_unref0 (_tmp7_), _tmp8_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp10_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp10_);
	_vala_ccode_node_unref0 (_tmp9_);
	vala_ccode_function_call_add_argument (iter_call, variant_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp11_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp11_);
	field_found = FALSE;
	;
	{
		ValaList* _tmp12_;
		ValaIterator* _tmp13_;
		ValaIterator* _f_it;
		_f_it = (_tmp13_ = vala_iterable_iterator ((ValaIterable*) (_tmp12_ = vala_struct_get_fields (st))), _vala_collection_object_unref0 (_tmp12_), _tmp13_);
		while (TRUE) {
			ValaField* f;
			ValaCCodeIdentifier* _tmp14_;
			ValaCCodeIdentifier* _tmp15_;
			char* _tmp16_;
			ValaCCodeMemberAccess* _tmp17_;
			if (!vala_iterator_next (_f_it)) {
				break;
			}
			f = (ValaField*) vala_iterator_get (_f_it);
			if (vala_field_get_binding (f) != MEMBER_BINDING_INSTANCE) {
				_vala_code_node_unref0 (f);
				continue;
			}
			field_found = TRUE;
			vala_gvariant_module_read_expression (self, fragment, vala_variable_get_variable_type ((ValaVariable*) f), (ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new (subiter_name)), (ValaCCodeExpression*) (_tmp17_ = vala_ccode_member_access_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new (temp_name)), _tmp16_ = vala_field_get_cname (f), FALSE)), (ValaSymbol*) f);
			_vala_ccode_node_unref0 (_tmp17_);
			_g_free0 (_tmp16_);
			_vala_ccode_node_unref0 (_tmp15_);
			_vala_ccode_node_unref0 (_tmp14_);
			_vala_code_node_unref0 (f);
		}
		_vala_collection_object_unref0 (_f_it);
	}
	if (!field_found) {
		result = NULL;
		_vala_ccode_node_unref0 (iter_call);
		_vala_ccode_node_unref0 (_cdecl_);
		_g_free0 (subiter_name);
		_g_free0 (temp_name);
		return result;
	}
	result = (ValaCCodeExpression*) vala_ccode_identifier_new (temp_name);
	_vala_ccode_node_unref0 (iter_call);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (subiter_name);
	_g_free0 (temp_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_deserialize_hash_table (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaObjectType* type, ValaCCodeExpression* variant_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* temp_name;
	gint _tmp1_;
	char* subiter_name;
	gint _tmp2_;
	char* key_name;
	gint _tmp3_;
	char* value_name;
	ValaList* type_args;
	ValaDataType* key_type;
	ValaDataType* value_type;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeDeclaration* _tmp5_;
	ValaCCodeVariableDeclarator* _tmp6_;
	ValaCCodeDeclaration* _tmp7_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeDeclaration* _tmp9_;
	ValaCCodeVariableDeclarator* _tmp10_;
	ValaCCodeIdentifier* _tmp11_;
	ValaCCodeFunctionCall* _tmp12_;
	ValaCCodeFunctionCall* hash_table_new;
	ValaCCodeIdentifier* _tmp21_;
	ValaCCodeAssignment* _tmp22_;
	ValaCCodeExpressionStatement* _tmp23_;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeFunctionCall* _tmp25_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeIdentifier* _tmp26_;
	ValaCCodeUnaryExpression* _tmp27_;
	ValaCCodeExpressionStatement* _tmp28_;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeFunctionCall* _tmp30_;
	ValaCCodeIdentifier* _tmp31_;
	ValaCCodeUnaryExpression* _tmp32_;
	ValaCCodeConstant* _tmp33_;
	ValaCCodeIdentifier* _tmp34_;
	ValaCCodeUnaryExpression* _tmp35_;
	ValaCCodeIdentifier* _tmp36_;
	ValaCCodeUnaryExpression* _tmp37_;
	ValaCCodeBlock* cwhileblock;
	ValaCCodeFragment* cwhilefragment;
	ValaCCodeWhileStatement* cwhile;
	ValaCCodeIdentifier* _tmp38_;
	ValaCCodeExpression* _tmp39_;
	ValaCCodeExpression* key_expr;
	ValaCCodeIdentifier* _tmp40_;
	ValaCCodeExpression* _tmp41_;
	ValaCCodeExpression* value_expr;
	ValaCCodeIdentifier* _tmp42_;
	ValaCCodeFunctionCall* _tmp43_;
	ValaCCodeFunctionCall* hash_table_insert;
	ValaCCodeIdentifier* _tmp44_;
	ValaCCodeExpression* _tmp45_;
	ValaCCodeExpression* _tmp46_;
	ValaCCodeExpressionStatement* _tmp47_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	temp_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	subiter_name = g_strdup_printf ("_tmp%d_", (_tmp1_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp1_ + 1), _tmp1_));
	key_name = g_strdup_printf ("_tmp%d_", (_tmp2_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp2_ + 1), _tmp2_));
	value_name = g_strdup_printf ("_tmp%d_", (_tmp3_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp3_ + 1), _tmp3_));
	type_args = vala_data_type_get_type_arguments ((ValaDataType*) type);
	g_assert (vala_collection_get_size ((ValaCollection*) type_args) == 2);
	key_type = (ValaDataType*) vala_list_get (type_args, 0);
	value_type = (ValaDataType*) vala_list_get (type_args, 1);
	_cdecl_ = vala_ccode_declaration_new ("GHashTable*");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new (temp_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp5_ = vala_ccode_declaration_new ("GVariantIter"), _vala_ccode_node_unref0 (_cdecl_), _tmp5_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp6_ = vala_ccode_variable_declarator_new (subiter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp7_ = vala_ccode_declaration_new ("GVariant*"), _vala_ccode_node_unref0 (_cdecl_), _tmp7_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new (key_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp9_ = vala_ccode_declaration_new ("GVariant*"), _vala_ccode_node_unref0 (_cdecl_), _tmp9_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new (value_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp10_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	hash_table_new = (_tmp12_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("g_hash_table_new_full"))), _vala_ccode_node_unref0 (_tmp11_), _tmp12_);
	if (vala_data_type_get_data_type (key_type) == vala_data_type_get_data_type (((ValaCCodeBaseModule*) self)->string_type)) {
		ValaCCodeIdentifier* _tmp13_;
		ValaCCodeIdentifier* _tmp14_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("g_str_hash")));
		_vala_ccode_node_unref0 (_tmp13_);
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("g_str_equal")));
		_vala_ccode_node_unref0 (_tmp14_);
	} else {
		ValaCCodeIdentifier* _tmp15_;
		ValaCCodeIdentifier* _tmp16_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("g_direct_hash")));
		_vala_ccode_node_unref0 (_tmp15_);
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("g_direct_equal")));
		_vala_ccode_node_unref0 (_tmp16_);
	}
	if (vala_data_type_get_data_type (key_type) == vala_data_type_get_data_type (((ValaCCodeBaseModule*) self)->string_type)) {
		ValaCCodeIdentifier* _tmp17_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new ("g_free")));
		_vala_ccode_node_unref0 (_tmp17_);
	} else {
		ValaCCodeIdentifier* _tmp18_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new ("NULL")));
		_vala_ccode_node_unref0 (_tmp18_);
	}
	if (vala_data_type_get_data_type (value_type) == vala_data_type_get_data_type (((ValaCCodeBaseModule*) self)->string_type)) {
		ValaCCodeIdentifier* _tmp19_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("g_free")));
		_vala_ccode_node_unref0 (_tmp19_);
	} else {
		ValaCCodeIdentifier* _tmp20_;
		vala_ccode_function_call_add_argument (hash_table_new, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("NULL")));
		_vala_ccode_node_unref0 (_tmp20_);
	}
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp23_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp22_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp21_ = vala_ccode_identifier_new (temp_name)), (ValaCCodeExpression*) hash_table_new, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp23_);
	_vala_ccode_node_unref0 (_tmp22_);
	_vala_ccode_node_unref0 (_tmp21_);
	iter_call = (_tmp25_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("g_variant_iter_init"))), _vala_ccode_node_unref0 (_tmp24_), _tmp25_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp27_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp27_);
	_vala_ccode_node_unref0 (_tmp26_);
	vala_ccode_function_call_add_argument (iter_call, variant_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp28_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp28_);
	iter_call = (_tmp30_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new ("g_variant_iter_loop"))), _vala_ccode_node_unref0 (iter_call), _tmp30_);
	_vala_ccode_node_unref0 (_tmp29_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp31_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp32_);
	_vala_ccode_node_unref0 (_tmp31_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp33_ = vala_ccode_constant_new ("\"{?*}\"")));
	_vala_ccode_node_unref0 (_tmp33_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp35_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp34_ = vala_ccode_identifier_new (key_name)))));
	_vala_ccode_node_unref0 (_tmp35_);
	_vala_ccode_node_unref0 (_tmp34_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp36_ = vala_ccode_identifier_new (value_name)))));
	_vala_ccode_node_unref0 (_tmp37_);
	_vala_ccode_node_unref0 (_tmp36_);
	cwhileblock = vala_ccode_block_new ();
	cwhilefragment = vala_ccode_fragment_new ();
	vala_ccode_block_add_statement (cwhileblock, (ValaCCodeNode*) cwhilefragment);
	cwhile = vala_ccode_while_statement_new ((ValaCCodeExpression*) iter_call, (ValaCCodeStatement*) cwhileblock);
	key_expr = (_tmp39_ = vala_ccode_base_module_deserialize_expression ((ValaCCodeBaseModule*) self, cwhilefragment, key_type, (ValaCCodeExpression*) (_tmp38_ = vala_ccode_identifier_new (key_name)), NULL), _vala_ccode_node_unref0 (_tmp38_), _tmp39_);
	value_expr = (_tmp41_ = vala_ccode_base_module_deserialize_expression ((ValaCCodeBaseModule*) self, cwhilefragment, value_type, (ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new (value_name)), NULL), _vala_ccode_node_unref0 (_tmp40_), _tmp41_);
	hash_table_insert = (_tmp43_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp42_ = vala_ccode_identifier_new ("g_hash_table_insert"))), _vala_ccode_node_unref0 (_tmp42_), _tmp43_);
	vala_ccode_function_call_add_argument (hash_table_insert, (ValaCCodeExpression*) (_tmp44_ = vala_ccode_identifier_new (temp_name)));
	_vala_ccode_node_unref0 (_tmp44_);
	vala_ccode_function_call_add_argument (hash_table_insert, _tmp45_ = vala_ccode_base_module_convert_to_generic_pointer ((ValaCCodeBaseModule*) self, key_expr, key_type));
	_vala_ccode_node_unref0 (_tmp45_);
	vala_ccode_function_call_add_argument (hash_table_insert, _tmp46_ = vala_ccode_base_module_convert_to_generic_pointer ((ValaCCodeBaseModule*) self, value_expr, value_type));
	_vala_ccode_node_unref0 (_tmp46_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) (_tmp47_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) hash_table_insert)));
	_vala_ccode_node_unref0 (_tmp47_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) cwhile);
	result = (ValaCCodeExpression*) vala_ccode_identifier_new (temp_name);
	_vala_ccode_node_unref0 (hash_table_insert);
	_vala_ccode_node_unref0 (value_expr);
	_vala_ccode_node_unref0 (key_expr);
	_vala_ccode_node_unref0 (cwhile);
	_vala_ccode_node_unref0 (cwhilefragment);
	_vala_ccode_node_unref0 (cwhileblock);
	_vala_ccode_node_unref0 (iter_call);
	_vala_ccode_node_unref0 (hash_table_new);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_code_node_unref0 (value_type);
	_vala_code_node_unref0 (key_type);
	_vala_collection_object_unref0 (type_args);
	_g_free0 (value_name);
	_g_free0 (key_name);
	_g_free0 (subiter_name);
	_g_free0 (temp_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_real_deserialize_expression (ValaCCodeBaseModule* base, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr) {
	ValaGVariantModule * self;
	ValaCCodeExpression* result = NULL;
	ValaGVariantModuleBasicTypeInfo basic_type = {0};
	ValaCCodeExpression* _result_;
	self = (ValaGVariantModule*) base;
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	_result_ = NULL;
	if (vala_gvariant_module_is_string_marshalled_enum (vala_data_type_get_data_type (type))) {
		ValaCCodeExpression* _tmp0_;
		ValaDataType* _tmp1_;
		ValaCCodeExpression* _tmp2_;
		vala_gvariant_module_get_basic_type_info (self, "s", &basic_type);
		_result_ = (_tmp0_ = vala_gvariant_module_deserialize_basic (self, fragment, &basic_type, variant_expr, TRUE), _vala_ccode_node_unref0 (_result_), _tmp0_);
		_result_ = (_tmp2_ = vala_gvariant_module_generate_enum_value_from_string (self, fragment, (_tmp1_ = type, VALA_IS_ENUM_VALUE_TYPE (_tmp1_) ? ((ValaEnumValueType*) _tmp1_) : NULL), _result_), _vala_ccode_node_unref0 (_result_), _tmp2_);
	} else {
		char* _tmp3_;
		gboolean _tmp4_;
		if ((_tmp4_ = vala_gvariant_module_get_basic_type_info (self, _tmp3_ = vala_gvariant_module_get_type_signature (type, NULL), &basic_type), _g_free0 (_tmp3_), _tmp4_)) {
			ValaCCodeExpression* _tmp5_;
			_result_ = (_tmp5_ = vala_gvariant_module_deserialize_basic (self, fragment, &basic_type, variant_expr, FALSE), _vala_ccode_node_unref0 (_result_), _tmp5_);
		} else {
			if (VALA_IS_ARRAY_TYPE (type)) {
				ValaCCodeExpression* _tmp6_;
				_result_ = (_tmp6_ = vala_gvariant_module_deserialize_array (self, fragment, VALA_ARRAY_TYPE (type), variant_expr, expr), _vala_ccode_node_unref0 (_result_), _tmp6_);
			} else {
				if (VALA_IS_STRUCT (vala_data_type_get_data_type (type))) {
					ValaStruct* st;
					ValaCCodeExpression* _tmp7_;
					gboolean _tmp8_ = FALSE;
					st = _vala_code_node_ref0 (VALA_STRUCT (vala_data_type_get_data_type (type)));
					_result_ = (_tmp7_ = vala_gvariant_module_deserialize_struct (self, fragment, st, variant_expr), _vala_ccode_node_unref0 (_result_), _tmp7_);
					if (_result_ != NULL) {
						_tmp8_ = vala_data_type_get_nullable (type);
					} else {
						_tmp8_ = FALSE;
					}
					if (_tmp8_) {
						ValaCCodeIdentifier* _tmp9_;
						ValaCCodeFunctionCall* _tmp10_;
						ValaCCodeFunctionCall* csizeof;
						char* _tmp11_;
						ValaCCodeIdentifier* _tmp12_;
						ValaCCodeIdentifier* _tmp13_;
						ValaCCodeFunctionCall* _tmp14_;
						ValaCCodeFunctionCall* cdup;
						ValaCCodeUnaryExpression* _tmp15_;
						ValaCCodeExpression* _tmp16_;
						csizeof = (_tmp10_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new ("sizeof"))), _vala_ccode_node_unref0 (_tmp9_), _tmp10_);
						vala_ccode_function_call_add_argument (csizeof, (ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new (_tmp11_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) st, FALSE))));
						_vala_ccode_node_unref0 (_tmp12_);
						_g_free0 (_tmp11_);
						cdup = (_tmp14_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("g_memdup"))), _vala_ccode_node_unref0 (_tmp13_), _tmp14_);
						vala_ccode_function_call_add_argument (cdup, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _result_)));
						_vala_ccode_node_unref0 (_tmp15_);
						vala_ccode_function_call_add_argument (cdup, (ValaCCodeExpression*) csizeof);
						_result_ = (_tmp16_ = _vala_ccode_node_ref0 ((ValaCCodeExpression*) cdup), _vala_ccode_node_unref0 (_result_), _tmp16_);
						_vala_ccode_node_unref0 (cdup);
						_vala_ccode_node_unref0 (csizeof);
					}
					_vala_code_node_unref0 (st);
				} else {
					if (VALA_IS_OBJECT_TYPE (type)) {
						char* _tmp17_;
						gboolean _tmp18_;
						if ((_tmp18_ = _vala_strcmp0 (_tmp17_ = vala_symbol_get_full_name ((ValaSymbol*) vala_data_type_get_data_type (type)), "GLib.Variant") == 0, _g_free0 (_tmp17_), _tmp18_)) {
							ValaCCodeIdentifier* _tmp19_;
							ValaCCodeFunctionCall* _tmp20_;
							ValaCCodeFunctionCall* variant_get;
							ValaCCodeExpression* _tmp21_;
							variant_get = (_tmp20_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("g_variant_get_variant"))), _vala_ccode_node_unref0 (_tmp19_), _tmp20_);
							vala_ccode_function_call_add_argument (variant_get, variant_expr);
							_result_ = (_tmp21_ = _vala_ccode_node_ref0 ((ValaCCodeExpression*) variant_get), _vala_ccode_node_unref0 (_result_), _tmp21_);
							_vala_ccode_node_unref0 (variant_get);
						} else {
							char* _tmp22_;
							gboolean _tmp23_;
							if ((_tmp23_ = _vala_strcmp0 (_tmp22_ = vala_symbol_get_full_name ((ValaSymbol*) vala_data_type_get_data_type (type)), "GLib.HashTable") == 0, _g_free0 (_tmp22_), _tmp23_)) {
								ValaCCodeExpression* _tmp24_;
								_result_ = (_tmp24_ = vala_gvariant_module_deserialize_hash_table (self, fragment, VALA_OBJECT_TYPE (type), variant_expr), _vala_ccode_node_unref0 (_result_), _tmp24_);
							}
						}
					}
				}
			}
		}
	}
	if (_result_ == NULL) {
		char* _tmp25_;
		char* _tmp26_;
		vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) type), _tmp26_ = g_strdup_printf ("GVariant deserialization of type `%s' is not supported", _tmp25_ = vala_code_node_to_string ((ValaCodeNode*) type)));
		_g_free0 (_tmp26_);
		_g_free0 (_tmp25_);
	}
	result = _result_;
	return result;
}


void vala_gvariant_module_read_expression (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* iter_expr, ValaCCodeExpression* target_expr, ValaSymbol* sym) {
	ValaCCodeIdentifier* _tmp0_;
	ValaCCodeFunctionCall* _tmp1_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeUnaryExpression* _tmp2_;
	gboolean _tmp3_ = FALSE;
	gint _tmp7_;
	char* temp_name;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeIdentifier* variant_expr;
	ValaCCodeAssignment* _tmp9_;
	ValaCCodeExpressionStatement* _tmp10_;
	ValaCCodeExpression* _result_;
	ValaCCodeAssignment* _tmp11_;
	ValaCCodeExpressionStatement* _tmp12_;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeFunctionCall* _tmp14_;
	ValaCCodeFunctionCall* unref;
	ValaCCodeExpressionStatement* _tmp15_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (fragment != NULL);
	g_return_if_fail (type != NULL);
	g_return_if_fail (iter_expr != NULL);
	g_return_if_fail (target_expr != NULL);
	iter_call = (_tmp1_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp0_ = vala_ccode_identifier_new ("g_variant_iter_next_value"))), _vala_ccode_node_unref0 (_tmp0_), _tmp1_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp2_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, iter_expr)));
	_vala_ccode_node_unref0 (_tmp2_);
	if (sym != NULL) {
		char* _tmp4_;
		_tmp3_ = (_tmp4_ = vala_gvariant_module_get_dbus_signature (sym)) != NULL;
		_g_free0 (_tmp4_);
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		ValaCCodeAssignment* _tmp5_;
		ValaCCodeExpressionStatement* _tmp6_;
		vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp6_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_assignment_new (target_expr, (ValaCCodeExpression*) iter_call, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp6_);
		_vala_ccode_node_unref0 (_tmp5_);
		_vala_ccode_node_unref0 (iter_call);
		return;
	}
	temp_name = g_strdup_printf ("_tmp%d_", (_tmp7_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp7_ + 1), _tmp7_));
	_cdecl_ = vala_ccode_declaration_new ("GVariant*");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new (temp_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	variant_expr = vala_ccode_identifier_new (temp_name);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp10_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp9_ = vala_ccode_assignment_new ((ValaCCodeExpression*) variant_expr, (ValaCCodeExpression*) iter_call, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp10_);
	_vala_ccode_node_unref0 (_tmp9_);
	_result_ = vala_ccode_base_module_deserialize_expression ((ValaCCodeBaseModule*) self, fragment, type, (ValaCCodeExpression*) variant_expr, target_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp12_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_assignment_new (target_expr, _result_, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp12_);
	_vala_ccode_node_unref0 (_tmp11_);
	unref = (_tmp14_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("g_variant_unref"))), _vala_ccode_node_unref0 (_tmp13_), _tmp14_);
	vala_ccode_function_call_add_argument (unref, (ValaCCodeExpression*) variant_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp15_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) unref)));
	_vala_ccode_node_unref0 (_tmp15_);
	_vala_ccode_node_unref0 (unref);
	_vala_ccode_node_unref0 (_result_);
	_vala_ccode_node_unref0 (variant_expr);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (temp_name);
	_vala_ccode_node_unref0 (iter_call);
}


static ValaCCodeExpression* vala_gvariant_module_generate_enum_value_to_string (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaEnumValueType* type, ValaCCodeExpression* expr) {
	ValaCCodeExpression* result = NULL;
	ValaTypeSymbol* _tmp0_;
	ValaEnum* en;
	char* _tmp1_;
	char* _tmp2_;
	char* to_string_name;
	ValaCCodeIdentifier* _tmp3_;
	ValaCCodeFunctionCall* _tmp4_;
	ValaCCodeFunctionCall* to_string_call;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	en = _vala_code_node_ref0 ((_tmp0_ = vala_value_type_get_type_symbol ((ValaValueType*) type), VALA_IS_ENUM (_tmp0_) ? ((ValaEnum*) _tmp0_) : NULL));
	to_string_name = (_tmp2_ = g_strdup_printf ("%s_to_string", _tmp1_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp1_), _tmp2_);
	to_string_call = (_tmp4_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new (to_string_name))), _vala_ccode_node_unref0 (_tmp3_), _tmp4_);
	vala_ccode_function_call_add_argument (to_string_call, expr);
	result = (ValaCCodeExpression*) to_string_call;
	_g_free0 (to_string_name);
	_vala_code_node_unref0 (en);
	return result;
}


ValaCCodeFunction* vala_gvariant_module_generate_enum_to_string_function_declaration (ValaGVariantModule* self, ValaEnum* en) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* to_string_name;
	ValaCCodeFunction* to_string_func;
	char* _tmp2_;
	ValaCCodeFormalParameter* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (en != NULL, NULL);
	to_string_name = (_tmp1_ = g_strdup_printf ("%s_to_string", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp0_), _tmp1_);
	to_string_func = vala_ccode_function_new (to_string_name, "const char*");
	vala_ccode_function_add_parameter (to_string_func, _tmp3_ = vala_ccode_formal_parameter_new ("value", _tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) en, FALSE)));
	_vala_ccode_node_unref0 (_tmp3_);
	_g_free0 (_tmp2_);
	result = to_string_func;
	_g_free0 (to_string_name);
	return result;
}


ValaCCodeFunction* vala_gvariant_module_generate_enum_to_string_function (ValaGVariantModule* self, ValaEnum* en) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* to_string_name;
	ValaCCodeFunction* to_string_func;
	char* _tmp2_;
	ValaCCodeFormalParameter* _tmp3_;
	ValaCCodeBlock* to_string_block;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeIdentifier* _tmp5_;
	ValaCCodeSwitchStatement* _tmp6_;
	ValaCCodeSwitchStatement* cswitch;
	ValaCCodeIdentifier* _tmp18_;
	ValaCCodeReturnStatement* _tmp19_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (en != NULL, NULL);
	to_string_name = (_tmp1_ = g_strdup_printf ("%s_to_string", _tmp0_ = vala_symbol_get_lower_case_cname ((ValaSymbol*) en, NULL)), _g_free0 (_tmp0_), _tmp1_);
	to_string_func = vala_ccode_function_new (to_string_name, "const char*");
	vala_ccode_function_add_parameter (to_string_func, _tmp3_ = vala_ccode_formal_parameter_new ("value", _tmp2_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) en, FALSE)));
	_vala_ccode_node_unref0 (_tmp3_);
	_g_free0 (_tmp2_);
	to_string_block = vala_ccode_block_new ();
	vala_ccode_function_set_block (to_string_func, to_string_block);
	_cdecl_ = vala_ccode_declaration_new ("const char *");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new ("str", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_block_add_statement (to_string_block, (ValaCCodeNode*) _cdecl_);
	cswitch = (_tmp6_ = vala_ccode_switch_statement_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_identifier_new ("value"))), _vala_ccode_node_unref0 (_tmp5_), _tmp6_);
	{
		ValaList* _tmp7_;
		ValaIterator* _tmp8_;
		ValaIterator* _enum_value_it;
		_enum_value_it = (_tmp8_ = vala_iterable_iterator ((ValaIterable*) (_tmp7_ = vala_enum_get_values (en))), _vala_collection_object_unref0 (_tmp7_), _tmp8_);
		while (TRUE) {
			ValaEnumValue* enum_value;
			char* dbus_value;
			char* _tmp9_;
			ValaCCodeIdentifier* _tmp10_;
			ValaCCodeCaseStatement* _tmp11_;
			ValaCCodeIdentifier* _tmp12_;
			char* _tmp13_;
			ValaCCodeConstant* _tmp14_;
			ValaCCodeAssignment* _tmp15_;
			ValaCCodeExpressionStatement* _tmp16_;
			ValaCCodeBreakStatement* _tmp17_;
			if (!vala_iterator_next (_enum_value_it)) {
				break;
			}
			enum_value = (ValaEnumValue*) vala_iterator_get (_enum_value_it);
			dbus_value = vala_gvariant_module_get_dbus_value (self, enum_value, vala_symbol_get_name ((ValaSymbol*) enum_value));
			vala_ccode_block_add_statement ((ValaCCodeBlock*) cswitch, (ValaCCodeNode*) (_tmp11_ = vala_ccode_case_statement_new ((ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new (_tmp9_ = vala_constant_get_cname ((ValaConstant*) enum_value))))));
			_vala_ccode_node_unref0 (_tmp11_);
			_vala_ccode_node_unref0 (_tmp10_);
			_g_free0 (_tmp9_);
			vala_ccode_block_add_statement ((ValaCCodeBlock*) cswitch, (ValaCCodeNode*) (_tmp16_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new ("str")), (ValaCCodeExpression*) (_tmp14_ = vala_ccode_constant_new (_tmp13_ = g_strdup_printf ("\"%s\"", dbus_value))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
			_vala_ccode_node_unref0 (_tmp16_);
			_vala_ccode_node_unref0 (_tmp15_);
			_vala_ccode_node_unref0 (_tmp14_);
			_g_free0 (_tmp13_);
			_vala_ccode_node_unref0 (_tmp12_);
			vala_ccode_block_add_statement ((ValaCCodeBlock*) cswitch, (ValaCCodeNode*) (_tmp17_ = vala_ccode_break_statement_new ()));
			_vala_ccode_node_unref0 (_tmp17_);
			_g_free0 (dbus_value);
			_vala_code_node_unref0 (enum_value);
		}
		_vala_collection_object_unref0 (_enum_value_it);
	}
	vala_ccode_block_add_statement (to_string_block, (ValaCCodeNode*) cswitch);
	vala_ccode_block_add_statement (to_string_block, (ValaCCodeNode*) (_tmp19_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new ("str")))));
	_vala_ccode_node_unref0 (_tmp19_);
	_vala_ccode_node_unref0 (_tmp18_);
	result = to_string_func;
	_vala_ccode_node_unref0 (cswitch);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_ccode_node_unref0 (to_string_block);
	_g_free0 (to_string_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_serialize_basic (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaGVariantModuleBasicTypeInfo* basic_type, ValaCCodeExpression* expr) {
	ValaCCodeExpression* result = NULL;
	char* _tmp0_;
	ValaCCodeIdentifier* _tmp1_;
	ValaCCodeFunctionCall* _tmp2_;
	ValaCCodeFunctionCall* new_call;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	new_call = (_tmp2_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp1_ = vala_ccode_identifier_new (_tmp0_ = g_strconcat ("g_variant_new_", (*basic_type).type_name, NULL)))), _vala_ccode_node_unref0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	vala_ccode_function_call_add_argument (new_call, expr);
	result = (ValaCCodeExpression*) new_call;
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_serialize_array (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, ValaCCodeExpression* array_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* array_iter_name;
	char* _tmp1_;
	ValaCCodeDeclaration* _tmp2_;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp3_;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeAssignment* _tmp5_;
	ValaCCodeExpressionStatement* _tmp6_;
	ValaCCodeIdentifier* _tmp7_;
	ValaCCodeExpression* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (array_type != NULL, NULL);
	g_return_val_if_fail (array_expr != NULL, NULL);
	array_iter_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	_cdecl_ = (_tmp2_ = vala_ccode_declaration_new (_tmp1_ = vala_data_type_get_cname ((ValaDataType*) array_type)), _g_free0 (_tmp1_), _tmp2_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp3_ = vala_ccode_variable_declarator_new (array_iter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp3_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp6_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new (array_iter_name)), array_expr, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp6_);
	_vala_ccode_node_unref0 (_tmp5_);
	_vala_ccode_node_unref0 (_tmp4_);
	result = (_tmp8_ = vala_gvariant_module_serialize_array_dim (self, fragment, array_type, 1, array_expr, (ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new (array_iter_name))), _vala_ccode_node_unref0 (_tmp7_), _tmp8_);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (array_iter_name);
	return result;
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (array_iter_name);
}


static ValaCCodeExpression* vala_gvariant_module_serialize_array_dim (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaArrayType* array_type, gint dim, ValaCCodeExpression* array_expr, ValaCCodeExpression* array_iter_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* builder_name;
	gint _tmp1_;
	char* index_name;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp2_;
	ValaCCodeDeclaration* _tmp3_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeIdentifier* _tmp5_;
	ValaCCodeFunctionCall* _tmp6_;
	ValaCCodeFunctionCall* builder_init;
	ValaCCodeIdentifier* _tmp7_;
	ValaCCodeUnaryExpression* _tmp8_;
	char* _tmp9_;
	char* _tmp10_;
	ValaCCodeConstant* _tmp11_;
	ValaCCodeExpressionStatement* _tmp12_;
	ValaCCodeBlock* cforblock;
	ValaCCodeFragment* cforfragment;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeExpression* _tmp14_;
	ValaCCodeBinaryExpression* _tmp15_;
	ValaCCodeForStatement* _tmp16_;
	ValaCCodeForStatement* cfor;
	ValaCCodeIdentifier* _tmp17_;
	ValaCCodeConstant* _tmp18_;
	ValaCCodeAssignment* _tmp19_;
	ValaCCodeIdentifier* _tmp20_;
	ValaCCodeUnaryExpression* _tmp21_;
	ValaCCodeExpression* element_variant;
	ValaCCodeIdentifier* _tmp24_;
	ValaCCodeFunctionCall* _tmp25_;
	ValaCCodeFunctionCall* builder_add;
	ValaCCodeIdentifier* _tmp26_;
	ValaCCodeUnaryExpression* _tmp27_;
	ValaCCodeExpressionStatement* _tmp28_;
	ValaCCodeIdentifier* _tmp30_;
	ValaCCodeFunctionCall* _tmp31_;
	ValaCCodeFunctionCall* builder_end;
	ValaCCodeIdentifier* _tmp32_;
	ValaCCodeUnaryExpression* _tmp33_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (array_type != NULL, NULL);
	g_return_val_if_fail (array_expr != NULL, NULL);
	g_return_val_if_fail (array_iter_expr != NULL, NULL);
	builder_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	index_name = g_strdup_printf ("_tmp%d_", (_tmp1_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp1_ + 1), _tmp1_));
	_cdecl_ = vala_ccode_declaration_new ("GVariantBuilder");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp2_ = vala_ccode_variable_declarator_new (builder_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp2_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp3_ = vala_ccode_declaration_new ("int"), _vala_ccode_node_unref0 (_cdecl_), _tmp3_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new (index_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	builder_init = (_tmp6_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_identifier_new ("g_variant_builder_init"))), _vala_ccode_node_unref0 (_tmp5_), _tmp6_);
	vala_ccode_function_call_add_argument (builder_init, (ValaCCodeExpression*) (_tmp8_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new (builder_name)))));
	_vala_ccode_node_unref0 (_tmp8_);
	_vala_ccode_node_unref0 (_tmp7_);
	vala_ccode_function_call_add_argument (builder_init, (ValaCCodeExpression*) (_tmp11_ = vala_ccode_constant_new (_tmp10_ = g_strdup_printf ("\"%s\"", _tmp9_ = vala_gvariant_module_get_type_signature ((ValaDataType*) array_type, NULL)))));
	_vala_ccode_node_unref0 (_tmp11_);
	_g_free0 (_tmp10_);
	_g_free0 (_tmp9_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp12_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) builder_init)));
	_vala_ccode_node_unref0 (_tmp12_);
	cforblock = vala_ccode_block_new ();
	cforfragment = vala_ccode_fragment_new ();
	vala_ccode_block_add_statement (cforblock, (ValaCCodeNode*) cforfragment);
	cfor = (_tmp16_ = vala_ccode_for_statement_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_LESS_THAN, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new (index_name)), _tmp14_ = vala_gvariant_module_get_array_length (self, array_expr, dim))), (ValaCCodeStatement*) cforblock), _vala_ccode_node_unref0 (_tmp15_), _vala_ccode_node_unref0 (_tmp14_), _vala_ccode_node_unref0 (_tmp13_), _tmp16_);
	vala_ccode_for_statement_add_initializer (cfor, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new (index_name)), (ValaCCodeExpression*) (_tmp18_ = vala_ccode_constant_new ("0")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)));
	_vala_ccode_node_unref0 (_tmp19_);
	_vala_ccode_node_unref0 (_tmp18_);
	_vala_ccode_node_unref0 (_tmp17_);
	vala_ccode_for_statement_add_iterator (cfor, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new (index_name)))));
	_vala_ccode_node_unref0 (_tmp21_);
	_vala_ccode_node_unref0 (_tmp20_);
	element_variant = NULL;
	if (dim < vala_array_type_get_rank (array_type)) {
		ValaCCodeExpression* _tmp22_;
		element_variant = (_tmp22_ = vala_gvariant_module_serialize_array_dim (self, cforfragment, array_type, dim + 1, array_expr, array_iter_expr), _vala_ccode_node_unref0 (element_variant), _tmp22_);
	} else {
		ValaCCodeUnaryExpression* element_expr;
		ValaCCodeExpression* _tmp23_;
		element_expr = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, array_iter_expr);
		element_variant = (_tmp23_ = vala_ccode_base_module_serialize_expression ((ValaCCodeBaseModule*) self, cforfragment, vala_array_type_get_element_type (array_type), (ValaCCodeExpression*) element_expr), _vala_ccode_node_unref0 (element_variant), _tmp23_);
		_vala_ccode_node_unref0 (element_expr);
	}
	builder_add = (_tmp25_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp24_ = vala_ccode_identifier_new ("g_variant_builder_add_value"))), _vala_ccode_node_unref0 (_tmp24_), _tmp25_);
	vala_ccode_function_call_add_argument (builder_add, (ValaCCodeExpression*) (_tmp27_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new (builder_name)))));
	_vala_ccode_node_unref0 (_tmp27_);
	_vala_ccode_node_unref0 (_tmp26_);
	vala_ccode_function_call_add_argument (builder_add, element_variant);
	vala_ccode_fragment_append (cforfragment, (ValaCCodeNode*) (_tmp28_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) builder_add)));
	_vala_ccode_node_unref0 (_tmp28_);
	if (dim == vala_array_type_get_rank (array_type)) {
		ValaCCodeUnaryExpression* array_iter_incr;
		ValaCCodeExpressionStatement* _tmp29_;
		array_iter_incr = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT, array_iter_expr);
		vala_ccode_fragment_append (cforfragment, (ValaCCodeNode*) (_tmp29_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) array_iter_incr)));
		_vala_ccode_node_unref0 (_tmp29_);
		_vala_ccode_node_unref0 (array_iter_incr);
	}
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) cfor);
	builder_end = (_tmp31_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp30_ = vala_ccode_identifier_new ("g_variant_builder_end"))), _vala_ccode_node_unref0 (_tmp30_), _tmp31_);
	vala_ccode_function_call_add_argument (builder_end, (ValaCCodeExpression*) (_tmp33_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new (builder_name)))));
	_vala_ccode_node_unref0 (_tmp33_);
	_vala_ccode_node_unref0 (_tmp32_);
	result = (ValaCCodeExpression*) builder_end;
	_vala_ccode_node_unref0 (builder_add);
	_vala_ccode_node_unref0 (element_variant);
	_vala_ccode_node_unref0 (cfor);
	_vala_ccode_node_unref0 (cforfragment);
	_vala_ccode_node_unref0 (cforblock);
	_vala_ccode_node_unref0 (builder_init);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (index_name);
	_g_free0 (builder_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_serialize_struct (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaStruct* st, ValaCCodeExpression* struct_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* builder_name;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp1_;
	ValaCCodeIdentifier* _tmp2_;
	ValaCCodeFunctionCall* _tmp3_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeIdentifier* _tmp4_;
	ValaCCodeUnaryExpression* _tmp5_;
	ValaCCodeIdentifier* _tmp6_;
	ValaCCodeExpressionStatement* _tmp7_;
	gboolean field_found;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeFunctionCall* _tmp14_;
	ValaCCodeFunctionCall* builder_end;
	ValaCCodeIdentifier* _tmp15_;
	ValaCCodeUnaryExpression* _tmp16_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (st != NULL, NULL);
	g_return_val_if_fail (struct_expr != NULL, NULL);
	builder_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	_cdecl_ = vala_ccode_declaration_new ("GVariantBuilder");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp1_ = vala_ccode_variable_declarator_new (builder_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp1_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	iter_call = (_tmp3_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp2_ = vala_ccode_identifier_new ("g_variant_builder_init"))), _vala_ccode_node_unref0 (_tmp2_), _tmp3_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp5_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp4_ = vala_ccode_identifier_new (builder_name)))));
	_vala_ccode_node_unref0 (_tmp5_);
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp6_ = vala_ccode_identifier_new ("G_VARIANT_TYPE_TUPLE")));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp7_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp7_);
	field_found = FALSE;
	;
	{
		ValaList* _tmp8_;
		ValaIterator* _tmp9_;
		ValaIterator* _f_it;
		_f_it = (_tmp9_ = vala_iterable_iterator ((ValaIterable*) (_tmp8_ = vala_struct_get_fields (st))), _vala_collection_object_unref0 (_tmp8_), _tmp9_);
		while (TRUE) {
			ValaField* f;
			ValaCCodeIdentifier* _tmp10_;
			char* _tmp11_;
			ValaCCodeMemberAccess* _tmp12_;
			if (!vala_iterator_next (_f_it)) {
				break;
			}
			f = (ValaField*) vala_iterator_get (_f_it);
			if (vala_field_get_binding (f) != MEMBER_BINDING_INSTANCE) {
				_vala_code_node_unref0 (f);
				continue;
			}
			field_found = TRUE;
			vala_gvariant_module_write_expression (self, fragment, vala_variable_get_variable_type ((ValaVariable*) f), (ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new (builder_name)), (ValaCCodeExpression*) (_tmp12_ = vala_ccode_member_access_new (struct_expr, _tmp11_ = vala_field_get_cname (f), FALSE)), (ValaSymbol*) f);
			_vala_ccode_node_unref0 (_tmp12_);
			_g_free0 (_tmp11_);
			_vala_ccode_node_unref0 (_tmp10_);
			_vala_code_node_unref0 (f);
		}
		_vala_collection_object_unref0 (_f_it);
	}
	if (!field_found) {
		result = NULL;
		_vala_ccode_node_unref0 (iter_call);
		_vala_ccode_node_unref0 (_cdecl_);
		_g_free0 (builder_name);
		return result;
	}
	builder_end = (_tmp14_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("g_variant_builder_end"))), _vala_ccode_node_unref0 (_tmp13_), _tmp14_);
	vala_ccode_function_call_add_argument (builder_end, (ValaCCodeExpression*) (_tmp16_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new (builder_name)))));
	_vala_ccode_node_unref0 (_tmp16_);
	_vala_ccode_node_unref0 (_tmp15_);
	result = (ValaCCodeExpression*) builder_end;
	_vala_ccode_node_unref0 (iter_call);
	_vala_ccode_node_unref0 (_cdecl_);
	_g_free0 (builder_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_serialize_hash_table (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaObjectType* type, ValaCCodeExpression* hash_table_expr) {
	ValaCCodeExpression* result = NULL;
	gint _tmp0_;
	char* subiter_name;
	gint _tmp1_;
	char* tableiter_name;
	gint _tmp2_;
	char* key_name;
	gint _tmp3_;
	char* value_name;
	ValaList* type_args;
	ValaDataType* key_type;
	ValaDataType* value_type;
	ValaCCodeDeclaration* _cdecl_;
	ValaCCodeVariableDeclarator* _tmp4_;
	ValaCCodeDeclaration* _tmp5_;
	ValaCCodeVariableDeclarator* _tmp6_;
	ValaCCodeDeclaration* _tmp7_;
	ValaCCodeVariableDeclarator* _tmp8_;
	ValaCCodeVariableDeclarator* _tmp9_;
	ValaCCodeIdentifier* _tmp10_;
	ValaCCodeFunctionCall* _tmp11_;
	ValaCCodeFunctionCall* iter_init_call;
	ValaCCodeIdentifier* _tmp12_;
	ValaCCodeUnaryExpression* _tmp13_;
	ValaCCodeExpressionStatement* _tmp14_;
	ValaCCodeIdentifier* _tmp15_;
	ValaCCodeFunctionCall* _tmp16_;
	ValaCCodeFunctionCall* gvariant_type;
	char* _tmp17_;
	char* _tmp18_;
	ValaCCodeConstant* _tmp19_;
	ValaCCodeIdentifier* _tmp20_;
	ValaCCodeFunctionCall* _tmp21_;
	ValaCCodeFunctionCall* iter_call;
	ValaCCodeIdentifier* _tmp22_;
	ValaCCodeUnaryExpression* _tmp23_;
	ValaCCodeExpressionStatement* _tmp24_;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeFunctionCall* _tmp26_;
	ValaCCodeFunctionCall* iter_next_call;
	ValaCCodeIdentifier* _tmp27_;
	ValaCCodeUnaryExpression* _tmp28_;
	ValaCCodeIdentifier* _tmp29_;
	ValaCCodeUnaryExpression* _tmp30_;
	ValaCCodeIdentifier* _tmp31_;
	ValaCCodeUnaryExpression* _tmp32_;
	ValaCCodeBlock* cwhileblock;
	ValaCCodeFragment* cwhilefragment;
	ValaCCodeWhileStatement* cwhile;
	char* _tmp33_;
	ValaCCodeDeclaration* _tmp34_;
	ValaCCodeVariableDeclarator* _tmp35_;
	char* _tmp36_;
	ValaCCodeDeclaration* _tmp37_;
	ValaCCodeVariableDeclarator* _tmp38_;
	ValaCCodeIdentifier* _tmp39_;
	ValaCCodeIdentifier* _tmp40_;
	ValaCCodeExpression* _tmp41_;
	ValaCCodeAssignment* _tmp42_;
	ValaCCodeExpressionStatement* _tmp43_;
	ValaCCodeIdentifier* _tmp44_;
	ValaCCodeIdentifier* _tmp45_;
	ValaCCodeExpression* _tmp46_;
	ValaCCodeAssignment* _tmp47_;
	ValaCCodeExpressionStatement* _tmp48_;
	ValaCCodeIdentifier* _tmp49_;
	ValaCCodeFunctionCall* _tmp50_;
	ValaCCodeIdentifier* _tmp51_;
	ValaCCodeUnaryExpression* _tmp52_;
	ValaCCodeConstant* _tmp53_;
	ValaCCodeIdentifier* _tmp54_;
	ValaCCodeExpression* _tmp55_;
	ValaCCodeIdentifier* _tmp56_;
	ValaCCodeExpression* _tmp57_;
	ValaCCodeExpressionStatement* _tmp58_;
	ValaCCodeIdentifier* _tmp59_;
	ValaCCodeFunctionCall* _tmp60_;
	ValaCCodeIdentifier* _tmp61_;
	ValaCCodeUnaryExpression* _tmp62_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (hash_table_expr != NULL, NULL);
	subiter_name = g_strdup_printf ("_tmp%d_", (_tmp0_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp0_ + 1), _tmp0_));
	tableiter_name = g_strdup_printf ("_tmp%d_", (_tmp1_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp1_ + 1), _tmp1_));
	key_name = g_strdup_printf ("_tmp%d_", (_tmp2_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp2_ + 1), _tmp2_));
	value_name = g_strdup_printf ("_tmp%d_", (_tmp3_ = vala_ccode_base_module_get_next_temp_var_id ((ValaCCodeBaseModule*) self), vala_ccode_base_module_set_next_temp_var_id ((ValaCCodeBaseModule*) self, _tmp3_ + 1), _tmp3_));
	type_args = vala_data_type_get_type_arguments ((ValaDataType*) type);
	g_assert (vala_collection_get_size ((ValaCollection*) type_args) == 2);
	key_type = (ValaDataType*) vala_list_get (type_args, 0);
	value_type = (ValaDataType*) vala_list_get (type_args, 1);
	_cdecl_ = vala_ccode_declaration_new ("GVariantBuilder");
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp4_ = vala_ccode_variable_declarator_new (subiter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp4_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp5_ = vala_ccode_declaration_new ("GHashTableIter"), _vala_ccode_node_unref0 (_cdecl_), _tmp5_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp6_ = vala_ccode_variable_declarator_new (tableiter_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp7_ = vala_ccode_declaration_new ("gpointer"), _vala_ccode_node_unref0 (_cdecl_), _tmp7_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new (key_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp8_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp9_ = vala_ccode_variable_declarator_new (value_name, NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp9_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) _cdecl_);
	iter_init_call = (_tmp11_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp10_ = vala_ccode_identifier_new ("g_hash_table_iter_init"))), _vala_ccode_node_unref0 (_tmp10_), _tmp11_);
	vala_ccode_function_call_add_argument (iter_init_call, (ValaCCodeExpression*) (_tmp13_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new (tableiter_name)))));
	_vala_ccode_node_unref0 (_tmp13_);
	_vala_ccode_node_unref0 (_tmp12_);
	vala_ccode_function_call_add_argument (iter_init_call, hash_table_expr);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp14_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_init_call)));
	_vala_ccode_node_unref0 (_tmp14_);
	gvariant_type = (_tmp16_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("G_VARIANT_TYPE"))), _vala_ccode_node_unref0 (_tmp15_), _tmp16_);
	vala_ccode_function_call_add_argument (gvariant_type, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_constant_new (_tmp18_ = g_strdup_printf ("\"%s\"", _tmp17_ = vala_gvariant_module_get_type_signature ((ValaDataType*) type, NULL)))));
	_vala_ccode_node_unref0 (_tmp19_);
	_g_free0 (_tmp18_);
	_g_free0 (_tmp17_);
	iter_call = (_tmp21_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("g_variant_builder_init"))), _vala_ccode_node_unref0 (_tmp20_), _tmp21_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp23_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp22_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp23_);
	_vala_ccode_node_unref0 (_tmp22_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) gvariant_type);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp24_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp24_);
	iter_next_call = (_tmp26_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("g_hash_table_iter_next"))), _vala_ccode_node_unref0 (_tmp25_), _tmp26_);
	vala_ccode_function_call_add_argument (iter_next_call, (ValaCCodeExpression*) (_tmp28_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp27_ = vala_ccode_identifier_new (tableiter_name)))));
	_vala_ccode_node_unref0 (_tmp28_);
	_vala_ccode_node_unref0 (_tmp27_);
	vala_ccode_function_call_add_argument (iter_next_call, (ValaCCodeExpression*) (_tmp30_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp29_ = vala_ccode_identifier_new (key_name)))));
	_vala_ccode_node_unref0 (_tmp30_);
	_vala_ccode_node_unref0 (_tmp29_);
	vala_ccode_function_call_add_argument (iter_next_call, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp31_ = vala_ccode_identifier_new (value_name)))));
	_vala_ccode_node_unref0 (_tmp32_);
	_vala_ccode_node_unref0 (_tmp31_);
	cwhileblock = vala_ccode_block_new ();
	cwhilefragment = vala_ccode_fragment_new ();
	vala_ccode_block_add_statement (cwhileblock, (ValaCCodeNode*) cwhilefragment);
	cwhile = vala_ccode_while_statement_new ((ValaCCodeExpression*) iter_next_call, (ValaCCodeStatement*) cwhileblock);
	_cdecl_ = (_tmp34_ = vala_ccode_declaration_new (_tmp33_ = vala_data_type_get_cname (key_type)), _vala_ccode_node_unref0 (_cdecl_), _tmp34_);
	_g_free0 (_tmp33_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp35_ = vala_ccode_variable_declarator_new ("_key", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp35_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) _cdecl_);
	_cdecl_ = (_tmp37_ = vala_ccode_declaration_new (_tmp36_ = vala_data_type_get_cname (value_type)), _vala_ccode_node_unref0 (_cdecl_), _tmp37_);
	_g_free0 (_tmp36_);
	vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp38_ = vala_ccode_variable_declarator_new ("_value", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp38_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) _cdecl_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) (_tmp43_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp42_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp39_ = vala_ccode_identifier_new ("_key")), _tmp41_ = vala_ccode_base_module_convert_from_generic_pointer ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new (key_name)), key_type), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp43_);
	_vala_ccode_node_unref0 (_tmp42_);
	_vala_ccode_node_unref0 (_tmp41_);
	_vala_ccode_node_unref0 (_tmp40_);
	_vala_ccode_node_unref0 (_tmp39_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) (_tmp48_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp47_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp44_ = vala_ccode_identifier_new ("_value")), _tmp46_ = vala_ccode_base_module_convert_from_generic_pointer ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp45_ = vala_ccode_identifier_new (value_name)), value_type), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp48_);
	_vala_ccode_node_unref0 (_tmp47_);
	_vala_ccode_node_unref0 (_tmp46_);
	_vala_ccode_node_unref0 (_tmp45_);
	_vala_ccode_node_unref0 (_tmp44_);
	iter_call = (_tmp50_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp49_ = vala_ccode_identifier_new ("g_variant_builder_add"))), _vala_ccode_node_unref0 (iter_call), _tmp50_);
	_vala_ccode_node_unref0 (_tmp49_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp52_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp51_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp52_);
	_vala_ccode_node_unref0 (_tmp51_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp53_ = vala_ccode_constant_new ("\"{?*}\"")));
	_vala_ccode_node_unref0 (_tmp53_);
	vala_ccode_function_call_add_argument (iter_call, _tmp55_ = vala_ccode_base_module_serialize_expression ((ValaCCodeBaseModule*) self, cwhilefragment, key_type, (ValaCCodeExpression*) (_tmp54_ = vala_ccode_identifier_new ("_key"))));
	_vala_ccode_node_unref0 (_tmp55_);
	_vala_ccode_node_unref0 (_tmp54_);
	vala_ccode_function_call_add_argument (iter_call, _tmp57_ = vala_ccode_base_module_serialize_expression ((ValaCCodeBaseModule*) self, cwhilefragment, value_type, (ValaCCodeExpression*) (_tmp56_ = vala_ccode_identifier_new ("_value"))));
	_vala_ccode_node_unref0 (_tmp57_);
	_vala_ccode_node_unref0 (_tmp56_);
	vala_ccode_fragment_append (cwhilefragment, (ValaCCodeNode*) (_tmp58_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) iter_call)));
	_vala_ccode_node_unref0 (_tmp58_);
	vala_ccode_fragment_append (fragment, (ValaCCodeNode*) cwhile);
	iter_call = (_tmp60_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp59_ = vala_ccode_identifier_new ("g_variant_builder_end"))), _vala_ccode_node_unref0 (iter_call), _tmp60_);
	_vala_ccode_node_unref0 (_tmp59_);
	vala_ccode_function_call_add_argument (iter_call, (ValaCCodeExpression*) (_tmp62_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) (_tmp61_ = vala_ccode_identifier_new (subiter_name)))));
	_vala_ccode_node_unref0 (_tmp62_);
	_vala_ccode_node_unref0 (_tmp61_);
	result = (ValaCCodeExpression*) iter_call;
	_vala_ccode_node_unref0 (cwhile);
	_vala_ccode_node_unref0 (cwhilefragment);
	_vala_ccode_node_unref0 (cwhileblock);
	_vala_ccode_node_unref0 (iter_next_call);
	_vala_ccode_node_unref0 (gvariant_type);
	_vala_ccode_node_unref0 (iter_init_call);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_code_node_unref0 (value_type);
	_vala_code_node_unref0 (key_type);
	_vala_collection_object_unref0 (type_args);
	_g_free0 (value_name);
	_g_free0 (key_name);
	_g_free0 (tableiter_name);
	_g_free0 (subiter_name);
	return result;
}


static ValaCCodeExpression* vala_gvariant_module_real_serialize_expression (ValaCCodeBaseModule* base, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr) {
	ValaGVariantModule * self;
	ValaCCodeExpression* result = NULL;
	ValaGVariantModuleBasicTypeInfo basic_type = {0};
	ValaCCodeExpression* _result_;
	self = (ValaGVariantModule*) base;
	g_return_val_if_fail (fragment != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	_result_ = NULL;
	if (vala_gvariant_module_is_string_marshalled_enum (vala_data_type_get_data_type (type))) {
		ValaDataType* _tmp0_;
		ValaCCodeExpression* _tmp1_;
		ValaCCodeExpression* _tmp2_;
		vala_gvariant_module_get_basic_type_info (self, "s", &basic_type);
		_result_ = (_tmp1_ = vala_gvariant_module_generate_enum_value_to_string (self, fragment, (_tmp0_ = type, VALA_IS_ENUM_VALUE_TYPE (_tmp0_) ? ((ValaEnumValueType*) _tmp0_) : NULL), expr), _vala_ccode_node_unref0 (_result_), _tmp1_);
		_result_ = (_tmp2_ = vala_gvariant_module_serialize_basic (self, fragment, &basic_type, _result_), _vala_ccode_node_unref0 (_result_), _tmp2_);
	} else {
		char* _tmp3_;
		gboolean _tmp4_;
		if ((_tmp4_ = vala_gvariant_module_get_basic_type_info (self, _tmp3_ = vala_gvariant_module_get_type_signature (type, NULL), &basic_type), _g_free0 (_tmp3_), _tmp4_)) {
			ValaCCodeExpression* _tmp5_;
			_result_ = (_tmp5_ = vala_gvariant_module_serialize_basic (self, fragment, &basic_type, expr), _vala_ccode_node_unref0 (_result_), _tmp5_);
		} else {
			if (VALA_IS_ARRAY_TYPE (type)) {
				ValaCCodeExpression* _tmp6_;
				_result_ = (_tmp6_ = vala_gvariant_module_serialize_array (self, fragment, VALA_ARRAY_TYPE (type), expr), _vala_ccode_node_unref0 (_result_), _tmp6_);
			} else {
				if (VALA_IS_STRUCT (vala_data_type_get_data_type (type))) {
					ValaCCodeExpression* st_expr;
					ValaCCodeExpression* _tmp8_;
					st_expr = _vala_ccode_node_ref0 (expr);
					if (vala_data_type_get_nullable (type)) {
						ValaCCodeExpression* _tmp7_;
						st_expr = (_tmp7_ = (ValaCCodeExpression*) vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, st_expr), _vala_ccode_node_unref0 (st_expr), _tmp7_);
					}
					_result_ = (_tmp8_ = vala_gvariant_module_serialize_struct (self, fragment, VALA_STRUCT (vala_data_type_get_data_type (type)), st_expr), _vala_ccode_node_unref0 (_result_), _tmp8_);
					_vala_ccode_node_unref0 (st_expr);
				} else {
					if (VALA_IS_OBJECT_TYPE (type)) {
						char* _tmp9_;
						gboolean _tmp10_;
						if ((_tmp10_ = _vala_strcmp0 (_tmp9_ = vala_symbol_get_full_name ((ValaSymbol*) vala_data_type_get_data_type (type)), "GLib.Variant") == 0, _g_free0 (_tmp9_), _tmp10_)) {
							ValaCCodeIdentifier* _tmp11_;
							ValaCCodeFunctionCall* _tmp12_;
							ValaCCodeFunctionCall* variant_new;
							ValaCCodeExpression* _tmp13_;
							variant_new = (_tmp12_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_identifier_new ("g_variant_new_variant"))), _vala_ccode_node_unref0 (_tmp11_), _tmp12_);
							vala_ccode_function_call_add_argument (variant_new, expr);
							_result_ = (_tmp13_ = _vala_ccode_node_ref0 ((ValaCCodeExpression*) variant_new), _vala_ccode_node_unref0 (_result_), _tmp13_);
							_vala_ccode_node_unref0 (variant_new);
						} else {
							char* _tmp14_;
							gboolean _tmp15_;
							if ((_tmp15_ = _vala_strcmp0 (_tmp14_ = vala_symbol_get_full_name ((ValaSymbol*) vala_data_type_get_data_type (type)), "GLib.HashTable") == 0, _g_free0 (_tmp14_), _tmp15_)) {
								ValaCCodeExpression* _tmp16_;
								_result_ = (_tmp16_ = vala_gvariant_module_serialize_hash_table (self, fragment, VALA_OBJECT_TYPE (type), expr), _vala_ccode_node_unref0 (_result_), _tmp16_);
							}
						}
					}
				}
			}
		}
	}
	if (_result_ == NULL) {
		char* _tmp17_;
		char* _tmp18_;
		vala_report_error (vala_code_node_get_source_reference ((ValaCodeNode*) type), _tmp18_ = g_strdup_printf ("GVariant serialization of type `%s' is not supported", _tmp17_ = vala_code_node_to_string ((ValaCodeNode*) type)));
		_g_free0 (_tmp18_);
		_g_free0 (_tmp17_);
	}
	result = _result_;
	return result;
}


void vala_gvariant_module_write_expression (ValaGVariantModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* builder_expr, ValaCCodeExpression* expr, ValaSymbol* sym) {
	ValaCCodeExpression* variant_expr;
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (fragment != NULL);
	g_return_if_fail (type != NULL);
	g_return_if_fail (builder_expr != NULL);
	g_return_if_fail (expr != NULL);
	variant_expr = _vala_ccode_node_ref0 (expr);
	if (sym == NULL) {
		_tmp0_ = TRUE;
	} else {
		char* _tmp1_;
		_tmp0_ = (_tmp1_ = vala_gvariant_module_get_dbus_signature (sym)) == NULL;
		_g_free0 (_tmp1_);
	}
	if (_tmp0_) {
		ValaCCodeExpression* _tmp2_;
		variant_expr = (_tmp2_ = vala_ccode_base_module_serialize_expression ((ValaCCodeBaseModule*) self, fragment, type, expr), _vala_ccode_node_unref0 (variant_expr), _tmp2_);
	}
	if (variant_expr != NULL) {
		ValaCCodeIdentifier* _tmp3_;
		ValaCCodeFunctionCall* _tmp4_;
		ValaCCodeFunctionCall* builder_add;
		ValaCCodeUnaryExpression* _tmp5_;
		ValaCCodeExpressionStatement* _tmp6_;
		builder_add = (_tmp4_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new ("g_variant_builder_add_value"))), _vala_ccode_node_unref0 (_tmp3_), _tmp4_);
		vala_ccode_function_call_add_argument (builder_add, (ValaCCodeExpression*) (_tmp5_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, builder_expr)));
		_vala_ccode_node_unref0 (_tmp5_);
		vala_ccode_function_call_add_argument (builder_add, variant_expr);
		vala_ccode_fragment_append (fragment, (ValaCCodeNode*) (_tmp6_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) builder_add)));
		_vala_ccode_node_unref0 (_tmp6_);
		_vala_ccode_node_unref0 (builder_add);
	}
	_vala_ccode_node_unref0 (variant_expr);
}


ValaGVariantModule* vala_gvariant_module_construct (GType object_type) {
	ValaGVariantModule* self = NULL;
	self = (ValaGVariantModule*) vala_gasync_module_construct (object_type);
	return self;
}


ValaGVariantModule* vala_gvariant_module_new (void) {
	return vala_gvariant_module_construct (VALA_TYPE_GVARIANT_MODULE);
}


static ValaGVariantModuleBasicTypeInfo* vala_gvariant_module_basic_type_info_dup (const ValaGVariantModuleBasicTypeInfo* self) {
	ValaGVariantModuleBasicTypeInfo* dup;
	dup = g_new0 (ValaGVariantModuleBasicTypeInfo, 1);
	memcpy (dup, self, sizeof (ValaGVariantModuleBasicTypeInfo));
	return dup;
}


static void vala_gvariant_module_basic_type_info_free (ValaGVariantModuleBasicTypeInfo* self) {
	g_free (self);
}


static GType vala_gvariant_module_basic_type_info_get_type (void) {
	static volatile gsize vala_gvariant_module_basic_type_info_type_id__volatile = 0;
	if (g_once_init_enter (&vala_gvariant_module_basic_type_info_type_id__volatile)) {
		GType vala_gvariant_module_basic_type_info_type_id;
		vala_gvariant_module_basic_type_info_type_id = g_boxed_type_register_static ("ValaGVariantModuleBasicTypeInfo", (GBoxedCopyFunc) vala_gvariant_module_basic_type_info_dup, (GBoxedFreeFunc) vala_gvariant_module_basic_type_info_free);
		g_once_init_leave (&vala_gvariant_module_basic_type_info_type_id__volatile, vala_gvariant_module_basic_type_info_type_id);
	}
	return vala_gvariant_module_basic_type_info_type_id__volatile;
}


static void vala_gvariant_module_class_init (ValaGVariantModuleClass * klass) {
	vala_gvariant_module_parent_class = g_type_class_peek_parent (klass);
	VALA_CODE_VISITOR_CLASS (klass)->visit_enum = vala_gvariant_module_real_visit_enum;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_enum_declaration = vala_gvariant_module_real_generate_enum_declaration;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->deserialize_expression = vala_gvariant_module_real_deserialize_expression;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->serialize_expression = vala_gvariant_module_real_serialize_expression;
}


static void vala_gvariant_module_instance_init (ValaGVariantModule * self) {
}


GType vala_gvariant_module_get_type (void) {
	static volatile gsize vala_gvariant_module_type_id__volatile = 0;
	if (g_once_init_enter (&vala_gvariant_module_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ValaGVariantModuleClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_gvariant_module_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaGVariantModule), 0, (GInstanceInitFunc) vala_gvariant_module_instance_init, NULL };
		GType vala_gvariant_module_type_id;
		vala_gvariant_module_type_id = g_type_register_static (VALA_TYPE_GASYNC_MODULE, "ValaGVariantModule", &g_define_type_info, 0);
		g_once_init_leave (&vala_gvariant_module_type_id__volatile, vala_gvariant_module_type_id);
	}
	return vala_gvariant_module_type_id__volatile;
}


static int _vala_strcmp0 (const char * str1, const char * str2) {
	if (str1 == NULL) {
		return -(str1 != str2);
	}
	if (str2 == NULL) {
		return str1 != str2;
	}
	return strcmp (str1, str2);
}




