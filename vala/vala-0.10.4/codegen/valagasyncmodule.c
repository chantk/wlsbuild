/* valagasyncmodule.c generated by valac, the Vala compiler
 * generated from valagasyncmodule.vala, do not modify */

/* valagasyncmodule.vala
 *
 * Copyright (C) 2008-2010  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include <glib.h>
#include <glib-object.h>
#include <vala.h>
#include <valagee.h>
#include <valaccode.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>


#define VALA_TYPE_CCODE_BASE_MODULE (vala_ccode_base_module_get_type ())
#define VALA_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModule))
#define VALA_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))
#define VALA_IS_CCODE_BASE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_IS_CCODE_BASE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_BASE_MODULE))
#define VALA_CCODE_BASE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_BASE_MODULE, ValaCCodeBaseModuleClass))

typedef struct _ValaCCodeBaseModule ValaCCodeBaseModule;
typedef struct _ValaCCodeBaseModuleClass ValaCCodeBaseModuleClass;
typedef struct _ValaCCodeBaseModulePrivate ValaCCodeBaseModulePrivate;

#define VALA_TYPE_CCODE_DECLARATION_SPACE (vala_ccode_declaration_space_get_type ())
#define VALA_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpace))
#define VALA_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))
#define VALA_IS_CCODE_DECLARATION_SPACE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_IS_CCODE_DECLARATION_SPACE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DECLARATION_SPACE))
#define VALA_CCODE_DECLARATION_SPACE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DECLARATION_SPACE, ValaCCodeDeclarationSpaceClass))

typedef struct _ValaCCodeDeclarationSpace ValaCCodeDeclarationSpace;
typedef struct _ValaCCodeDeclarationSpaceClass ValaCCodeDeclarationSpaceClass;

#define VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT (vala_ccode_base_module_emit_context_get_type ())
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContext))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_IS_EMIT_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT))
#define VALA_CCODE_BASE_MODULE_EMIT_CONTEXT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, ValaCCodeBaseModuleEmitContextClass))

typedef struct _ValaCCodeBaseModuleEmitContext ValaCCodeBaseModuleEmitContext;
typedef struct _ValaCCodeBaseModuleEmitContextClass ValaCCodeBaseModuleEmitContextClass;

#define VALA_TYPE_CCODE_STRUCT_MODULE (vala_ccode_struct_module_get_type ())
#define VALA_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModule))
#define VALA_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))
#define VALA_IS_CCODE_STRUCT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_IS_CCODE_STRUCT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_STRUCT_MODULE))
#define VALA_CCODE_STRUCT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_STRUCT_MODULE, ValaCCodeStructModuleClass))

typedef struct _ValaCCodeStructModule ValaCCodeStructModule;
typedef struct _ValaCCodeStructModuleClass ValaCCodeStructModuleClass;
typedef struct _ValaCCodeStructModulePrivate ValaCCodeStructModulePrivate;

#define VALA_TYPE_CCODE_METHOD_MODULE (vala_ccode_method_module_get_type ())
#define VALA_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModule))
#define VALA_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))
#define VALA_IS_CCODE_METHOD_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_IS_CCODE_METHOD_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_MODULE))
#define VALA_CCODE_METHOD_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_MODULE, ValaCCodeMethodModuleClass))

typedef struct _ValaCCodeMethodModule ValaCCodeMethodModule;
typedef struct _ValaCCodeMethodModuleClass ValaCCodeMethodModuleClass;
typedef struct _ValaCCodeMethodModulePrivate ValaCCodeMethodModulePrivate;

#define VALA_TYPE_CCODE_CONTROL_FLOW_MODULE (vala_ccode_control_flow_module_get_type ())
#define VALA_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModule))
#define VALA_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_IS_CCODE_CONTROL_FLOW_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE))
#define VALA_CCODE_CONTROL_FLOW_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_CONTROL_FLOW_MODULE, ValaCCodeControlFlowModuleClass))

typedef struct _ValaCCodeControlFlowModule ValaCCodeControlFlowModule;
typedef struct _ValaCCodeControlFlowModuleClass ValaCCodeControlFlowModuleClass;
typedef struct _ValaCCodeControlFlowModulePrivate ValaCCodeControlFlowModulePrivate;

#define VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE (vala_ccode_member_access_module_get_type ())
#define VALA_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModule))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_IS_CCODE_MEMBER_ACCESS_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE))
#define VALA_CCODE_MEMBER_ACCESS_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_MEMBER_ACCESS_MODULE, ValaCCodeMemberAccessModuleClass))

typedef struct _ValaCCodeMemberAccessModule ValaCCodeMemberAccessModule;
typedef struct _ValaCCodeMemberAccessModuleClass ValaCCodeMemberAccessModuleClass;
typedef struct _ValaCCodeMemberAccessModulePrivate ValaCCodeMemberAccessModulePrivate;

#define VALA_TYPE_CCODE_ASSIGNMENT_MODULE (vala_ccode_assignment_module_get_type ())
#define VALA_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModule))
#define VALA_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_IS_CCODE_ASSIGNMENT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ASSIGNMENT_MODULE))
#define VALA_CCODE_ASSIGNMENT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ASSIGNMENT_MODULE, ValaCCodeAssignmentModuleClass))

typedef struct _ValaCCodeAssignmentModule ValaCCodeAssignmentModule;
typedef struct _ValaCCodeAssignmentModuleClass ValaCCodeAssignmentModuleClass;
typedef struct _ValaCCodeAssignmentModulePrivate ValaCCodeAssignmentModulePrivate;

#define VALA_TYPE_CCODE_METHOD_CALL_MODULE (vala_ccode_method_call_module_get_type ())
#define VALA_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModule))
#define VALA_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))
#define VALA_IS_CCODE_METHOD_CALL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_IS_CCODE_METHOD_CALL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_METHOD_CALL_MODULE))
#define VALA_CCODE_METHOD_CALL_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_METHOD_CALL_MODULE, ValaCCodeMethodCallModuleClass))

typedef struct _ValaCCodeMethodCallModule ValaCCodeMethodCallModule;
typedef struct _ValaCCodeMethodCallModuleClass ValaCCodeMethodCallModuleClass;
typedef struct _ValaCCodeMethodCallModulePrivate ValaCCodeMethodCallModulePrivate;

#define VALA_TYPE_CCODE_ARRAY_MODULE (vala_ccode_array_module_get_type ())
#define VALA_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModule))
#define VALA_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))
#define VALA_IS_CCODE_ARRAY_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_IS_CCODE_ARRAY_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_ARRAY_MODULE))
#define VALA_CCODE_ARRAY_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_ARRAY_MODULE, ValaCCodeArrayModuleClass))

typedef struct _ValaCCodeArrayModule ValaCCodeArrayModule;
typedef struct _ValaCCodeArrayModuleClass ValaCCodeArrayModuleClass;
typedef struct _ValaCCodeArrayModulePrivate ValaCCodeArrayModulePrivate;

#define VALA_TYPE_CCODE_DELEGATE_MODULE (vala_ccode_delegate_module_get_type ())
#define VALA_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModule))
#define VALA_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))
#define VALA_IS_CCODE_DELEGATE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_IS_CCODE_DELEGATE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CCODE_DELEGATE_MODULE))
#define VALA_CCODE_DELEGATE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CCODE_DELEGATE_MODULE, ValaCCodeDelegateModuleClass))

typedef struct _ValaCCodeDelegateModule ValaCCodeDelegateModule;
typedef struct _ValaCCodeDelegateModuleClass ValaCCodeDelegateModuleClass;
typedef struct _ValaCCodeDelegateModulePrivate ValaCCodeDelegateModulePrivate;

#define VALA_TYPE_GERROR_MODULE (vala_gerror_module_get_type ())
#define VALA_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModule))
#define VALA_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))
#define VALA_IS_GERROR_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GERROR_MODULE))
#define VALA_IS_GERROR_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GERROR_MODULE))
#define VALA_GERROR_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GERROR_MODULE, ValaGErrorModuleClass))

typedef struct _ValaGErrorModule ValaGErrorModule;
typedef struct _ValaGErrorModuleClass ValaGErrorModuleClass;
typedef struct _ValaGErrorModulePrivate ValaGErrorModulePrivate;

#define VALA_TYPE_GTYPE_MODULE (vala_gtype_module_get_type ())
#define VALA_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModule))
#define VALA_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))
#define VALA_IS_GTYPE_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GTYPE_MODULE))
#define VALA_IS_GTYPE_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GTYPE_MODULE))
#define VALA_GTYPE_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GTYPE_MODULE, ValaGTypeModuleClass))

typedef struct _ValaGTypeModule ValaGTypeModule;
typedef struct _ValaGTypeModuleClass ValaGTypeModuleClass;
typedef struct _ValaGTypeModulePrivate ValaGTypeModulePrivate;

#define VALA_TYPE_TYPEREGISTER_FUNCTION (vala_typeregister_function_get_type ())
#define VALA_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunction))
#define VALA_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))
#define VALA_IS_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_IS_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_TYPEREGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))

typedef struct _ValaTypeRegisterFunction ValaTypeRegisterFunction;
typedef struct _ValaTypeRegisterFunctionClass ValaTypeRegisterFunctionClass;

#define VALA_TYPE_GOBJECT_MODULE (vala_gobject_module_get_type ())
#define VALA_GOBJECT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModule))
#define VALA_GOBJECT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModuleClass))
#define VALA_IS_GOBJECT_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GOBJECT_MODULE))
#define VALA_IS_GOBJECT_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GOBJECT_MODULE))
#define VALA_GOBJECT_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GOBJECT_MODULE, ValaGObjectModuleClass))

typedef struct _ValaGObjectModule ValaGObjectModule;
typedef struct _ValaGObjectModuleClass ValaGObjectModuleClass;
typedef struct _ValaGObjectModulePrivate ValaGObjectModulePrivate;

#define VALA_TYPE_GSIGNAL_MODULE (vala_gsignal_module_get_type ())
#define VALA_GSIGNAL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModule))
#define VALA_GSIGNAL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModuleClass))
#define VALA_IS_GSIGNAL_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GSIGNAL_MODULE))
#define VALA_IS_GSIGNAL_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GSIGNAL_MODULE))
#define VALA_GSIGNAL_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GSIGNAL_MODULE, ValaGSignalModuleClass))

typedef struct _ValaGSignalModule ValaGSignalModule;
typedef struct _ValaGSignalModuleClass ValaGSignalModuleClass;
typedef struct _ValaGSignalModulePrivate ValaGSignalModulePrivate;

#define VALA_TYPE_GASYNC_MODULE (vala_gasync_module_get_type ())
#define VALA_GASYNC_MODULE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModule))
#define VALA_GASYNC_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModuleClass))
#define VALA_IS_GASYNC_MODULE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GASYNC_MODULE))
#define VALA_IS_GASYNC_MODULE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GASYNC_MODULE))
#define VALA_GASYNC_MODULE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GASYNC_MODULE, ValaGAsyncModuleClass))

typedef struct _ValaGAsyncModule ValaGAsyncModule;
typedef struct _ValaGAsyncModuleClass ValaGAsyncModuleClass;
typedef struct _ValaGAsyncModulePrivate ValaGAsyncModulePrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _vala_collection_object_unref0(var) ((var == NULL) ? NULL : (var = (vala_collection_object_unref (var), NULL)))
#define _vala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_node_unref (var), NULL)))
#define _vala_ccode_base_module_emit_context_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_base_module_emit_context_unref (var), NULL)))

struct _ValaCCodeBaseModule {
	ValaCodeGenerator parent_instance;
	ValaCCodeBaseModulePrivate * priv;
	ValaSymbol* root_symbol;
	ValaCCodeBaseModuleEmitContext* emit_context;
	ValaCCodeDeclarationSpace* header_declarations;
	ValaCCodeDeclarationSpace* internal_header_declarations;
	ValaCCodeDeclarationSpace* source_declarations;
	ValaCCodeFragment* source_signal_marshaller_declaration;
	ValaCCodeFragment* source_type_member_definition;
	ValaCCodeFragment* class_init_fragment;
	ValaCCodeFragment* base_init_fragment;
	ValaCCodeFragment* class_finalize_fragment;
	ValaCCodeFragment* base_finalize_fragment;
	ValaCCodeFragment* instance_init_fragment;
	ValaCCodeFragment* instance_finalize_fragment;
	ValaCCodeFragment* source_signal_marshaller_definition;
	ValaCCodeStruct* param_spec_struct;
	ValaCCodeStruct* closure_struct;
	ValaCCodeEnum* prop_enum;
	ValaCCodeFunction* function;
	ValaCCodeFragment* pre_statement_fragment;
	ValaSet* user_marshal_set;
	ValaSet* predefined_marshal_set;
	gint next_regex_id;
	gboolean in_constructor;
	gboolean in_static_or_class_context;
	gint next_coroutine_state;
	ValaDataType* void_type;
	ValaDataType* bool_type;
	ValaDataType* char_type;
	ValaDataType* uchar_type;
	ValaDataType* unichar_type;
	ValaDataType* short_type;
	ValaDataType* ushort_type;
	ValaDataType* int_type;
	ValaDataType* uint_type;
	ValaDataType* long_type;
	ValaDataType* ulong_type;
	ValaDataType* int8_type;
	ValaDataType* uint8_type;
	ValaDataType* int16_type;
	ValaDataType* uint16_type;
	ValaDataType* int32_type;
	ValaDataType* uint32_type;
	ValaDataType* int64_type;
	ValaDataType* uint64_type;
	ValaDataType* string_type;
	ValaDataType* regex_type;
	ValaDataType* float_type;
	ValaDataType* double_type;
	ValaTypeSymbol* gtype_type;
	ValaTypeSymbol* gobject_type;
	ValaErrorType* gerror_type;
	ValaClass* glist_type;
	ValaClass* gslist_type;
	ValaClass* gnode_type;
	ValaClass* gvaluearray_type;
	ValaTypeSymbol* gstringbuilder_type;
	ValaTypeSymbol* garray_type;
	ValaTypeSymbol* gbytearray_type;
	ValaTypeSymbol* gptrarray_type;
	ValaTypeSymbol* gthreadpool_type;
	ValaDataType* gquark_type;
	ValaStruct* gvalue_type;
	ValaClass* gvariant_type;
	ValaStruct* mutex_type;
	ValaTypeSymbol* type_module_type;
	ValaTypeSymbol* dbus_proxy_type;
	ValaTypeSymbol* dbus_object_type;
	gboolean in_plugin;
	char* module_init_param_name;
	gboolean gvaluecollector_h_needed;
	gboolean requires_array_free;
	gboolean requires_array_move;
	gboolean requires_array_length;
	gboolean requires_strcmp0;
	ValaSet* wrappers;
};

struct _ValaCCodeBaseModuleClass {
	ValaCodeGeneratorClass parent_class;
	void (*append_vala_array_free) (ValaCCodeBaseModule* self);
	void (*append_vala_array_move) (ValaCCodeBaseModule* self);
	void (*append_vala_array_length) (ValaCCodeBaseModule* self);
	gboolean (*generate_enum_declaration) (ValaCCodeBaseModule* self, ValaEnum* en, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_class_struct_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_struct_declaration) (ValaCCodeBaseModule* self, ValaStruct* st, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_delegate_declaration) (ValaCCodeBaseModule* self, ValaDelegate* d, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_cparameters) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
	ValaCCodeExpression* (*get_dup_func_expression) (ValaCCodeBaseModule* self, ValaDataType* type, ValaSourceReference* source_reference, gboolean is_chainup);
	char* (*append_struct_array_free) (ValaCCodeBaseModule* self, ValaStruct* st);
	ValaCCodeExpression* (*get_unref_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* cvar, ValaDataType* type, ValaExpression* expr, gboolean is_macro_definition);
	void (*append_local_free) (ValaCCodeBaseModule* self, ValaSymbol* sym, ValaCCodeFragment* cfrag, gboolean stop_at_loop);
	char* (*get_delegate_target_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_delegate_target_cexpression) (ValaCCodeBaseModule* self, ValaExpression* delegate_expr, ValaCCodeExpression** delegate_target_destroy_notify);
	char* (*get_delegate_target_destroy_notify_cname) (ValaCCodeBaseModule* self, const char* delegate_cname);
	ValaCCodeExpression* (*get_ref_cexpression) (ValaCCodeBaseModule* self, ValaDataType* expression_type, ValaCCodeExpression* cexpr, ValaExpression* expr, ValaCodeNode* node);
	void (*generate_class_declaration) (ValaCCodeBaseModule* self, ValaClass* cl, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_interface_declaration) (ValaCCodeBaseModule* self, ValaInterface* iface, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_method_declaration) (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
	void (*generate_error_domain_declaration) (ValaCCodeBaseModule* self, ValaErrorDomain* edomain, ValaCCodeDeclarationSpace* decl_space);
	ValaCCodeExpression* (*deserialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* variant_expr, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*serialize_expression) (ValaCCodeBaseModule* self, ValaCCodeFragment* fragment, ValaDataType* type, ValaCCodeExpression* expr);
	ValaCCodeExpression* (*get_implicit_cast_expression) (ValaCCodeBaseModule* self, ValaCCodeExpression* source_cexpr, ValaDataType* expression_type, ValaDataType* target_type, ValaExpression* expr);
	gboolean (*is_gobject_property) (ValaCCodeBaseModule* self, ValaProperty* prop);
	char* (*get_custom_creturn_type) (ValaCCodeBaseModule* self, ValaMethod* m);
	void (*generate_dynamic_method_wrapper) (ValaCCodeBaseModule* self, ValaDynamicMethod* method);
	gboolean (*method_has_wrapper) (ValaCCodeBaseModule* self, ValaMethod* method);
	ValaCCodeExpression* (*get_construct_property_assignment) (ValaCCodeBaseModule* self, ValaCCodeConstant* canonical_cconstant, ValaDataType* property_type, ValaCCodeExpression* value);
	ValaCCodeFunctionCall* (*get_param_spec) (ValaCCodeBaseModule* self, ValaProperty* prop);
	ValaCCodeFunctionCall* (*get_signal_creation) (ValaCCodeBaseModule* self, ValaSignal* sig, ValaTypeSymbol* type);
	ValaCCodeFragment* (*register_dbus_info) (ValaCCodeBaseModule* self, ValaObjectTypeSymbol* bindable);
	char* (*get_dynamic_property_getter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_property_setter_cname) (ValaCCodeBaseModule* self, ValaDynamicProperty* node);
	char* (*get_dynamic_signal_cname) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_connect_after_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	char* (*get_dynamic_signal_disconnect_wrapper_name) (ValaCCodeBaseModule* self, ValaDynamicSignal* node);
	void (*generate_marshaller) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, gboolean dbus);
	char* (*get_marshaller_function) (ValaCCodeBaseModule* self, ValaList* params, ValaDataType* return_type, const char* prefix, gboolean dbus);
	char* (*get_array_length_cname) (ValaCCodeBaseModule* self, const char* array_cname, gint dim);
	char* (*get_parameter_array_length_cname) (ValaCCodeBaseModule* self, ValaFormalParameter* param, gint dim);
	ValaCCodeExpression* (*get_array_length_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr, gint dim);
	char* (*get_array_size_cname) (ValaCCodeBaseModule* self, const char* array_cname);
	ValaCCodeExpression* (*get_array_size_cexpression) (ValaCCodeBaseModule* self, ValaExpression* array_expr);
	void (*add_simple_check) (ValaCCodeBaseModule* self, ValaCodeNode* node, ValaCCodeFragment* cfrag, gboolean always_fails);
};

struct _ValaCCodeStructModule {
	ValaCCodeBaseModule parent_instance;
	ValaCCodeStructModulePrivate * priv;
};

struct _ValaCCodeStructModuleClass {
	ValaCCodeBaseModuleClass parent_class;
};

struct _ValaCCodeMethodModule {
	ValaCCodeStructModule parent_instance;
	ValaCCodeMethodModulePrivate * priv;
};

struct _ValaCCodeMethodModuleClass {
	ValaCCodeStructModuleClass parent_class;
	void (*generate_method_result_declaration) (ValaCCodeMethodModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeFunction* cfunc, ValaMap* cparam_map, ValaMap* carg_map);
	void (*generate_parameter) (ValaCCodeMethodModule* self, ValaFormalParameter* param, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaMap* carg_map);
};

struct _ValaCCodeControlFlowModule {
	ValaCCodeMethodModule parent_instance;
	ValaCCodeControlFlowModulePrivate * priv;
};

struct _ValaCCodeControlFlowModuleClass {
	ValaCCodeMethodModuleClass parent_class;
};

struct _ValaCCodeMemberAccessModule {
	ValaCCodeControlFlowModule parent_instance;
	ValaCCodeMemberAccessModulePrivate * priv;
};

struct _ValaCCodeMemberAccessModuleClass {
	ValaCCodeControlFlowModuleClass parent_class;
};

struct _ValaCCodeAssignmentModule {
	ValaCCodeMemberAccessModule parent_instance;
	ValaCCodeAssignmentModulePrivate * priv;
};

struct _ValaCCodeAssignmentModuleClass {
	ValaCCodeMemberAccessModuleClass parent_class;
};

struct _ValaCCodeMethodCallModule {
	ValaCCodeAssignmentModule parent_instance;
	ValaCCodeMethodCallModulePrivate * priv;
};

struct _ValaCCodeMethodCallModuleClass {
	ValaCCodeAssignmentModuleClass parent_class;
};

struct _ValaCCodeArrayModule {
	ValaCCodeMethodCallModule parent_instance;
	ValaCCodeArrayModulePrivate * priv;
};

struct _ValaCCodeArrayModuleClass {
	ValaCCodeMethodCallModuleClass parent_class;
};

struct _ValaCCodeDelegateModule {
	ValaCCodeArrayModule parent_instance;
	ValaCCodeDelegateModulePrivate * priv;
};

struct _ValaCCodeDelegateModuleClass {
	ValaCCodeArrayModuleClass parent_class;
};

struct _ValaGErrorModule {
	ValaCCodeDelegateModule parent_instance;
	ValaGErrorModulePrivate * priv;
};

struct _ValaGErrorModuleClass {
	ValaCCodeDelegateModuleClass parent_class;
	ValaCCodeStatement* (*return_with_exception) (ValaGErrorModule* self, ValaCCodeExpression* error_expr);
};

struct _ValaGTypeModule {
	ValaGErrorModule parent_instance;
	ValaGTypeModulePrivate * priv;
};

struct _ValaGTypeModuleClass {
	ValaGErrorModuleClass parent_class;
	void (*generate_virtual_method_declaration) (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
	void (*generate_class_init) (ValaGTypeModule* self, ValaClass* cl, ValaCCodeBlock* init_block);
	ValaTypeRegisterFunction* (*create_interface_register_function) (ValaGTypeModule* self, ValaInterface* iface);
};

struct _ValaGObjectModule {
	ValaGTypeModule parent_instance;
	ValaGObjectModulePrivate * priv;
};

struct _ValaGObjectModuleClass {
	ValaGTypeModuleClass parent_class;
};

struct _ValaGSignalModule {
	ValaGObjectModule parent_instance;
	ValaGSignalModulePrivate * priv;
};

struct _ValaGSignalModuleClass {
	ValaGObjectModuleClass parent_class;
	ValaCCodeExpression* (*get_dbus_g_type) (ValaGSignalModule* self, ValaDataType* data_type);
};

struct _ValaGAsyncModule {
	ValaGSignalModule parent_instance;
	ValaGAsyncModulePrivate * priv;
};

struct _ValaGAsyncModuleClass {
	ValaGSignalModuleClass parent_class;
};


static gpointer vala_gasync_module_parent_class = NULL;

GType vala_ccode_base_module_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_declaration_space_ref (gpointer instance);
void vala_ccode_declaration_space_unref (gpointer instance);
GParamSpec* vala_param_spec_ccode_declaration_space (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_ccode_declaration_space (GValue* value, gpointer v_object);
void vala_value_take_ccode_declaration_space (GValue* value, gpointer v_object);
gpointer vala_value_get_ccode_declaration_space (const GValue* value);
GType vala_ccode_declaration_space_get_type (void) G_GNUC_CONST;
gpointer vala_ccode_base_module_emit_context_ref (gpointer instance);
void vala_ccode_base_module_emit_context_unref (gpointer instance);
GParamSpec* vala_ccode_base_module_param_spec_emit_context (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_ccode_base_module_value_set_emit_context (GValue* value, gpointer v_object);
void vala_ccode_base_module_value_take_emit_context (GValue* value, gpointer v_object);
gpointer vala_ccode_base_module_value_get_emit_context (const GValue* value);
GType vala_ccode_base_module_emit_context_get_type (void) G_GNUC_CONST;
GType vala_ccode_struct_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_control_flow_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_member_access_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_assignment_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_method_call_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_array_module_get_type (void) G_GNUC_CONST;
GType vala_ccode_delegate_module_get_type (void) G_GNUC_CONST;
GType vala_gerror_module_get_type (void) G_GNUC_CONST;
GType vala_gtype_module_get_type (void) G_GNUC_CONST;
gpointer vala_typeregister_function_ref (gpointer instance);
void vala_typeregister_function_unref (gpointer instance);
GParamSpec* vala_param_spec_typeregister_function (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_typeregister_function (GValue* value, gpointer v_object);
void vala_value_take_typeregister_function (GValue* value, gpointer v_object);
gpointer vala_value_get_typeregister_function (const GValue* value);
GType vala_typeregister_function_get_type (void) G_GNUC_CONST;
GType vala_gobject_module_get_type (void) G_GNUC_CONST;
GType vala_gsignal_module_get_type (void) G_GNUC_CONST;
GType vala_gasync_module_get_type (void) G_GNUC_CONST;
enum  {
	VALA_GASYNC_MODULE_DUMMY_PROPERTY
};
static ValaCCodeStruct* vala_gasync_module_generate_data_struct (ValaGAsyncModule* self, ValaMethod* m);
char* vala_ccode_base_module_get_variable_cname (ValaCCodeBaseModule* self, const char* name);
char* vala_ccode_base_module_get_parameter_array_length_cname (ValaCCodeBaseModule* self, ValaFormalParameter* param, gint dim);
char* vala_ccode_base_module_get_delegate_target_cname (ValaCCodeBaseModule* self, const char* delegate_cname);
char* vala_ccode_base_module_get_delegate_target_destroy_notify_cname (ValaCCodeBaseModule* self, const char* delegate_cname);
char* vala_ccode_base_module_get_array_length_cname (ValaCCodeBaseModule* self, const char* array_cname, gint dim);
static ValaCCodeFunction* vala_gasync_module_generate_free_function (ValaGAsyncModule* self, ValaMethod* m);
void vala_ccode_base_module_push_context (ValaCCodeBaseModule* self, ValaCCodeBaseModuleEmitContext* emit_context);
ValaCCodeBaseModuleEmitContext* vala_ccode_base_module_emit_context_new (ValaSymbol* symbol);
ValaCCodeBaseModuleEmitContext* vala_ccode_base_module_emit_context_construct (GType object_type, ValaSymbol* symbol);
gboolean vala_ccode_base_module_requires_destroy (ValaCCodeBaseModule* self, ValaDataType* type);
ValaCCodeExpression* vala_ccode_base_module_get_unref_expression (ValaCCodeBaseModule* self, ValaCCodeExpression* cvar, ValaDataType* type, ValaExpression* expr, gboolean is_macro_definition);
void vala_ccode_base_module_pop_context (ValaCCodeBaseModule* self);
static ValaCCodeFunction* vala_gasync_module_generate_async_function (ValaGAsyncModule* self, ValaMethod* m);
ValaCCodeExpression* vala_ccode_base_module_transform_expression (ValaCCodeBaseModule* self, ValaCCodeExpression* source_cexpr, ValaDataType* expression_type, ValaDataType* target_type, ValaExpression* expr);
ValaCodeContext* vala_ccode_base_module_get_context (ValaCCodeBaseModule* self);
ValaCCodeExpression* vala_ccode_base_module_get_variable_cexpression (ValaCCodeBaseModule* self, const char* name);
gboolean vala_ccode_base_module_requires_copy (ValaCCodeBaseModule* self, ValaDataType* type);
ValaCCodeExpression* vala_ccode_base_module_get_ref_cexpression (ValaCCodeBaseModule* self, ValaDataType* expression_type, ValaCCodeExpression* cexpr, ValaExpression* expr, ValaCodeNode* node);
void vala_ccode_base_module_append_temp_decl (ValaCCodeBaseModule* self, ValaCCodeFragment* cfrag, ValaList* temp_vars);
ValaArrayList* vala_ccode_base_module_get_temp_vars (ValaCCodeBaseModule* self);
gint vala_ccode_base_module_get_param_pos (ValaCCodeBaseModule* self, double param_pos, gboolean ellipsis);
void vala_ccode_base_module_generate_cparameters (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
void vala_ccode_declaration_space_add_type_member_declaration (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
static void vala_gasync_module_append_struct (ValaGAsyncModule* self, ValaCCodeStruct* structure);
void vala_ccode_declaration_space_add_type_declaration (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
void vala_ccode_declaration_space_add_type_definition (ValaCCodeDeclarationSpace* self, ValaCCodeNode* node);
static void vala_gasync_module_append_function (ValaGAsyncModule* self, ValaCCodeFunction* function);
static void vala_gasync_module_real_generate_method_declaration (ValaCCodeBaseModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
gboolean vala_ccode_declaration_space_add_symbol_declaration (ValaCCodeDeclarationSpace* self, ValaSymbol* sym, const char* name);
void vala_ccode_base_module_generate_method_declaration (ValaCCodeBaseModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space);
static void vala_gasync_module_real_visit_method (ValaCodeVisitor* base, ValaMethod* m);
void vala_ccode_declaration_space_add_include (ValaCCodeDeclarationSpace* self, const char* filename, gboolean local);
static ValaCCodeFunction* vala_gasync_module_generate_finish_function (ValaGAsyncModule* self, ValaMethod* m);
static ValaCCodeFunction* vala_gasync_module_generate_ready_function (ValaGAsyncModule* self, ValaMethod* m);
void vala_ccode_method_module_generate_vfunc (ValaCCodeMethodModule* self, ValaMethod* m, ValaDataType* return_type, ValaMap* cparam_map, ValaMap* carg_map, const char* suffix, gint direction);
ValaCCodeExpression* vala_ccode_base_module_default_value_for_type (ValaCCodeBaseModule* self, ValaDataType* type, gboolean initializer_expression);
static void vala_gasync_module_real_generate_virtual_method_declaration (ValaGTypeModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
void vala_gtype_module_generate_virtual_method_declaration (ValaGTypeModule* self, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct);
static void vala_gasync_module_real_visit_yield_statement (ValaCodeVisitor* base, ValaYieldStatement* stmt);
ValaMethod* vala_ccode_base_module_get_current_method (ValaCCodeBaseModule* self);
ValaCCodeSwitchStatement* vala_ccode_base_module_get_state_switch_statement (ValaCCodeBaseModule* self);
void vala_ccode_base_module_add_simple_check (ValaCCodeBaseModule* self, ValaCodeNode* node, ValaCCodeFragment* cfrag, gboolean always_fails);
ValaArrayList* vala_ccode_base_module_get_temp_ref_vars (ValaCCodeBaseModule* self);
static ValaCCodeStatement* vala_gasync_module_real_return_with_exception (ValaGErrorModule* base, ValaCCodeExpression* error_expr);
ValaCCodeStatement* vala_gerror_module_return_with_exception (ValaGErrorModule* self, ValaCCodeExpression* error_expr);
void vala_ccode_base_module_append_local_free (ValaCCodeBaseModule* self, ValaSymbol* sym, ValaCCodeFragment* cfrag, gboolean stop_at_loop);
ValaSymbol* vala_ccode_base_module_get_current_symbol (ValaCCodeBaseModule* self);
ValaCCodeStatement* vala_ccode_method_module_complete_async (ValaCCodeMethodModule* self);
static void vala_gasync_module_real_visit_return_statement (ValaCodeVisitor* base, ValaReturnStatement* stmt);
static void vala_gasync_module_real_generate_cparameters (ValaCCodeBaseModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction);
ValaGAsyncModule* vala_gasync_module_new (void);
ValaGAsyncModule* vala_gasync_module_construct (GType object_type);
ValaGSignalModule* vala_gsignal_module_new (void);
ValaGSignalModule* vala_gsignal_module_construct (GType object_type);



static gpointer _vala_code_node_ref0 (gpointer self) {
	return self ? vala_code_node_ref (self) : NULL;
}


static ValaCCodeStruct* vala_gasync_module_generate_data_struct (ValaGAsyncModule* self, ValaMethod* m) {
	ValaCCodeStruct* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* _tmp2_;
	char* dataname;
	char* _tmp3_;
	ValaCCodeStruct* _tmp4_;
	ValaCCodeStruct* data;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	dataname = (_tmp2_ = g_strconcat (_tmp1_ = vala_symbol_lower_case_to_camel_case (_tmp0_ = vala_method_get_cname (m)), "Data", NULL), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	data = (_tmp4_ = vala_ccode_struct_new (_tmp3_ = g_strconcat ("_", dataname, NULL)), _g_free0 (_tmp3_), _tmp4_);
	vala_ccode_struct_add_field (data, "int", "_state_", NULL);
	vala_ccode_struct_add_field (data, "GAsyncResult*", "_res_", NULL);
	vala_ccode_struct_add_field (data, "GSimpleAsyncResult*", "_async_result", NULL);
	if (vala_method_get_binding (m) == MEMBER_BINDING_INSTANCE) {
		ValaTypeSymbol* type_sym;
		char* _tmp5_;
		char* _tmp6_;
		type_sym = _vala_code_node_ref0 (VALA_TYPESYMBOL (vala_symbol_get_parent_symbol ((ValaSymbol*) m)));
		vala_ccode_struct_add_field (data, _tmp6_ = g_strconcat (_tmp5_ = vala_typesymbol_get_cname (type_sym, FALSE), "*", NULL), "self", NULL);
		_g_free0 (_tmp6_);
		_g_free0 (_tmp5_);
		_vala_code_node_unref0 (type_sym);
	}
	{
		ValaList* _tmp7_;
		ValaIterator* _tmp8_;
		ValaIterator* _param_it;
		_param_it = (_tmp8_ = vala_iterable_iterator ((ValaIterable*) (_tmp7_ = vala_method_get_parameters (m))), _vala_collection_object_unref0 (_tmp7_), _tmp8_);
		while (TRUE) {
			ValaFormalParameter* param;
			ValaDataType* param_type;
			char* _tmp9_;
			char* _tmp10_;
			if (!vala_iterator_next (_param_it)) {
				break;
			}
			param = (ValaFormalParameter*) vala_iterator_get (_param_it);
			param_type = vala_data_type_copy (vala_variable_get_variable_type ((ValaVariable*) param));
			vala_data_type_set_value_owned (param_type, TRUE);
			vala_ccode_struct_add_field (data, _tmp9_ = vala_data_type_get_cname (param_type), _tmp10_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)), NULL);
			_g_free0 (_tmp10_);
			_g_free0 (_tmp9_);
			if (VALA_IS_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
				ValaArrayType* array_type;
				array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) param)));
				if (!vala_formal_parameter_get_no_array_length (param)) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp11_;
							_tmp11_ = TRUE;
							while (TRUE) {
								char* _tmp12_;
								if (!_tmp11_) {
									dim++;
								}
								_tmp11_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_struct_add_field (data, "gint", _tmp12_ = vala_ccode_base_module_get_parameter_array_length_cname ((ValaCCodeBaseModule*) self, param, dim), NULL);
								_g_free0 (_tmp12_);
							}
						}
					}
				}
				_vala_code_node_unref0 (array_type);
			} else {
				if (VALA_IS_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
					ValaDelegateType* deleg_type;
					deleg_type = _vala_code_node_ref0 (VALA_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) param)));
					if (vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (deleg_type))) {
						char* _tmp13_;
						char* _tmp14_;
						char* _tmp15_;
						char* _tmp16_;
						vala_ccode_struct_add_field (data, "gpointer", _tmp14_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, _tmp13_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))), NULL);
						_g_free0 (_tmp14_);
						_g_free0 (_tmp13_);
						vala_ccode_struct_add_field (data, "GDestroyNotify", _tmp16_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, _tmp15_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))), NULL);
						_g_free0 (_tmp16_);
						_g_free0 (_tmp15_);
					}
					_vala_code_node_unref0 (deleg_type);
				}
			}
			_vala_code_node_unref0 (param_type);
			_vala_code_node_unref0 (param);
		}
		_vala_collection_object_unref0 (_param_it);
	}
	if (!VALA_IS_VOID_TYPE (vala_method_get_return_type (m))) {
		char* _tmp17_;
		vala_ccode_struct_add_field (data, _tmp17_ = vala_data_type_get_cname (vala_method_get_return_type (m)), "result", NULL);
		_g_free0 (_tmp17_);
		if (VALA_IS_ARRAY_TYPE (vala_method_get_return_type (m))) {
			ValaArrayType* array_type;
			array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (vala_method_get_return_type (m)));
			if (!vala_method_get_no_array_length (m)) {
				{
					gint dim;
					dim = 1;
					{
						gboolean _tmp18_;
						_tmp18_ = TRUE;
						while (TRUE) {
							char* _tmp19_;
							if (!_tmp18_) {
								dim++;
							}
							_tmp18_ = FALSE;
							if (!(dim <= vala_array_type_get_rank (array_type))) {
								break;
							}
							vala_ccode_struct_add_field (data, "gint", _tmp19_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "result", dim), NULL);
							_g_free0 (_tmp19_);
						}
					}
				}
			}
			_vala_code_node_unref0 (array_type);
		} else {
			if (VALA_IS_DELEGATE_TYPE (vala_method_get_return_type (m))) {
				ValaDelegateType* deleg_type;
				deleg_type = _vala_code_node_ref0 (VALA_DELEGATE_TYPE (vala_method_get_return_type (m)));
				if (vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (deleg_type))) {
					char* _tmp20_;
					char* _tmp21_;
					vala_ccode_struct_add_field (data, "gpointer", _tmp20_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, "result"), NULL);
					_g_free0 (_tmp20_);
					vala_ccode_struct_add_field (data, "GDestroyNotify", _tmp21_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, "result"), NULL);
					_g_free0 (_tmp21_);
				}
				_vala_code_node_unref0 (deleg_type);
			}
		}
	}
	result = data;
	_g_free0 (dataname);
	return result;
}


static ValaCCodeFunction* vala_gasync_module_generate_free_function (ValaGAsyncModule* self, ValaMethod* m) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* _tmp2_;
	char* dataname;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFunction* _tmp5_;
	ValaCCodeFunction* freefunc;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeBlock* freeblock;
	char* _tmp7_;
	ValaCCodeDeclaration* _tmp8_;
	ValaCCodeDeclaration* datadecl;
	ValaCCodeIdentifier* _tmp9_;
	ValaCCodeVariableDeclarator* _tmp10_;
	ValaCCodeBaseModuleEmitContext* _tmp11_;
	ValaSymbol* _tmp24_;
	ValaClass* cl;
	gboolean _tmp25_ = FALSE;
	ValaCCodeIdentifier* _tmp31_;
	ValaCCodeFunctionCall* _tmp32_;
	ValaCCodeFunctionCall* freecall;
	ValaCCodeIdentifier* _tmp33_;
	ValaCCodeIdentifier* _tmp34_;
	ValaCCodeExpressionStatement* _tmp35_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	dataname = (_tmp2_ = g_strconcat (_tmp1_ = vala_symbol_lower_case_to_camel_case (_tmp0_ = vala_method_get_cname (m)), "Data", NULL), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	freefunc = (_tmp5_ = vala_ccode_function_new (_tmp4_ = g_strconcat (_tmp3_ = vala_method_get_real_cname (m), "_data_free", NULL), "void"), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _tmp5_);
	vala_ccode_function_set_modifiers (freefunc, VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_function_add_parameter (freefunc, _tmp6_ = vala_ccode_formal_parameter_new ("_data", "gpointer"));
	_vala_ccode_node_unref0 (_tmp6_);
	freeblock = vala_ccode_block_new ();
	vala_ccode_function_set_block (freefunc, freeblock);
	datadecl = (_tmp8_ = vala_ccode_declaration_new (_tmp7_ = g_strconcat (dataname, "*", NULL)), _g_free0 (_tmp7_), _tmp8_);
	vala_ccode_declaration_add_declarator (datadecl, (ValaCCodeDeclarator*) (_tmp10_ = vala_ccode_variable_declarator_new ("data", (ValaCCodeExpression*) (_tmp9_ = vala_ccode_identifier_new ("_data")), NULL)));
	_vala_ccode_node_unref0 (_tmp10_);
	_vala_ccode_node_unref0 (_tmp9_);
	vala_ccode_block_add_statement (freeblock, (ValaCCodeNode*) datadecl);
	vala_ccode_base_module_push_context ((ValaCCodeBaseModule*) self, _tmp11_ = vala_ccode_base_module_emit_context_new ((ValaSymbol*) m));
	_vala_ccode_base_module_emit_context_unref0 (_tmp11_);
	{
		ValaList* _tmp12_;
		ValaIterator* _tmp13_;
		ValaIterator* _param_it;
		_param_it = (_tmp13_ = vala_iterable_iterator ((ValaIterable*) (_tmp12_ = vala_method_get_parameters (m))), _vala_collection_object_unref0 (_tmp12_), _tmp13_);
		while (TRUE) {
			ValaFormalParameter* param;
			if (!vala_iterator_next (_param_it)) {
				break;
			}
			param = (ValaFormalParameter*) vala_iterator_get (_param_it);
			if (vala_formal_parameter_get_direction (param) != VALA_PARAMETER_DIRECTION_OUT) {
				ValaDataType* param_type;
				param_type = vala_data_type_copy (vala_variable_get_variable_type ((ValaVariable*) param));
				vala_data_type_set_value_owned (param_type, TRUE);
				if (vala_ccode_base_module_requires_destroy ((ValaCCodeBaseModule*) self, param_type)) {
					ValaMemberAccess* ma;
					ValaDataType* _tmp14_;
					ValaCCodeIdentifier* _tmp15_;
					char* _tmp16_;
					ValaCCodeMemberAccess* _tmp17_;
					ValaCCodeExpression* _tmp18_;
					ValaCCodeExpressionStatement* _tmp19_;
					ma = vala_member_access_new_simple (vala_symbol_get_name ((ValaSymbol*) param), NULL);
					vala_expression_set_symbol_reference ((ValaExpression*) ma, (ValaSymbol*) param);
					vala_expression_set_value_type ((ValaExpression*) ma, _tmp14_ = vala_data_type_copy (vala_variable_get_variable_type ((ValaVariable*) param)));
					_vala_code_node_unref0 (_tmp14_);
					vala_ccode_block_add_statement (freeblock, (ValaCCodeNode*) (_tmp19_ = vala_ccode_expression_statement_new (_tmp18_ = vala_ccode_base_module_get_unref_expression ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp17_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp15_ = vala_ccode_identifier_new ("data")), _tmp16_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)))), vala_variable_get_variable_type ((ValaVariable*) param), (ValaExpression*) ma, FALSE))));
					_vala_ccode_node_unref0 (_tmp19_);
					_vala_ccode_node_unref0 (_tmp18_);
					_vala_ccode_node_unref0 (_tmp17_);
					_g_free0 (_tmp16_);
					_vala_ccode_node_unref0 (_tmp15_);
					_vala_code_node_unref0 (ma);
				}
				_vala_code_node_unref0 (param_type);
			}
			_vala_code_node_unref0 (param);
		}
		_vala_collection_object_unref0 (_param_it);
	}
	if (vala_ccode_base_module_requires_destroy ((ValaCCodeBaseModule*) self, vala_method_get_return_type (m))) {
		ValaLocalVariable* v;
		ValaMemberAccess* ma;
		ValaCCodeIdentifier* _tmp20_;
		ValaCCodeMemberAccess* _tmp21_;
		ValaCCodeExpression* _tmp22_;
		ValaCCodeExpression* unref_expr;
		ValaCCodeExpressionStatement* _tmp23_;
		v = vala_local_variable_new (vala_method_get_return_type (m), ".result", NULL, NULL);
		ma = vala_member_access_new_simple (".result", NULL);
		vala_expression_set_symbol_reference ((ValaExpression*) ma, (ValaSymbol*) v);
		unref_expr = (_tmp22_ = vala_ccode_base_module_get_unref_expression ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp21_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new ("data")), "result")), vala_method_get_return_type (m), (ValaExpression*) ma, FALSE), _vala_ccode_node_unref0 (_tmp21_), _vala_ccode_node_unref0 (_tmp20_), _tmp22_);
		vala_ccode_block_add_statement (freeblock, (ValaCCodeNode*) (_tmp23_ = vala_ccode_expression_statement_new (unref_expr)));
		_vala_ccode_node_unref0 (_tmp23_);
		_vala_ccode_node_unref0 (unref_expr);
		_vala_code_node_unref0 (ma);
		_vala_code_node_unref0 (v);
	}
	cl = _vala_code_node_ref0 ((_tmp24_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m), VALA_IS_CLASS (_tmp24_) ? ((ValaClass*) _tmp24_) : NULL));
	if (vala_method_get_binding (m) == MEMBER_BINDING_INSTANCE) {
		_tmp25_ = cl != NULL;
	} else {
		_tmp25_ = FALSE;
	}
	if (_tmp25_) {
		char* unref_func;
		unref_func = vala_typesymbol_get_unref_function ((ValaTypeSymbol*) cl);
		if (unref_func != NULL) {
			ValaCCodeIdentifier* _tmp26_;
			ValaCCodeFunctionCall* _tmp27_;
			ValaCCodeFunctionCall* unref_call;
			ValaCCodeIdentifier* _tmp28_;
			ValaCCodeMemberAccess* _tmp29_;
			ValaCCodeExpressionStatement* _tmp30_;
			unref_call = (_tmp27_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp26_ = vala_ccode_identifier_new (unref_func))), _vala_ccode_node_unref0 (_tmp26_), _tmp27_);
			vala_ccode_function_call_add_argument (unref_call, (ValaCCodeExpression*) (_tmp29_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp28_ = vala_ccode_identifier_new ("data")), "self")));
			_vala_ccode_node_unref0 (_tmp29_);
			_vala_ccode_node_unref0 (_tmp28_);
			vala_ccode_block_add_statement (freeblock, (ValaCCodeNode*) (_tmp30_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) unref_call)));
			_vala_ccode_node_unref0 (_tmp30_);
			_vala_ccode_node_unref0 (unref_call);
		}
		_g_free0 (unref_func);
	}
	vala_ccode_base_module_pop_context ((ValaCCodeBaseModule*) self);
	freecall = (_tmp32_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp31_ = vala_ccode_identifier_new ("g_slice_free"))), _vala_ccode_node_unref0 (_tmp31_), _tmp32_);
	vala_ccode_function_call_add_argument (freecall, (ValaCCodeExpression*) (_tmp33_ = vala_ccode_identifier_new (dataname)));
	_vala_ccode_node_unref0 (_tmp33_);
	vala_ccode_function_call_add_argument (freecall, (ValaCCodeExpression*) (_tmp34_ = vala_ccode_identifier_new ("data")));
	_vala_ccode_node_unref0 (_tmp34_);
	vala_ccode_block_add_statement (freeblock, (ValaCCodeNode*) (_tmp35_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) freecall)));
	_vala_ccode_node_unref0 (_tmp35_);
	result = freefunc;
	_vala_ccode_node_unref0 (freecall);
	_vala_code_node_unref0 (cl);
	_vala_ccode_node_unref0 (datadecl);
	_vala_ccode_node_unref0 (freeblock);
	_g_free0 (dataname);
	return result;
}


static gpointer _vala_ccode_node_ref0 (gpointer self) {
	return self ? vala_ccode_node_ref (self) : NULL;
}


static ValaCCodeFunction* vala_gasync_module_generate_async_function (ValaGAsyncModule* self, ValaMethod* m) {
	ValaCCodeFunction* result = NULL;
	ValaCCodeBlock* asyncblock;
	gboolean _tmp0_ = FALSE;
	char* _tmp12_;
	char* _tmp13_;
	char* _tmp14_;
	char* dataname;
	char* _tmp15_;
	ValaCCodeFunction* _tmp16_;
	ValaCCodeFunction* asyncfunc;
	ValaHashMap* cparam_map;
	ValaCCodeIdentifier* _tmp17_;
	ValaCCodeFunctionCall* _tmp18_;
	ValaCCodeFunctionCall* dataalloc;
	ValaCCodeIdentifier* _tmp19_;
	ValaCCodeIdentifier* data_var;
	char* _tmp20_;
	ValaCCodeDeclaration* _tmp21_;
	ValaCCodeDeclaration* datadecl;
	ValaCCodeVariableDeclarator* _tmp22_;
	ValaCCodeAssignment* _tmp23_;
	ValaCCodeExpressionStatement* _tmp24_;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeFunctionCall* _tmp26_;
	ValaCCodeFunctionCall* create_result;
	ValaSymbol* _tmp27_;
	ValaClass* cl;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp29_ = FALSE;
	ValaCCodeIdentifier* _tmp39_;
	ValaCCodeIdentifier* _tmp40_;
	char* _tmp41_;
	ValaCCodeIdentifier* _tmp42_;
	ValaCCodeMemberAccess* _tmp43_;
	ValaCCodeAssignment* _tmp44_;
	ValaCCodeExpressionStatement* _tmp45_;
	ValaCCodeIdentifier* _tmp46_;
	ValaCCodeFunctionCall* _tmp47_;
	ValaCCodeFunctionCall* set_op_res_call;
	ValaCCodeMemberAccess* _tmp48_;
	char* _tmp49_;
	char* _tmp50_;
	ValaCCodeIdentifier* _tmp51_;
	ValaCCodeExpressionStatement* _tmp52_;
	ValaCCodeFragment* cfrag;
	char* _tmp93_;
	char* _tmp94_;
	ValaCCodeIdentifier* _tmp95_;
	ValaCCodeFunctionCall* _tmp96_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeExpressionStatement* _tmp97_;
	ValaCCodeFormalParameter* _tmp98_;
	ValaCCodeFormalParameter* _tmp99_;
	gboolean _tmp100_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	asyncblock = vala_ccode_block_new ();
	if (vala_method_get_overrides (m)) {
		_tmp0_ = TRUE;
	} else {
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		if (vala_method_get_base_interface_method (m) != NULL) {
			_tmp2_ = !vala_method_get_is_abstract (m);
		} else {
			_tmp2_ = FALSE;
		}
		if (_tmp2_) {
			_tmp1_ = !vala_method_get_is_virtual (m);
		} else {
			_tmp1_ = FALSE;
		}
		_tmp0_ = _tmp1_;
	}
	if (_tmp0_) {
		ValaMethod* base_method;
		ValaObjectType* base_expression_type;
		ValaSymbol* _tmp5_;
		ValaObjectTypeSymbol* type_symbol;
		ValaObjectType* self_target_type;
		ValaCCodeIdentifier* _tmp6_;
		ValaCCodeExpression* _tmp7_;
		ValaCCodeExpression* cself;
		char* _tmp8_;
		char* _tmp9_;
		ValaCCodeDeclaration* _tmp10_;
		ValaCCodeDeclaration* _cdecl_;
		ValaCCodeVariableDeclarator* _tmp11_;
		base_method = NULL;
		if (vala_method_get_overrides (m)) {
			ValaMethod* _tmp3_;
			base_method = (_tmp3_ = _vala_code_node_ref0 (vala_method_get_base_method (m)), _vala_code_node_unref0 (base_method), _tmp3_);
		} else {
			ValaMethod* _tmp4_;
			base_method = (_tmp4_ = _vala_code_node_ref0 (vala_method_get_base_interface_method (m)), _vala_code_node_unref0 (base_method), _tmp4_);
		}
		base_expression_type = vala_object_type_new (VALA_OBJECT_TYPE_SYMBOL (vala_symbol_get_parent_symbol ((ValaSymbol*) base_method)));
		type_symbol = _vala_code_node_ref0 ((_tmp5_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m), VALA_IS_OBJECT_TYPE_SYMBOL (_tmp5_) ? ((ValaObjectTypeSymbol*) _tmp5_) : NULL));
		self_target_type = vala_object_type_new (type_symbol);
		cself = (_tmp7_ = vala_ccode_base_module_transform_expression ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp6_ = vala_ccode_identifier_new ("base")), (ValaDataType*) base_expression_type, (ValaDataType*) self_target_type, NULL), _vala_ccode_node_unref0 (_tmp6_), _tmp7_);
		_cdecl_ = (_tmp10_ = vala_ccode_declaration_new (_tmp9_ = g_strdup_printf ("%s *", _tmp8_ = vala_typesymbol_get_cname ((ValaTypeSymbol*) type_symbol, FALSE))), _g_free0 (_tmp9_), _g_free0 (_tmp8_), _tmp10_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp11_ = vala_ccode_variable_declarator_new ("self", cself, NULL)));
		_vala_ccode_node_unref0 (_tmp11_);
		vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) _cdecl_);
		_vala_ccode_node_unref0 (_cdecl_);
		_vala_ccode_node_unref0 (cself);
		_vala_code_node_unref0 (self_target_type);
		_vala_code_node_unref0 (type_symbol);
		_vala_code_node_unref0 (base_expression_type);
		_vala_code_node_unref0 (base_method);
	}
	dataname = (_tmp14_ = g_strconcat (_tmp13_ = vala_symbol_lower_case_to_camel_case (_tmp12_ = vala_method_get_cname (m)), "Data", NULL), _g_free0 (_tmp13_), _g_free0 (_tmp12_), _tmp14_);
	asyncfunc = (_tmp16_ = vala_ccode_function_new (_tmp15_ = vala_method_get_real_cname (m), "void"), _g_free0 (_tmp15_), _tmp16_);
	cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
	dataalloc = (_tmp18_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new ("g_slice_new0"))), _vala_ccode_node_unref0 (_tmp17_), _tmp18_);
	vala_ccode_function_call_add_argument (dataalloc, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new (dataname)));
	_vala_ccode_node_unref0 (_tmp19_);
	data_var = vala_ccode_identifier_new ("_data_");
	datadecl = (_tmp21_ = vala_ccode_declaration_new (_tmp20_ = g_strconcat (dataname, "*", NULL)), _g_free0 (_tmp20_), _tmp21_);
	vala_ccode_declaration_add_declarator (datadecl, (ValaCCodeDeclarator*) (_tmp22_ = vala_ccode_variable_declarator_new ("_data_", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp22_);
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) datadecl);
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp24_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp23_ = vala_ccode_assignment_new ((ValaCCodeExpression*) data_var, (ValaCCodeExpression*) dataalloc, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp24_);
	_vala_ccode_node_unref0 (_tmp23_);
	create_result = (_tmp26_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("g_simple_async_result_new"))), _vala_ccode_node_unref0 (_tmp25_), _tmp26_);
	cl = _vala_code_node_ref0 ((_tmp27_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m), VALA_IS_CLASS (_tmp27_) ? ((ValaClass*) _tmp27_) : NULL));
	if (vala_method_get_binding (m) == MEMBER_BINDING_INSTANCE) {
		_tmp29_ = cl != NULL;
	} else {
		_tmp29_ = FALSE;
	}
	if (_tmp29_) {
		_tmp28_ = vala_typesymbol_is_subtype_of ((ValaTypeSymbol*) cl, ((ValaCCodeBaseModule*) self)->gobject_type);
	} else {
		_tmp28_ = FALSE;
	}
	if (_tmp28_) {
		ValaCCodeIdentifier* _tmp30_;
		ValaCCodeFunctionCall* _tmp31_;
		ValaCCodeFunctionCall* gobject_cast;
		ValaCCodeIdentifier* _tmp32_;
		gobject_cast = (_tmp31_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp30_ = vala_ccode_identifier_new ("G_OBJECT"))), _vala_ccode_node_unref0 (_tmp30_), _tmp31_);
		vala_ccode_function_call_add_argument (gobject_cast, (ValaCCodeExpression*) (_tmp32_ = vala_ccode_identifier_new ("self")));
		_vala_ccode_node_unref0 (_tmp32_);
		vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) gobject_cast);
		_vala_ccode_node_unref0 (gobject_cast);
	} else {
		if (vala_code_context_require_glib_version (vala_ccode_base_module_get_context ((ValaCCodeBaseModule*) self), 2, 20)) {
			ValaCCodeConstant* _tmp33_;
			vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) (_tmp33_ = vala_ccode_constant_new ("NULL")));
			_vala_ccode_node_unref0 (_tmp33_);
		} else {
			ValaCCodeIdentifier* _tmp34_;
			ValaCCodeFunctionCall* _tmp35_;
			ValaCCodeFunctionCall* object_creation;
			ValaCCodeConstant* _tmp36_;
			ValaCCodeConstant* _tmp37_;
			ValaCCodeConstant* _tmp38_;
			object_creation = (_tmp35_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp34_ = vala_ccode_identifier_new ("g_object_newv"))), _vala_ccode_node_unref0 (_tmp34_), _tmp35_);
			vala_ccode_function_call_add_argument (object_creation, (ValaCCodeExpression*) (_tmp36_ = vala_ccode_constant_new ("G_TYPE_OBJECT")));
			_vala_ccode_node_unref0 (_tmp36_);
			vala_ccode_function_call_add_argument (object_creation, (ValaCCodeExpression*) (_tmp37_ = vala_ccode_constant_new ("0")));
			_vala_ccode_node_unref0 (_tmp37_);
			vala_ccode_function_call_add_argument (object_creation, (ValaCCodeExpression*) (_tmp38_ = vala_ccode_constant_new ("NULL")));
			_vala_ccode_node_unref0 (_tmp38_);
			vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) object_creation);
			_vala_ccode_node_unref0 (object_creation);
		}
	}
	vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) (_tmp39_ = vala_ccode_identifier_new ("_callback_")));
	_vala_ccode_node_unref0 (_tmp39_);
	vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) (_tmp40_ = vala_ccode_identifier_new ("_user_data_")));
	_vala_ccode_node_unref0 (_tmp40_);
	vala_ccode_function_call_add_argument (create_result, (ValaCCodeExpression*) (_tmp42_ = vala_ccode_identifier_new (_tmp41_ = vala_method_get_real_cname (m))));
	_vala_ccode_node_unref0 (_tmp42_);
	_g_free0 (_tmp41_);
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp45_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp44_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp43_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "_async_result")), (ValaCCodeExpression*) create_result, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp45_);
	_vala_ccode_node_unref0 (_tmp44_);
	_vala_ccode_node_unref0 (_tmp43_);
	set_op_res_call = (_tmp47_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp46_ = vala_ccode_identifier_new ("g_simple_async_result_set_op_res_gpointer"))), _vala_ccode_node_unref0 (_tmp46_), _tmp47_);
	vala_ccode_function_call_add_argument (set_op_res_call, (ValaCCodeExpression*) (_tmp48_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "_async_result")));
	_vala_ccode_node_unref0 (_tmp48_);
	vala_ccode_function_call_add_argument (set_op_res_call, (ValaCCodeExpression*) data_var);
	vala_ccode_function_call_add_argument (set_op_res_call, (ValaCCodeExpression*) (_tmp51_ = vala_ccode_identifier_new (_tmp50_ = g_strconcat (_tmp49_ = vala_method_get_real_cname (m), "_data_free", NULL))));
	_vala_ccode_node_unref0 (_tmp51_);
	_g_free0 (_tmp50_);
	_g_free0 (_tmp49_);
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp52_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) set_op_res_call)));
	_vala_ccode_node_unref0 (_tmp52_);
	if (vala_method_get_binding (m) == MEMBER_BINDING_INSTANCE) {
		ValaCCodeExpression* self_expr;
		char* ref_function;
		gboolean _tmp53_ = FALSE;
		ValaCCodeMemberAccess* _tmp58_;
		ValaCCodeAssignment* _tmp59_;
		ValaCCodeExpressionStatement* _tmp60_;
		self_expr = (ValaCCodeExpression*) vala_ccode_identifier_new ("self");
		ref_function = NULL;
		if (cl != NULL) {
			char* _tmp54_;
			_tmp53_ = (ref_function = (_tmp54_ = vala_typesymbol_get_ref_function ((ValaTypeSymbol*) cl), _g_free0 (ref_function), _tmp54_)) != NULL;
		} else {
			_tmp53_ = FALSE;
		}
		if (_tmp53_) {
			ValaCCodeIdentifier* _tmp55_;
			ValaCCodeFunctionCall* _tmp56_;
			ValaCCodeFunctionCall* refcall;
			ValaCCodeExpression* _tmp57_;
			refcall = (_tmp56_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp55_ = vala_ccode_identifier_new (ref_function))), _vala_ccode_node_unref0 (_tmp55_), _tmp56_);
			vala_ccode_function_call_add_argument (refcall, self_expr);
			self_expr = (_tmp57_ = _vala_ccode_node_ref0 ((ValaCCodeExpression*) refcall), _vala_ccode_node_unref0 (self_expr), _tmp57_);
			_vala_ccode_node_unref0 (refcall);
		}
		vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp60_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp59_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp58_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "self")), self_expr, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp60_);
		_vala_ccode_node_unref0 (_tmp59_);
		_vala_ccode_node_unref0 (_tmp58_);
		_g_free0 (ref_function);
		_vala_ccode_node_unref0 (self_expr);
	}
	{
		ValaList* _tmp61_;
		ValaIterator* _tmp62_;
		ValaIterator* _param_it;
		_param_it = (_tmp62_ = vala_iterable_iterator ((ValaIterable*) (_tmp61_ = vala_method_get_parameters (m))), _vala_collection_object_unref0 (_tmp61_), _tmp62_);
		while (TRUE) {
			ValaFormalParameter* param;
			if (!vala_iterator_next (_param_it)) {
				break;
			}
			param = (ValaFormalParameter*) vala_iterator_get (_param_it);
			if (vala_formal_parameter_get_direction (param) != VALA_PARAMETER_DIRECTION_OUT) {
				ValaDataType* param_type;
				ValaCCodeExpression* cparam;
				gboolean _tmp64_ = FALSE;
				char* _tmp66_;
				ValaCCodeMemberAccess* _tmp67_;
				ValaCCodeAssignment* _tmp68_;
				ValaCCodeExpressionStatement* _tmp69_;
				param_type = vala_data_type_copy (vala_variable_get_variable_type ((ValaVariable*) param));
				vala_data_type_set_value_owned (param_type, TRUE);
				cparam = vala_ccode_base_module_get_variable_cexpression ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param));
				if (vala_data_type_is_real_non_null_struct_type (vala_variable_get_variable_type ((ValaVariable*) param))) {
					ValaCCodeExpression* _tmp63_;
					cparam = (_tmp63_ = (ValaCCodeExpression*) vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, cparam), _vala_ccode_node_unref0 (cparam), _tmp63_);
				}
				if (vala_ccode_base_module_requires_copy ((ValaCCodeBaseModule*) self, param_type)) {
					_tmp64_ = !vala_data_type_get_value_owned (vala_variable_get_variable_type ((ValaVariable*) param));
				} else {
					_tmp64_ = FALSE;
				}
				if (_tmp64_) {
					ValaMemberAccess* ma;
					ValaCCodeExpression* _tmp65_;
					ma = vala_member_access_new_simple (vala_symbol_get_name ((ValaSymbol*) param), NULL);
					vala_expression_set_symbol_reference ((ValaExpression*) ma, (ValaSymbol*) param);
					cparam = (_tmp65_ = vala_ccode_base_module_get_ref_cexpression ((ValaCCodeBaseModule*) self, vala_variable_get_variable_type ((ValaVariable*) param), cparam, (ValaExpression*) ma, (ValaCodeNode*) param), _vala_ccode_node_unref0 (cparam), _tmp65_);
					_vala_code_node_unref0 (ma);
				}
				vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp69_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp68_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp67_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp66_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)))), cparam, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp69_);
				_vala_ccode_node_unref0 (_tmp68_);
				_vala_ccode_node_unref0 (_tmp67_);
				_g_free0 (_tmp66_);
				if (VALA_IS_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
					ValaArrayType* array_type;
					array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (vala_variable_get_variable_type ((ValaVariable*) param)));
					if (!vala_formal_parameter_get_no_array_length (param)) {
						{
							gint dim;
							dim = 1;
							{
								gboolean _tmp70_;
								_tmp70_ = TRUE;
								while (TRUE) {
									char* _tmp71_;
									ValaCCodeMemberAccess* _tmp72_;
									char* _tmp73_;
									ValaCCodeIdentifier* _tmp74_;
									ValaCCodeAssignment* _tmp75_;
									ValaCCodeExpressionStatement* _tmp76_;
									if (!_tmp70_) {
										dim++;
									}
									_tmp70_ = FALSE;
									if (!(dim <= vala_array_type_get_rank (array_type))) {
										break;
									}
									vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp76_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp75_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp72_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp71_ = vala_ccode_base_module_get_parameter_array_length_cname ((ValaCCodeBaseModule*) self, param, dim))), (ValaCCodeExpression*) (_tmp74_ = vala_ccode_identifier_new (_tmp73_ = vala_ccode_base_module_get_parameter_array_length_cname ((ValaCCodeBaseModule*) self, param, dim))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
									_vala_ccode_node_unref0 (_tmp76_);
									_vala_ccode_node_unref0 (_tmp75_);
									_vala_ccode_node_unref0 (_tmp74_);
									_g_free0 (_tmp73_);
									_vala_ccode_node_unref0 (_tmp72_);
									_g_free0 (_tmp71_);
								}
							}
						}
					}
					_vala_code_node_unref0 (array_type);
				} else {
					if (VALA_IS_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
						ValaDelegateType* deleg_type;
						deleg_type = _vala_code_node_ref0 (VALA_DELEGATE_TYPE (vala_variable_get_variable_type ((ValaVariable*) param)));
						if (vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (deleg_type))) {
							char* _tmp77_;
							char* _tmp78_;
							ValaCCodeMemberAccess* _tmp79_;
							char* _tmp80_;
							char* _tmp81_;
							ValaCCodeIdentifier* _tmp82_;
							ValaCCodeAssignment* _tmp83_;
							ValaCCodeExpressionStatement* _tmp84_;
							vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp84_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp83_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp79_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp78_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, _tmp77_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))))), (ValaCCodeExpression*) (_tmp82_ = vala_ccode_identifier_new (_tmp81_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, _tmp80_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
							_vala_ccode_node_unref0 (_tmp84_);
							_vala_ccode_node_unref0 (_tmp83_);
							_vala_ccode_node_unref0 (_tmp82_);
							_g_free0 (_tmp81_);
							_g_free0 (_tmp80_);
							_vala_ccode_node_unref0 (_tmp79_);
							_g_free0 (_tmp78_);
							_g_free0 (_tmp77_);
							if (vala_data_type_get_value_owned ((ValaDataType*) deleg_type)) {
								char* _tmp85_;
								char* _tmp86_;
								ValaCCodeMemberAccess* _tmp87_;
								char* _tmp88_;
								char* _tmp89_;
								ValaCCodeIdentifier* _tmp90_;
								ValaCCodeAssignment* _tmp91_;
								ValaCCodeExpressionStatement* _tmp92_;
								vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp92_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp91_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp87_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp86_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, _tmp85_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))))), (ValaCCodeExpression*) (_tmp90_ = vala_ccode_identifier_new (_tmp89_ = vala_ccode_base_module_get_delegate_target_destroy_notify_cname ((ValaCCodeBaseModule*) self, _tmp88_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param))))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
								_vala_ccode_node_unref0 (_tmp92_);
								_vala_ccode_node_unref0 (_tmp91_);
								_vala_ccode_node_unref0 (_tmp90_);
								_g_free0 (_tmp89_);
								_g_free0 (_tmp88_);
								_vala_ccode_node_unref0 (_tmp87_);
								_g_free0 (_tmp86_);
								_g_free0 (_tmp85_);
							}
						}
						_vala_code_node_unref0 (deleg_type);
					}
				}
				_vala_ccode_node_unref0 (cparam);
				_vala_code_node_unref0 (param_type);
			}
			_vala_code_node_unref0 (param);
		}
		_vala_collection_object_unref0 (_param_it);
	}
	cfrag = vala_ccode_fragment_new ();
	vala_ccode_base_module_append_temp_decl ((ValaCCodeBaseModule*) self, cfrag, (ValaList*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_collection_clear ((ValaCollection*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) cfrag);
	ccall = (_tmp96_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp95_ = vala_ccode_identifier_new (_tmp94_ = g_strconcat (_tmp93_ = vala_method_get_real_cname (m), "_co", NULL)))), _vala_ccode_node_unref0 (_tmp95_), _g_free0 (_tmp94_), _g_free0 (_tmp93_), _tmp96_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) data_var);
	vala_ccode_block_add_statement (asyncblock, (ValaCCodeNode*) (_tmp97_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp97_);
	vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, (double) (-1), FALSE)), _tmp98_ = vala_ccode_formal_parameter_new ("_callback_", "GAsyncReadyCallback"));
	_vala_ccode_node_unref0 (_tmp98_);
	vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, -0.9, FALSE)), _tmp99_ = vala_ccode_formal_parameter_new ("_user_data_", "gpointer"));
	_vala_ccode_node_unref0 (_tmp99_);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->source_declarations, (ValaMap*) cparam_map, asyncfunc, NULL, NULL, NULL, 1);
	if (vala_method_get_base_method (m) != NULL) {
		_tmp100_ = TRUE;
	} else {
		_tmp100_ = vala_method_get_base_interface_method (m) != NULL;
	}
	if (_tmp100_) {
		ValaCCodeFunction* _tmp101_;
		vala_ccode_function_set_modifiers (asyncfunc, vala_ccode_function_get_modifiers (asyncfunc) | VALA_CCODE_MODIFIERS_STATIC);
		vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp101_ = vala_ccode_function_copy (asyncfunc)));
		_vala_ccode_node_unref0 (_tmp101_);
	} else {
		if (vala_symbol_is_private_symbol ((ValaSymbol*) m)) {
			vala_ccode_function_set_modifiers (asyncfunc, vala_ccode_function_get_modifiers (asyncfunc) | VALA_CCODE_MODIFIERS_STATIC);
		}
	}
	vala_ccode_function_set_block (asyncfunc, asyncblock);
	result = asyncfunc;
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (cfrag);
	_vala_ccode_node_unref0 (set_op_res_call);
	_vala_code_node_unref0 (cl);
	_vala_ccode_node_unref0 (create_result);
	_vala_ccode_node_unref0 (datadecl);
	_vala_ccode_node_unref0 (data_var);
	_vala_ccode_node_unref0 (dataalloc);
	_vala_collection_object_unref0 (cparam_map);
	_g_free0 (dataname);
	_vala_ccode_node_unref0 (asyncblock);
	return result;
}


static glong string_get_length (const char* self) {
	glong result;
	g_return_val_if_fail (self != NULL, 0L);
	result = g_utf8_strlen (self, (gssize) (-1));
	return result;
}


static char* string_substring (const char* self, glong offset, glong len) {
	char* result = NULL;
	glong string_length;
	const char* start;
	g_return_val_if_fail (self != NULL, NULL);
	string_length = string_get_length (self);
	if (offset < 0) {
		offset = string_length + offset;
		g_return_val_if_fail (offset >= 0, NULL);
	} else {
		g_return_val_if_fail (offset <= string_length, NULL);
	}
	if (len < 0) {
		len = string_length - offset;
	}
	g_return_val_if_fail ((offset + len) <= string_length, NULL);
	start = g_utf8_offset_to_pointer (self, offset);
	result = g_strndup (start, ((gchar*) g_utf8_offset_to_pointer (start, len)) - ((gchar*) start));
	return result;
}


static void vala_gasync_module_append_struct (ValaGAsyncModule* self, ValaCCodeStruct* structure) {
	char* _tmp0_;
	ValaCCodeVariableDeclarator* _tmp1_;
	ValaCCodeVariableDeclarator* typename;
	char* _tmp2_;
	ValaCCodeTypeDefinition* _tmp3_;
	ValaCCodeTypeDefinition* _typedef_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (structure != NULL);
	typename = (_tmp1_ = vala_ccode_variable_declarator_new (_tmp0_ = string_substring (vala_ccode_struct_get_name (structure), (glong) 1, -1), NULL, NULL), _g_free0 (_tmp0_), _tmp1_);
	_typedef_ = (_tmp3_ = vala_ccode_type_definition_new (_tmp2_ = g_strconcat ("struct ", vala_ccode_struct_get_name (structure), NULL), (ValaCCodeDeclarator*) typename), _g_free0 (_tmp2_), _tmp3_);
	vala_ccode_declaration_space_add_type_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) _typedef_);
	vala_ccode_declaration_space_add_type_definition (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) structure);
	_vala_ccode_node_unref0 (_typedef_);
	_vala_ccode_node_unref0 (typename);
}


static void vala_gasync_module_append_function (ValaGAsyncModule* self, ValaCCodeFunction* function) {
	ValaCCodeBlock* block;
	ValaCCodeFunction* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (function != NULL);
	block = _vala_ccode_node_ref0 (vala_ccode_function_get_block (function));
	vala_ccode_function_set_block (function, NULL);
	vala_ccode_declaration_space_add_type_member_declaration (((ValaCCodeBaseModule*) self)->source_declarations, (ValaCCodeNode*) (_tmp0_ = vala_ccode_function_copy (function)));
	_vala_ccode_node_unref0 (_tmp0_);
	vala_ccode_function_set_block (function, block);
	vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) function);
	_vala_ccode_node_unref0 (block);
}


static void vala_gasync_module_real_generate_method_declaration (ValaCCodeBaseModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space) {
	ValaGAsyncModule * self;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (m != NULL);
	g_return_if_fail (decl_space != NULL);
	if (vala_method_get_coroutine (m)) {
		char* _tmp0_;
		gboolean _tmp1_;
		char* _tmp2_;
		ValaCCodeFunction* _tmp3_;
		ValaCCodeFunction* asyncfunc;
		ValaHashMap* cparam_map;
		ValaCCodeFormalParameter* _tmp4_;
		ValaCCodeFormalParameter* _tmp5_;
		char* _tmp6_;
		ValaCCodeFunction* _tmp7_;
		ValaCCodeFunction* finishfunc;
		ValaHashMap* _tmp8_;
		ValaCCodeFormalParameter* _tmp9_;
		if ((_tmp1_ = vala_ccode_declaration_space_add_symbol_declaration (decl_space, (ValaSymbol*) m, _tmp0_ = vala_method_get_cname (m)), _g_free0 (_tmp0_), _tmp1_)) {
			return;
		}
		asyncfunc = (_tmp3_ = vala_ccode_function_new (_tmp2_ = vala_method_get_cname (m), "void"), _g_free0 (_tmp2_), _tmp3_);
		cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
		vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, (double) (-1), FALSE)), _tmp4_ = vala_ccode_formal_parameter_new ("_callback_", "GAsyncReadyCallback"));
		_vala_ccode_node_unref0 (_tmp4_);
		vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, -0.9, FALSE)), _tmp5_ = vala_ccode_formal_parameter_new ("_user_data_", "gpointer"));
		_vala_ccode_node_unref0 (_tmp5_);
		vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, decl_space, (ValaMap*) cparam_map, asyncfunc, NULL, NULL, NULL, 1);
		if (vala_symbol_is_private_symbol ((ValaSymbol*) m)) {
			vala_ccode_function_set_modifiers (asyncfunc, vala_ccode_function_get_modifiers (asyncfunc) | VALA_CCODE_MODIFIERS_STATIC);
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) asyncfunc);
		finishfunc = (_tmp7_ = vala_ccode_function_new (_tmp6_ = vala_method_get_finish_cname (m), "void"), _g_free0 (_tmp6_), _tmp7_);
		cparam_map = (_tmp8_ = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal), _vala_collection_object_unref0 (cparam_map), _tmp8_);
		vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, 0.1, FALSE)), _tmp9_ = vala_ccode_formal_parameter_new ("_res_", "GAsyncResult*"));
		_vala_ccode_node_unref0 (_tmp9_);
		vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, decl_space, (ValaMap*) cparam_map, finishfunc, NULL, NULL, NULL, 2);
		if (vala_symbol_is_private_symbol ((ValaSymbol*) m)) {
			vala_ccode_function_set_modifiers (finishfunc, vala_ccode_function_get_modifiers (finishfunc) | VALA_CCODE_MODIFIERS_STATIC);
		}
		vala_ccode_declaration_space_add_type_member_declaration (decl_space, (ValaCCodeNode*) finishfunc);
		_vala_ccode_node_unref0 (finishfunc);
		_vala_collection_object_unref0 (cparam_map);
		_vala_ccode_node_unref0 (asyncfunc);
	} else {
		VALA_CCODE_BASE_MODULE_CLASS (vala_gasync_module_parent_class)->generate_method_declaration ((ValaCCodeBaseModule*) VALA_GSIGNAL_MODULE (self), m, decl_space);
	}
}


static void vala_gasync_module_real_visit_method (ValaCodeVisitor* base, ValaMethod* m) {
	ValaGAsyncModule * self;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (m != NULL);
	if (vala_method_get_coroutine (m)) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp7_ = FALSE;
		vala_ccode_declaration_space_add_include (((ValaCCodeBaseModule*) self)->source_declarations, "gio/gio.h", FALSE);
		if (!vala_symbol_is_internal_symbol ((ValaSymbol*) m)) {
			vala_ccode_declaration_space_add_include (((ValaCCodeBaseModule*) self)->header_declarations, "gio/gio.h", FALSE);
		}
		if (!vala_method_get_is_abstract (m)) {
			_tmp0_ = vala_method_get_body (m) != NULL;
		} else {
			_tmp0_ = FALSE;
		}
		if (_tmp0_) {
			ValaCCodeStruct* data;
			ValaCCodeFunction* _tmp1_;
			ValaCCodeFunction* _tmp2_;
			ValaCCodeFunction* _tmp3_;
			ValaCCodeFunction* _tmp4_;
			ValaCCodeStruct* _tmp5_;
			ValaCCodeStruct* _tmp6_;
			data = vala_gasync_module_generate_data_struct (self, m);
			vala_gasync_module_append_function (self, _tmp1_ = vala_gasync_module_generate_free_function (self, m));
			_vala_ccode_node_unref0 (_tmp1_);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp2_ = vala_gasync_module_generate_async_function (self, m)));
			_vala_ccode_node_unref0 (_tmp2_);
			vala_ccode_fragment_append (((ValaCCodeBaseModule*) self)->source_type_member_definition, (ValaCCodeNode*) (_tmp3_ = vala_gasync_module_generate_finish_function (self, m)));
			_vala_ccode_node_unref0 (_tmp3_);
			vala_gasync_module_append_function (self, _tmp4_ = vala_gasync_module_generate_ready_function (self, m));
			_vala_ccode_node_unref0 (_tmp4_);
			((ValaCCodeBaseModule*) self)->closure_struct = (_tmp5_ = _vala_ccode_node_ref0 (data), _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->closure_struct), _tmp5_);
			VALA_CODE_VISITOR_CLASS (vala_gasync_module_parent_class)->visit_method ((ValaCodeVisitor*) VALA_GSIGNAL_MODULE (self), m);
			((ValaCCodeBaseModule*) self)->closure_struct = (_tmp6_ = NULL, _vala_ccode_node_unref0 (((ValaCCodeBaseModule*) self)->closure_struct), _tmp6_);
			vala_gasync_module_append_struct (self, data);
			_vala_ccode_node_unref0 (data);
		} else {
			vala_ccode_base_module_generate_method_declaration ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->source_declarations);
			if (!vala_symbol_is_internal_symbol ((ValaSymbol*) m)) {
				vala_ccode_base_module_generate_method_declaration ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->header_declarations);
			}
			if (!vala_symbol_is_private_symbol ((ValaSymbol*) m)) {
				vala_ccode_base_module_generate_method_declaration ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->internal_header_declarations);
			}
		}
		if (vala_method_get_is_abstract (m)) {
			_tmp7_ = TRUE;
		} else {
			_tmp7_ = vala_method_get_is_virtual (m);
		}
		if (_tmp7_) {
			ValaHashMap* cparam_map;
			ValaHashMap* carg_map;
			ValaVoidType* _tmp8_;
			ValaHashMap* _tmp9_;
			ValaHashMap* _tmp10_;
			cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
			carg_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_EXPRESSION, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
			vala_ccode_method_module_generate_vfunc ((ValaCCodeMethodModule*) self, m, (ValaDataType*) (_tmp8_ = vala_void_type_new (NULL)), (ValaMap*) cparam_map, (ValaMap*) carg_map, "", 1);
			_vala_code_node_unref0 (_tmp8_);
			cparam_map = (_tmp9_ = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal), _vala_collection_object_unref0 (cparam_map), _tmp9_);
			carg_map = (_tmp10_ = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_EXPRESSION, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal), _vala_collection_object_unref0 (carg_map), _tmp10_);
			vala_ccode_method_module_generate_vfunc ((ValaCCodeMethodModule*) self, m, vala_method_get_return_type (m), (ValaMap*) cparam_map, (ValaMap*) carg_map, "_finish", 2);
			_vala_collection_object_unref0 (carg_map);
			_vala_collection_object_unref0 (cparam_map);
		}
	} else {
		VALA_CODE_VISITOR_CLASS (vala_gasync_module_parent_class)->visit_method ((ValaCodeVisitor*) VALA_GSIGNAL_MODULE (self), m);
	}
}


static ValaCCodeFunction* vala_gasync_module_generate_finish_function (ValaGAsyncModule* self, ValaMethod* m) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* _tmp2_;
	char* dataname;
	char* _tmp3_;
	ValaCCodeFunction* _tmp4_;
	ValaCCodeFunction* finishfunc;
	ValaHashMap* cparam_map;
	ValaCCodeBlock* finishblock;
	ValaDataType* return_type;
	gboolean _tmp5_ = FALSE;
	ValaCCodeIdentifier* data_var;
	char* _tmp9_;
	ValaCCodeDeclaration* _tmp10_;
	ValaCCodeDeclaration* datadecl;
	ValaCCodeVariableDeclarator* _tmp11_;
	ValaCCodeIdentifier* _tmp12_;
	ValaCCodeFunctionCall* _tmp13_;
	ValaCCodeFunctionCall* simple_async_result_cast;
	ValaCCodeIdentifier* _tmp14_;
	ValaList* _tmp15_;
	gboolean _tmp16_;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeFunctionCall* _tmp26_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeAssignment* _tmp27_;
	ValaCCodeExpressionStatement* _tmp28_;
	ValaCCodeFragment* cfrag;
	ValaCCodeFormalParameter* _tmp75_;
	gboolean _tmp76_ = FALSE;
	gboolean _tmp77_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	dataname = (_tmp2_ = g_strconcat (_tmp1_ = vala_symbol_lower_case_to_camel_case (_tmp0_ = vala_method_get_cname (m)), "Data", NULL), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	finishfunc = (_tmp4_ = vala_ccode_function_new (_tmp3_ = vala_method_get_finish_real_cname (m), "void"), _g_free0 (_tmp3_), _tmp4_);
	cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
	finishblock = vala_ccode_block_new ();
	return_type = _vala_code_node_ref0 (vala_method_get_return_type (m));
	if (!VALA_IS_VOID_TYPE (return_type)) {
		_tmp5_ = !vala_data_type_is_real_non_null_struct_type (return_type);
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		char* _tmp6_;
		ValaCCodeDeclaration* _tmp7_;
		ValaCCodeDeclaration* _cdecl_;
		ValaCCodeVariableDeclarator* _tmp8_;
		_cdecl_ = (_tmp7_ = vala_ccode_declaration_new (_tmp6_ = vala_data_type_get_cname (vala_method_get_return_type (m))), _g_free0 (_tmp6_), _tmp7_);
		vala_ccode_declaration_add_declarator (_cdecl_, (ValaCCodeDeclarator*) (_tmp8_ = vala_ccode_variable_declarator_new ("result", NULL, NULL)));
		_vala_ccode_node_unref0 (_tmp8_);
		vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) _cdecl_);
		_vala_ccode_node_unref0 (_cdecl_);
	}
	data_var = vala_ccode_identifier_new ("_data_");
	datadecl = (_tmp10_ = vala_ccode_declaration_new (_tmp9_ = g_strconcat (dataname, "*", NULL)), _g_free0 (_tmp9_), _tmp10_);
	vala_ccode_declaration_add_declarator (datadecl, (ValaCCodeDeclarator*) (_tmp11_ = vala_ccode_variable_declarator_new ("_data_", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp11_);
	vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) datadecl);
	simple_async_result_cast = (_tmp13_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new ("G_SIMPLE_ASYNC_RESULT"))), _vala_ccode_node_unref0 (_tmp12_), _tmp13_);
	vala_ccode_function_call_add_argument (simple_async_result_cast, (ValaCCodeExpression*) (_tmp14_ = vala_ccode_identifier_new ("_res_")));
	_vala_ccode_node_unref0 (_tmp14_);
	if ((_tmp16_ = vala_collection_get_size ((ValaCollection*) (_tmp15_ = vala_code_node_get_error_types ((ValaCodeNode*) m))) > 0, _vala_collection_object_unref0 (_tmp15_), _tmp16_)) {
		ValaCCodeIdentifier* _tmp17_;
		ValaCCodeFunctionCall* _tmp18_;
		ValaCCodeFunctionCall* propagate_error;
		ValaCCodeIdentifier* _tmp19_;
		ValaCCodeBlock* errorblock;
		gboolean _tmp20_ = FALSE;
		ValaCCodeIfStatement* _tmp24_;
		propagate_error = (_tmp18_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_identifier_new ("g_simple_async_result_propagate_error"))), _vala_ccode_node_unref0 (_tmp17_), _tmp18_);
		vala_ccode_function_call_add_argument (propagate_error, (ValaCCodeExpression*) simple_async_result_cast);
		vala_ccode_function_call_add_argument (propagate_error, (ValaCCodeExpression*) (_tmp19_ = vala_ccode_identifier_new ("error")));
		_vala_ccode_node_unref0 (_tmp19_);
		errorblock = vala_ccode_block_new ();
		if (VALA_IS_VOID_TYPE (return_type)) {
			_tmp20_ = TRUE;
		} else {
			_tmp20_ = vala_data_type_is_real_non_null_struct_type (return_type);
		}
		if (_tmp20_) {
			ValaCCodeReturnStatement* _tmp21_;
			vala_ccode_block_add_statement (errorblock, (ValaCCodeNode*) (_tmp21_ = vala_ccode_return_statement_new (NULL)));
			_vala_ccode_node_unref0 (_tmp21_);
		} else {
			ValaCCodeExpression* _tmp22_;
			ValaCCodeReturnStatement* _tmp23_;
			vala_ccode_block_add_statement (errorblock, (ValaCCodeNode*) (_tmp23_ = vala_ccode_return_statement_new (_tmp22_ = vala_ccode_base_module_default_value_for_type ((ValaCCodeBaseModule*) self, return_type, FALSE))));
			_vala_ccode_node_unref0 (_tmp23_);
			_vala_ccode_node_unref0 (_tmp22_);
		}
		vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp24_ = vala_ccode_if_statement_new ((ValaCCodeExpression*) propagate_error, (ValaCCodeStatement*) errorblock, NULL)));
		_vala_ccode_node_unref0 (_tmp24_);
		_vala_ccode_node_unref0 (errorblock);
		_vala_ccode_node_unref0 (propagate_error);
	}
	ccall = (_tmp26_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("g_simple_async_result_get_op_res_gpointer"))), _vala_ccode_node_unref0 (_tmp25_), _tmp26_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) simple_async_result_cast);
	vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp28_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp27_ = vala_ccode_assignment_new ((ValaCCodeExpression*) data_var, (ValaCCodeExpression*) ccall, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp28_);
	_vala_ccode_node_unref0 (_tmp27_);
	{
		ValaList* _tmp29_;
		ValaIterator* _tmp30_;
		ValaIterator* _param_it;
		_param_it = (_tmp30_ = vala_iterable_iterator ((ValaIterable*) (_tmp29_ = vala_method_get_parameters (m))), _vala_collection_object_unref0 (_tmp29_), _tmp30_);
		while (TRUE) {
			ValaFormalParameter* param;
			if (!vala_iterator_next (_param_it)) {
				break;
			}
			param = (ValaFormalParameter*) vala_iterator_get (_param_it);
			if (vala_formal_parameter_get_direction (param) != VALA_PARAMETER_DIRECTION_IN) {
				ValaCCodeIdentifier* _tmp31_;
				ValaCCodeUnaryExpression* _tmp32_;
				char* _tmp33_;
				ValaCCodeMemberAccess* _tmp34_;
				ValaCCodeAssignment* _tmp35_;
				ValaCCodeExpressionStatement* _tmp36_;
				gboolean _tmp37_ = FALSE;
				vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp36_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp35_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp32_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (ValaCCodeExpression*) (_tmp31_ = vala_ccode_identifier_new (vala_symbol_get_name ((ValaSymbol*) param))))), (ValaCCodeExpression*) (_tmp34_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp33_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp36_);
				_vala_ccode_node_unref0 (_tmp35_);
				_vala_ccode_node_unref0 (_tmp34_);
				_g_free0 (_tmp33_);
				_vala_ccode_node_unref0 (_tmp32_);
				_vala_ccode_node_unref0 (_tmp31_);
				if (!VALA_IS_VALUE_TYPE (vala_variable_get_variable_type ((ValaVariable*) param))) {
					_tmp37_ = TRUE;
				} else {
					_tmp37_ = vala_data_type_get_nullable (vala_variable_get_variable_type ((ValaVariable*) param));
				}
				if (_tmp37_) {
					char* _tmp38_;
					ValaCCodeMemberAccess* _tmp39_;
					ValaCCodeConstant* _tmp40_;
					ValaCCodeAssignment* _tmp41_;
					ValaCCodeExpressionStatement* _tmp42_;
					vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp42_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp41_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp39_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp38_ = vala_ccode_base_module_get_variable_cname ((ValaCCodeBaseModule*) self, vala_symbol_get_name ((ValaSymbol*) param)))), (ValaCCodeExpression*) (_tmp40_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp42_);
					_vala_ccode_node_unref0 (_tmp41_);
					_vala_ccode_node_unref0 (_tmp40_);
					_vala_ccode_node_unref0 (_tmp39_);
					_g_free0 (_tmp38_);
				}
			}
			_vala_code_node_unref0 (param);
		}
		_vala_collection_object_unref0 (_param_it);
	}
	if (vala_data_type_is_real_non_null_struct_type (return_type)) {
		ValaCCodeExpression* cexpr;
		ValaCCodeIdentifier* _tmp44_;
		ValaCCodeUnaryExpression* _tmp45_;
		ValaCCodeAssignment* _tmp46_;
		ValaCCodeExpressionStatement* _tmp47_;
		cexpr = (ValaCCodeExpression*) vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "result");
		if (vala_ccode_base_module_requires_copy ((ValaCCodeBaseModule*) self, return_type)) {
			ValaCCodeExpression* _tmp43_;
			cexpr = (_tmp43_ = vala_ccode_base_module_get_ref_cexpression ((ValaCCodeBaseModule*) self, return_type, cexpr, NULL, (ValaCodeNode*) return_type), _vala_ccode_node_unref0 (cexpr), _tmp43_);
		}
		vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp47_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp46_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp45_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (ValaCCodeExpression*) (_tmp44_ = vala_ccode_identifier_new ("result")))), cexpr, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp47_);
		_vala_ccode_node_unref0 (_tmp46_);
		_vala_ccode_node_unref0 (_tmp45_);
		_vala_ccode_node_unref0 (_tmp44_);
		_vala_ccode_node_unref0 (cexpr);
	} else {
		if (!VALA_IS_VOID_TYPE (return_type)) {
			ValaCCodeIdentifier* _tmp48_;
			ValaCCodeMemberAccess* _tmp49_;
			ValaCCodeAssignment* _tmp50_;
			ValaCCodeExpressionStatement* _tmp51_;
			gboolean _tmp68_ = FALSE;
			ValaCCodeIdentifier* _tmp73_;
			ValaCCodeReturnStatement* _tmp74_;
			vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp51_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp50_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp48_ = vala_ccode_identifier_new ("result")), (ValaCCodeExpression*) (_tmp49_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "result")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
			_vala_ccode_node_unref0 (_tmp51_);
			_vala_ccode_node_unref0 (_tmp50_);
			_vala_ccode_node_unref0 (_tmp49_);
			_vala_ccode_node_unref0 (_tmp48_);
			if (VALA_IS_ARRAY_TYPE (return_type)) {
				ValaArrayType* array_type;
				array_type = _vala_code_node_ref0 (VALA_ARRAY_TYPE (return_type));
				if (!vala_method_get_no_array_length (m)) {
					{
						gint dim;
						dim = 1;
						{
							gboolean _tmp52_;
							_tmp52_ = TRUE;
							while (TRUE) {
								char* _tmp53_;
								ValaCCodeIdentifier* _tmp54_;
								ValaCCodeUnaryExpression* _tmp55_;
								char* _tmp56_;
								ValaCCodeMemberAccess* _tmp57_;
								ValaCCodeAssignment* _tmp58_;
								ValaCCodeExpressionStatement* _tmp59_;
								if (!_tmp52_) {
									dim++;
								}
								_tmp52_ = FALSE;
								if (!(dim <= vala_array_type_get_rank (array_type))) {
									break;
								}
								vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp59_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp58_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp55_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (ValaCCodeExpression*) (_tmp54_ = vala_ccode_identifier_new (_tmp53_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "result", dim))))), (ValaCCodeExpression*) (_tmp57_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp56_ = vala_ccode_base_module_get_array_length_cname ((ValaCCodeBaseModule*) self, "result", dim))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
								_vala_ccode_node_unref0 (_tmp59_);
								_vala_ccode_node_unref0 (_tmp58_);
								_vala_ccode_node_unref0 (_tmp57_);
								_g_free0 (_tmp56_);
								_vala_ccode_node_unref0 (_tmp55_);
								_vala_ccode_node_unref0 (_tmp54_);
								_g_free0 (_tmp53_);
							}
						}
					}
				}
				_vala_code_node_unref0 (array_type);
			} else {
				gboolean _tmp60_ = FALSE;
				if (VALA_IS_DELEGATE_TYPE (return_type)) {
					_tmp60_ = vala_delegate_get_has_target (vala_delegate_type_get_delegate_symbol (VALA_DELEGATE_TYPE (return_type)));
				} else {
					_tmp60_ = FALSE;
				}
				if (_tmp60_) {
					char* _tmp61_;
					ValaCCodeIdentifier* _tmp62_;
					ValaCCodeUnaryExpression* _tmp63_;
					char* _tmp64_;
					ValaCCodeMemberAccess* _tmp65_;
					ValaCCodeAssignment* _tmp66_;
					ValaCCodeExpressionStatement* _tmp67_;
					vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp67_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp66_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp63_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (ValaCCodeExpression*) (_tmp62_ = vala_ccode_identifier_new (_tmp61_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, "result"))))), (ValaCCodeExpression*) (_tmp65_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, _tmp64_ = vala_ccode_base_module_get_delegate_target_cname ((ValaCCodeBaseModule*) self, "result"))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
					_vala_ccode_node_unref0 (_tmp67_);
					_vala_ccode_node_unref0 (_tmp66_);
					_vala_ccode_node_unref0 (_tmp65_);
					_g_free0 (_tmp64_);
					_vala_ccode_node_unref0 (_tmp63_);
					_vala_ccode_node_unref0 (_tmp62_);
					_g_free0 (_tmp61_);
				}
			}
			if (!VALA_IS_VALUE_TYPE (return_type)) {
				_tmp68_ = TRUE;
			} else {
				_tmp68_ = vala_data_type_get_nullable (return_type);
			}
			if (_tmp68_) {
				ValaCCodeMemberAccess* _tmp69_;
				ValaCCodeConstant* _tmp70_;
				ValaCCodeAssignment* _tmp71_;
				ValaCCodeExpressionStatement* _tmp72_;
				vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp72_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp71_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp69_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) data_var, "result")), (ValaCCodeExpression*) (_tmp70_ = vala_ccode_constant_new ("NULL")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
				_vala_ccode_node_unref0 (_tmp72_);
				_vala_ccode_node_unref0 (_tmp71_);
				_vala_ccode_node_unref0 (_tmp70_);
				_vala_ccode_node_unref0 (_tmp69_);
			}
			vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) (_tmp74_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp73_ = vala_ccode_identifier_new ("result")))));
			_vala_ccode_node_unref0 (_tmp74_);
			_vala_ccode_node_unref0 (_tmp73_);
		}
	}
	cfrag = vala_ccode_fragment_new ();
	vala_ccode_base_module_append_temp_decl ((ValaCCodeBaseModule*) self, cfrag, (ValaList*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_collection_clear ((ValaCollection*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_ccode_block_add_statement (finishblock, (ValaCCodeNode*) cfrag);
	vala_map_set ((ValaMap*) cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, 0.1, FALSE)), _tmp75_ = vala_ccode_formal_parameter_new ("_res_", "GAsyncResult*"));
	_vala_ccode_node_unref0 (_tmp75_);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, ((ValaCCodeBaseModule*) self)->source_declarations, (ValaMap*) cparam_map, finishfunc, NULL, NULL, NULL, 2);
	if (vala_symbol_is_private_symbol ((ValaSymbol*) m)) {
		_tmp77_ = TRUE;
	} else {
		_tmp77_ = vala_method_get_base_method (m) != NULL;
	}
	if (_tmp77_) {
		_tmp76_ = TRUE;
	} else {
		_tmp76_ = vala_method_get_base_interface_method (m) != NULL;
	}
	if (_tmp76_) {
		vala_ccode_function_set_modifiers (finishfunc, vala_ccode_function_get_modifiers (finishfunc) | VALA_CCODE_MODIFIERS_STATIC);
	}
	vala_ccode_function_set_block (finishfunc, finishblock);
	result = finishfunc;
	_vala_ccode_node_unref0 (cfrag);
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (simple_async_result_cast);
	_vala_ccode_node_unref0 (datadecl);
	_vala_ccode_node_unref0 (data_var);
	_vala_code_node_unref0 (return_type);
	_vala_ccode_node_unref0 (finishblock);
	_vala_collection_object_unref0 (cparam_map);
	_g_free0 (dataname);
	return result;
}


static ValaCCodeFunction* vala_gasync_module_generate_ready_function (ValaGAsyncModule* self, ValaMethod* m) {
	ValaCCodeFunction* result = NULL;
	char* _tmp0_;
	char* _tmp1_;
	char* _tmp2_;
	char* dataname;
	char* _tmp3_;
	char* _tmp4_;
	ValaCCodeFunction* _tmp5_;
	ValaCCodeFunction* readyfunc;
	ValaCCodeFormalParameter* _tmp6_;
	ValaCCodeFormalParameter* _tmp7_;
	ValaCCodeFormalParameter* _tmp8_;
	ValaCCodeBlock* readyblock;
	char* _tmp9_;
	ValaCCodeDeclaration* _tmp10_;
	ValaCCodeDeclaration* datadecl;
	ValaCCodeVariableDeclarator* _tmp11_;
	ValaCCodeIdentifier* _tmp12_;
	ValaCCodeIdentifier* _tmp13_;
	ValaCCodeAssignment* _tmp14_;
	ValaCCodeExpressionStatement* _tmp15_;
	ValaCCodeIdentifier* _tmp16_;
	ValaCCodeMemberAccess* _tmp17_;
	ValaCCodeIdentifier* _tmp18_;
	ValaCCodeAssignment* _tmp19_;
	ValaCCodeExpressionStatement* _tmp20_;
	char* _tmp21_;
	char* _tmp22_;
	ValaCCodeIdentifier* _tmp23_;
	ValaCCodeFunctionCall* _tmp24_;
	ValaCCodeFunctionCall* ccall;
	ValaCCodeIdentifier* _tmp25_;
	ValaCCodeExpressionStatement* _tmp26_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (m != NULL, NULL);
	dataname = (_tmp2_ = g_strconcat (_tmp1_ = vala_symbol_lower_case_to_camel_case (_tmp0_ = vala_method_get_cname (m)), "Data", NULL), _g_free0 (_tmp1_), _g_free0 (_tmp0_), _tmp2_);
	readyfunc = (_tmp5_ = vala_ccode_function_new (_tmp4_ = g_strconcat (_tmp3_ = vala_method_get_cname (m), "_ready", NULL), "void"), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _tmp5_);
	vala_ccode_function_add_parameter (readyfunc, _tmp6_ = vala_ccode_formal_parameter_new ("source_object", "GObject*"));
	_vala_ccode_node_unref0 (_tmp6_);
	vala_ccode_function_add_parameter (readyfunc, _tmp7_ = vala_ccode_formal_parameter_new ("_res_", "GAsyncResult*"));
	_vala_ccode_node_unref0 (_tmp7_);
	vala_ccode_function_add_parameter (readyfunc, _tmp8_ = vala_ccode_formal_parameter_new ("_user_data_", "gpointer"));
	_vala_ccode_node_unref0 (_tmp8_);
	readyblock = vala_ccode_block_new ();
	datadecl = (_tmp10_ = vala_ccode_declaration_new (_tmp9_ = g_strconcat (dataname, "*", NULL)), _g_free0 (_tmp9_), _tmp10_);
	vala_ccode_declaration_add_declarator (datadecl, (ValaCCodeDeclarator*) (_tmp11_ = vala_ccode_variable_declarator_new ("data", NULL, NULL)));
	_vala_ccode_node_unref0 (_tmp11_);
	vala_ccode_block_add_statement (readyblock, (ValaCCodeNode*) datadecl);
	vala_ccode_block_add_statement (readyblock, (ValaCCodeNode*) (_tmp15_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp14_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp12_ = vala_ccode_identifier_new ("data")), (ValaCCodeExpression*) (_tmp13_ = vala_ccode_identifier_new ("_user_data_")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp15_);
	_vala_ccode_node_unref0 (_tmp14_);
	_vala_ccode_node_unref0 (_tmp13_);
	_vala_ccode_node_unref0 (_tmp12_);
	vala_ccode_block_add_statement (readyblock, (ValaCCodeNode*) (_tmp20_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp19_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp17_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp16_ = vala_ccode_identifier_new ("data")), "_res_")), (ValaCCodeExpression*) (_tmp18_ = vala_ccode_identifier_new ("_res_")), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
	_vala_ccode_node_unref0 (_tmp20_);
	_vala_ccode_node_unref0 (_tmp19_);
	_vala_ccode_node_unref0 (_tmp18_);
	_vala_ccode_node_unref0 (_tmp17_);
	_vala_ccode_node_unref0 (_tmp16_);
	ccall = (_tmp24_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp23_ = vala_ccode_identifier_new (_tmp22_ = g_strconcat (_tmp21_ = vala_method_get_real_cname (m), "_co", NULL)))), _vala_ccode_node_unref0 (_tmp23_), _g_free0 (_tmp22_), _g_free0 (_tmp21_), _tmp24_);
	vala_ccode_function_call_add_argument (ccall, (ValaCCodeExpression*) (_tmp25_ = vala_ccode_identifier_new ("data")));
	_vala_ccode_node_unref0 (_tmp25_);
	vala_ccode_block_add_statement (readyblock, (ValaCCodeNode*) (_tmp26_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) ccall)));
	_vala_ccode_node_unref0 (_tmp26_);
	vala_ccode_function_set_modifiers (readyfunc, vala_ccode_function_get_modifiers (readyfunc) | VALA_CCODE_MODIFIERS_STATIC);
	vala_ccode_function_set_block (readyfunc, readyblock);
	result = readyfunc;
	_vala_ccode_node_unref0 (ccall);
	_vala_ccode_node_unref0 (datadecl);
	_vala_ccode_node_unref0 (readyblock);
	_g_free0 (dataname);
	return result;
}


static void vala_gasync_module_real_generate_virtual_method_declaration (ValaGTypeModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaCCodeStruct* type_struct) {
	ValaGAsyncModule * self;
	gboolean _tmp0_ = FALSE;
	ValaDataType* creturn_type;
	ValaCCodeFunctionDeclarator* vdeclarator;
	ValaHashMap* cparam_map;
	ValaCCodeFunction* _tmp2_;
	ValaCCodeDeclaration* vdecl;
	char* _tmp3_;
	ValaCCodeFunctionDeclarator* _tmp4_;
	ValaHashMap* _tmp5_;
	ValaCCodeFunction* _tmp6_;
	char* _tmp7_;
	ValaCCodeDeclaration* _tmp8_;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (m != NULL);
	g_return_if_fail (decl_space != NULL);
	g_return_if_fail (type_struct != NULL);
	if (!vala_method_get_coroutine (m)) {
		VALA_GTYPE_MODULE_CLASS (vala_gasync_module_parent_class)->generate_virtual_method_declaration ((ValaGTypeModule*) VALA_GSIGNAL_MODULE (self), m, decl_space, type_struct);
		return;
	}
	if (!vala_method_get_is_abstract (m)) {
		_tmp0_ = !vala_method_get_is_virtual (m);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		return;
	}
	creturn_type = _vala_code_node_ref0 (vala_method_get_return_type (m));
	if (vala_data_type_is_real_non_null_struct_type (vala_method_get_return_type (m))) {
		ValaDataType* _tmp1_;
		creturn_type = (_tmp1_ = (ValaDataType*) vala_void_type_new (NULL), _vala_code_node_unref0 (creturn_type), _tmp1_);
	}
	vdeclarator = vala_ccode_function_declarator_new (vala_method_get_vfunc_name (m));
	cparam_map = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, decl_space, (ValaMap*) cparam_map, _tmp2_ = vala_ccode_function_new ("fake", "void"), vdeclarator, NULL, NULL, 1);
	_vala_ccode_node_unref0 (_tmp2_);
	vdecl = vala_ccode_declaration_new ("void");
	vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
	vala_ccode_struct_add_declaration (type_struct, vdecl);
	vdeclarator = (_tmp4_ = vala_ccode_function_declarator_new (_tmp3_ = vala_method_get_finish_vfunc_name (m)), _vala_ccode_node_unref0 (vdeclarator), _tmp4_);
	_g_free0 (_tmp3_);
	cparam_map = (_tmp5_ = vala_hash_map_new (G_TYPE_INT, NULL, NULL, VALA_TYPE_CCODE_FORMAL_PARAMETER, (GBoxedCopyFunc) vala_ccode_node_ref, vala_ccode_node_unref, g_direct_hash, g_direct_equal, g_direct_equal), _vala_collection_object_unref0 (cparam_map), _tmp5_);
	vala_ccode_base_module_generate_cparameters ((ValaCCodeBaseModule*) self, m, decl_space, (ValaMap*) cparam_map, _tmp6_ = vala_ccode_function_new ("fake", "void"), vdeclarator, NULL, NULL, 2);
	_vala_ccode_node_unref0 (_tmp6_);
	vdecl = (_tmp8_ = vala_ccode_declaration_new (_tmp7_ = vala_data_type_get_cname (creturn_type)), _vala_ccode_node_unref0 (vdecl), _tmp8_);
	_g_free0 (_tmp7_);
	vala_ccode_declaration_add_declarator (vdecl, (ValaCCodeDeclarator*) vdeclarator);
	vala_ccode_struct_add_declaration (type_struct, vdecl);
	_vala_ccode_node_unref0 (vdecl);
	_vala_collection_object_unref0 (cparam_map);
	_vala_ccode_node_unref0 (vdeclarator);
	_vala_code_node_unref0 (creturn_type);
}


static void vala_gasync_module_real_visit_yield_statement (ValaCodeVisitor* base, ValaYieldStatement* stmt) {
	ValaGAsyncModule * self;
	gboolean _tmp0_ = FALSE;
	ValaCCodeExpressionStatement* _tmp18_;
	gboolean _tmp19_ = FALSE;
	ValaCCodeFragment* cfrag;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (stmt != NULL);
	if (vala_ccode_base_module_get_current_method ((ValaCCodeBaseModule*) self) == NULL) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = !vala_method_get_coroutine (vala_ccode_base_module_get_current_method ((ValaCCodeBaseModule*) self));
	}
	if (_tmp0_) {
		ValaCCodeEmptyStatement* _tmp1_;
		vala_code_node_set_ccodenode ((ValaCodeNode*) stmt, (ValaCCodeNode*) (_tmp1_ = vala_ccode_empty_statement_new ()));
		_vala_ccode_node_unref0 (_tmp1_);
		return;
	}
	if (vala_yield_statement_get_yield_expression (stmt) == NULL) {
		ValaCCodeFragment* cfrag;
		gint state;
		char* _tmp2_;
		ValaCCodeConstant* _tmp3_;
		ValaCCodeCaseStatement* _tmp4_;
		char* _tmp5_;
		ValaCCodeGotoStatement* _tmp6_;
		ValaCCodeIdentifier* _tmp7_;
		ValaCCodeMemberAccess* _tmp8_;
		char* _tmp9_;
		ValaCCodeConstant* _tmp10_;
		ValaCCodeAssignment* _tmp11_;
		ValaCCodeExpressionStatement* _tmp12_;
		ValaCCodeConstant* _tmp13_;
		ValaCCodeReturnStatement* _tmp14_;
		char* _tmp15_;
		ValaCCodeLabel* _tmp16_;
		ValaCCodeEmptyStatement* _tmp17_;
		cfrag = vala_ccode_fragment_new ();
		vala_code_node_set_ccodenode ((ValaCodeNode*) stmt, (ValaCCodeNode*) cfrag);
		state = ((ValaCCodeBaseModule*) self)->next_coroutine_state++;
		vala_ccode_block_add_statement ((ValaCCodeBlock*) vala_ccode_base_module_get_state_switch_statement ((ValaCCodeBaseModule*) self), (ValaCCodeNode*) (_tmp4_ = vala_ccode_case_statement_new ((ValaCCodeExpression*) (_tmp3_ = vala_ccode_constant_new (_tmp2_ = g_strdup_printf ("%i", state))))));
		_vala_ccode_node_unref0 (_tmp4_);
		_vala_ccode_node_unref0 (_tmp3_);
		_g_free0 (_tmp2_);
		vala_ccode_block_add_statement ((ValaCCodeBlock*) vala_ccode_base_module_get_state_switch_statement ((ValaCCodeBaseModule*) self), (ValaCCodeNode*) (_tmp6_ = vala_ccode_goto_statement_new (_tmp5_ = g_strdup_printf ("_state_%d", state))));
		_vala_ccode_node_unref0 (_tmp6_);
		_g_free0 (_tmp5_);
		vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp12_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) (_tmp11_ = vala_ccode_assignment_new ((ValaCCodeExpression*) (_tmp8_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp7_ = vala_ccode_identifier_new ("data")), "_state_")), (ValaCCodeExpression*) (_tmp10_ = vala_ccode_constant_new (_tmp9_ = g_strdup_printf ("%i", state))), VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE)))));
		_vala_ccode_node_unref0 (_tmp12_);
		_vala_ccode_node_unref0 (_tmp11_);
		_vala_ccode_node_unref0 (_tmp10_);
		_g_free0 (_tmp9_);
		_vala_ccode_node_unref0 (_tmp8_);
		_vala_ccode_node_unref0 (_tmp7_);
		vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp14_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) (_tmp13_ = vala_ccode_constant_new ("FALSE")))));
		_vala_ccode_node_unref0 (_tmp14_);
		_vala_ccode_node_unref0 (_tmp13_);
		vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp16_ = vala_ccode_label_new (_tmp15_ = g_strdup_printf ("_state_%d", state))));
		_vala_ccode_node_unref0 (_tmp16_);
		_g_free0 (_tmp15_);
		vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp17_ = vala_ccode_empty_statement_new ()));
		_vala_ccode_node_unref0 (_tmp17_);
		_vala_ccode_node_unref0 (cfrag);
		return;
	}
	if (vala_code_node_get_error ((ValaCodeNode*) vala_yield_statement_get_yield_expression (stmt))) {
		vala_code_node_set_error ((ValaCodeNode*) stmt, TRUE);
		return;
	}
	vala_code_node_set_ccodenode ((ValaCodeNode*) stmt, (ValaCCodeNode*) (_tmp18_ = vala_ccode_expression_statement_new (VALA_CCODE_EXPRESSION (vala_code_node_get_ccodenode ((ValaCodeNode*) vala_yield_statement_get_yield_expression (stmt))))));
	_vala_ccode_node_unref0 (_tmp18_);
	if (vala_code_node_get_tree_can_fail ((ValaCodeNode*) stmt)) {
		_tmp19_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) vala_yield_statement_get_yield_expression (stmt));
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		ValaCCodeFragment* cfrag;
		cfrag = vala_ccode_fragment_new ();
		vala_ccode_fragment_append (cfrag, vala_code_node_get_ccodenode ((ValaCodeNode*) stmt));
		vala_ccode_base_module_add_simple_check ((ValaCCodeBaseModule*) self, (ValaCodeNode*) vala_yield_statement_get_yield_expression (stmt), cfrag, FALSE);
		vala_code_node_set_ccodenode ((ValaCodeNode*) stmt, (ValaCCodeNode*) cfrag);
		_vala_ccode_node_unref0 (cfrag);
	}
	if (vala_collection_get_size ((ValaCollection*) VALA_LIST (vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self))) == 0) {
		return;
	}
	cfrag = vala_ccode_fragment_new ();
	vala_ccode_base_module_append_temp_decl ((ValaCCodeBaseModule*) self, cfrag, (ValaList*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_ccode_fragment_append (cfrag, vala_code_node_get_ccodenode ((ValaCodeNode*) stmt));
	{
		ValaIterator* _local_it;
		_local_it = vala_iterable_iterator ((ValaIterable*) vala_ccode_base_module_get_temp_ref_vars ((ValaCCodeBaseModule*) self));
		while (TRUE) {
			ValaLocalVariable* local;
			ValaMemberAccess* ma;
			ValaCCodeIdentifier* _tmp20_;
			ValaCCodeExpression* _tmp21_;
			ValaCCodeExpressionStatement* _tmp22_;
			if (!vala_iterator_next (_local_it)) {
				break;
			}
			local = (ValaLocalVariable*) vala_iterator_get (_local_it);
			ma = vala_member_access_new_simple (vala_symbol_get_name ((ValaSymbol*) local), NULL);
			vala_expression_set_symbol_reference ((ValaExpression*) ma, (ValaSymbol*) local);
			vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp22_ = vala_ccode_expression_statement_new (_tmp21_ = vala_ccode_base_module_get_unref_expression ((ValaCCodeBaseModule*) self, (ValaCCodeExpression*) (_tmp20_ = vala_ccode_identifier_new (vala_symbol_get_name ((ValaSymbol*) local))), vala_variable_get_variable_type ((ValaVariable*) local), (ValaExpression*) ma, FALSE))));
			_vala_ccode_node_unref0 (_tmp22_);
			_vala_ccode_node_unref0 (_tmp21_);
			_vala_ccode_node_unref0 (_tmp20_);
			_vala_code_node_unref0 (ma);
			_vala_code_node_unref0 (local);
		}
		_vala_collection_object_unref0 (_local_it);
	}
	vala_code_node_set_ccodenode ((ValaCodeNode*) stmt, (ValaCCodeNode*) cfrag);
	vala_collection_clear ((ValaCollection*) vala_ccode_base_module_get_temp_vars ((ValaCCodeBaseModule*) self));
	vala_collection_clear ((ValaCollection*) vala_ccode_base_module_get_temp_ref_vars ((ValaCCodeBaseModule*) self));
	_vala_ccode_node_unref0 (cfrag);
}


static ValaCCodeStatement* vala_gasync_module_real_return_with_exception (ValaGErrorModule* base, ValaCCodeExpression* error_expr) {
	ValaGAsyncModule * self;
	ValaCCodeStatement* result = NULL;
	ValaCCodeBlock* block;
	ValaCCodeIdentifier* _tmp0_;
	ValaCCodeFunctionCall* _tmp1_;
	ValaCCodeFunctionCall* set_error;
	ValaCCodeIdentifier* _tmp2_;
	ValaCCodeMemberAccess* _tmp3_;
	ValaCCodeExpressionStatement* _tmp4_;
	ValaCCodeIdentifier* _tmp5_;
	ValaCCodeFunctionCall* _tmp6_;
	ValaCCodeFunctionCall* free_error;
	ValaCCodeExpressionStatement* _tmp7_;
	ValaCCodeFragment* free_locals;
	ValaCCodeStatement* _tmp8_;
	self = (ValaGAsyncModule*) base;
	g_return_val_if_fail (error_expr != NULL, NULL);
	if (!vala_method_get_coroutine (vala_ccode_base_module_get_current_method ((ValaCCodeBaseModule*) self))) {
		result = VALA_GERROR_MODULE_CLASS (vala_gasync_module_parent_class)->return_with_exception ((ValaGErrorModule*) VALA_GSIGNAL_MODULE (self), error_expr);
		return result;
	}
	block = vala_ccode_block_new ();
	set_error = (_tmp1_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp0_ = vala_ccode_identifier_new ("g_simple_async_result_set_from_error"))), _vala_ccode_node_unref0 (_tmp0_), _tmp1_);
	vala_ccode_function_call_add_argument (set_error, (ValaCCodeExpression*) (_tmp3_ = vala_ccode_member_access_new_pointer ((ValaCCodeExpression*) (_tmp2_ = vala_ccode_identifier_new ("data")), "_async_result")));
	_vala_ccode_node_unref0 (_tmp3_);
	_vala_ccode_node_unref0 (_tmp2_);
	vala_ccode_function_call_add_argument (set_error, error_expr);
	vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp4_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) set_error)));
	_vala_ccode_node_unref0 (_tmp4_);
	free_error = (_tmp6_ = vala_ccode_function_call_new ((ValaCCodeExpression*) (_tmp5_ = vala_ccode_identifier_new ("g_error_free"))), _vala_ccode_node_unref0 (_tmp5_), _tmp6_);
	vala_ccode_function_call_add_argument (free_error, error_expr);
	vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp7_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) free_error)));
	_vala_ccode_node_unref0 (_tmp7_);
	free_locals = vala_ccode_fragment_new ();
	vala_ccode_base_module_append_local_free ((ValaCCodeBaseModule*) self, vala_ccode_base_module_get_current_symbol ((ValaCCodeBaseModule*) self), free_locals, FALSE);
	vala_ccode_block_add_statement (block, (ValaCCodeNode*) free_locals);
	vala_ccode_block_add_statement (block, (ValaCCodeNode*) (_tmp8_ = vala_ccode_method_module_complete_async ((ValaCCodeMethodModule*) self)));
	_vala_ccode_node_unref0 (_tmp8_);
	result = (ValaCCodeStatement*) block;
	_vala_ccode_node_unref0 (free_locals);
	_vala_ccode_node_unref0 (free_error);
	_vala_ccode_node_unref0 (set_error);
	return result;
}


static void vala_gasync_module_real_visit_return_statement (ValaCodeVisitor* base, ValaReturnStatement* stmt) {
	ValaGAsyncModule * self;
	gboolean _tmp0_ = FALSE;
	ValaCCodeFragment* cfrag;
	ValaCCodeStatement* _tmp1_;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (stmt != NULL);
	VALA_CODE_VISITOR_CLASS (vala_gasync_module_parent_class)->visit_return_statement ((ValaCodeVisitor*) VALA_GSIGNAL_MODULE (self), stmt);
	if (vala_ccode_base_module_get_current_method ((ValaCCodeBaseModule*) self) == NULL) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = !vala_method_get_coroutine (vala_ccode_base_module_get_current_method ((ValaCCodeBaseModule*) self));
	}
	if (_tmp0_) {
		return;
	}
	cfrag = _vala_ccode_node_ref0 (VALA_CCODE_FRAGMENT (vala_code_node_get_ccodenode ((ValaCodeNode*) stmt)));
	vala_ccode_fragment_append (cfrag, (ValaCCodeNode*) (_tmp1_ = vala_ccode_method_module_complete_async ((ValaCCodeMethodModule*) self)));
	_vala_ccode_node_unref0 (_tmp1_);
	_vala_ccode_node_unref0 (cfrag);
}


static void vala_gasync_module_real_generate_cparameters (ValaCCodeBaseModule* base, ValaMethod* m, ValaCCodeDeclarationSpace* decl_space, ValaMap* cparam_map, ValaCCodeFunction* func, ValaCCodeFunctionDeclarator* vdeclarator, ValaMap* carg_map, ValaCCodeFunctionCall* vcall, gint direction) {
	ValaGAsyncModule * self;
	self = (ValaGAsyncModule*) base;
	g_return_if_fail (m != NULL);
	g_return_if_fail (decl_space != NULL);
	g_return_if_fail (cparam_map != NULL);
	g_return_if_fail (func != NULL);
	if (vala_method_get_coroutine (m)) {
		vala_ccode_declaration_space_add_include (decl_space, "gio/gio.h", FALSE);
		if (direction == 1) {
			ValaCCodeFormalParameter* _tmp0_;
			ValaCCodeFormalParameter* _tmp1_;
			vala_map_set (cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, (double) (-1), FALSE)), _tmp0_ = vala_ccode_formal_parameter_new ("_callback_", "GAsyncReadyCallback"));
			_vala_ccode_node_unref0 (_tmp0_);
			vala_map_set (cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, -0.9, FALSE)), _tmp1_ = vala_ccode_formal_parameter_new ("_user_data_", "gpointer"));
			_vala_ccode_node_unref0 (_tmp1_);
			if (carg_map != NULL) {
				ValaCCodeIdentifier* _tmp2_;
				ValaCCodeIdentifier* _tmp3_;
				vala_map_set (carg_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, (double) (-1), FALSE)), (ValaCCodeExpression*) (_tmp2_ = vala_ccode_identifier_new ("_callback_")));
				_vala_ccode_node_unref0 (_tmp2_);
				vala_map_set (carg_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, -0.9, FALSE)), (ValaCCodeExpression*) (_tmp3_ = vala_ccode_identifier_new ("_user_data_")));
				_vala_ccode_node_unref0 (_tmp3_);
			}
		} else {
			if (direction == 2) {
				ValaCCodeFormalParameter* _tmp4_;
				vala_map_set (cparam_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, 0.1, FALSE)), _tmp4_ = vala_ccode_formal_parameter_new ("_res_", "GAsyncResult*"));
				_vala_ccode_node_unref0 (_tmp4_);
				if (carg_map != NULL) {
					ValaCCodeIdentifier* _tmp5_;
					vala_map_set (carg_map, GINT_TO_POINTER (vala_ccode_base_module_get_param_pos ((ValaCCodeBaseModule*) self, 0.1, FALSE)), (ValaCCodeExpression*) (_tmp5_ = vala_ccode_identifier_new ("_res_")));
					_vala_ccode_node_unref0 (_tmp5_);
				}
			}
		}
	}
	VALA_CCODE_BASE_MODULE_CLASS (vala_gasync_module_parent_class)->generate_cparameters ((ValaCCodeBaseModule*) VALA_GSIGNAL_MODULE (self), m, decl_space, cparam_map, func, vdeclarator, carg_map, vcall, direction);
}


ValaGAsyncModule* vala_gasync_module_construct (GType object_type) {
	ValaGAsyncModule* self = NULL;
	self = (ValaGAsyncModule*) vala_gsignal_module_construct (object_type);
	return self;
}


ValaGAsyncModule* vala_gasync_module_new (void) {
	return vala_gasync_module_construct (VALA_TYPE_GASYNC_MODULE);
}


static void vala_gasync_module_class_init (ValaGAsyncModuleClass * klass) {
	vala_gasync_module_parent_class = g_type_class_peek_parent (klass);
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_method_declaration = vala_gasync_module_real_generate_method_declaration;
	VALA_CODE_VISITOR_CLASS (klass)->visit_method = vala_gasync_module_real_visit_method;
	VALA_GTYPE_MODULE_CLASS (klass)->generate_virtual_method_declaration = vala_gasync_module_real_generate_virtual_method_declaration;
	VALA_CODE_VISITOR_CLASS (klass)->visit_yield_statement = vala_gasync_module_real_visit_yield_statement;
	VALA_GERROR_MODULE_CLASS (klass)->return_with_exception = vala_gasync_module_real_return_with_exception;
	VALA_CODE_VISITOR_CLASS (klass)->visit_return_statement = vala_gasync_module_real_visit_return_statement;
	VALA_CCODE_BASE_MODULE_CLASS (klass)->generate_cparameters = vala_gasync_module_real_generate_cparameters;
}


static void vala_gasync_module_instance_init (ValaGAsyncModule * self) {
}


GType vala_gasync_module_get_type (void) {
	static volatile gsize vala_gasync_module_type_id__volatile = 0;
	if (g_once_init_enter (&vala_gasync_module_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ValaGAsyncModuleClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_gasync_module_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaGAsyncModule), 0, (GInstanceInitFunc) vala_gasync_module_instance_init, NULL };
		GType vala_gasync_module_type_id;
		vala_gasync_module_type_id = g_type_register_static (VALA_TYPE_GSIGNAL_MODULE, "ValaGAsyncModule", &g_define_type_info, 0);
		g_once_init_leave (&vala_gasync_module_type_id__volatile, vala_gasync_module_type_id);
	}
	return vala_gasync_module_type_id__volatile;
}




