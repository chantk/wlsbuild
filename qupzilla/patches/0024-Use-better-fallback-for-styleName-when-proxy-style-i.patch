From 79e6aee6a4f5a37b08011f14dcd2985ee20c9747 Mon Sep 17 00:00:00 2001
From: David Rosca <nowrep@gmail.com>
Date: Thu, 11 Jun 2015 21:10:04 +0200
Subject: [PATCH 24/36] Use better fallback for styleName() when proxy style is
 null

---
 src/lib/app/mainapplication.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lib/app/mainapplication.cpp b/src/lib/app/mainapplication.cpp
index f3e67d7..1bfaa35 100644
--- a/src/lib/app/mainapplication.cpp
+++ b/src/lib/app/mainapplication.cpp
@@ -454,7 +454,7 @@ void MainApplication::setProxyStyle(ProxyStyle* style)
 
 QString MainApplication::styleName() const
 {
-    return m_proxyStyle ? m_proxyStyle->baseStyle()->objectName() : QString();
+    return m_proxyStyle ? m_proxyStyle->baseStyle()->objectName() : style()->objectName();
 }
 
 QString MainApplication::currentLanguageFile() const
-- 
2.5.1

