diff -Naur a/base.c b/base.c
--- a/base.c	2012-05-14 10:02:59.000000000 +0700
+++ b/base.c	2012-11-25 21:06:58.930538219 +0700
@@ -317,7 +317,9 @@
 	/* <5> set hw caps */
 	hw->flags = IEEE80211_HW_SIGNAL_DBM |
 	    IEEE80211_HW_RX_INCLUDES_FCS |
+	#if (LINUX_VERSION_CODE < KERNEL_VERSION(3,4,0))
 	    IEEE80211_HW_BEACON_FILTER |
+	#endif
 	    IEEE80211_HW_AMPDU_AGGREGATION |
 	    IEEE80211_HW_REPORTS_TX_ACK_STATUS |
 	    IEEE80211_HW_CONNECTION_MONITOR |
